/*! by kuaishou */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("H5Player",[],e):"object"==typeof exports?exports.H5Player=e():t.H5Player=e()}(window,(function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=147)}([function(t,e,i){var r=i(1),n=i(7),o=i(15),a=i(11),s=i(18),u=function(t,e,i){var c,l,f,d,h=t&u.F,p=t&u.G,_=t&u.S,v=t&u.P,m=t&u.B,g=p?r:_?r[e]||(r[e]={}):(r[e]||{}).prototype,y=p?n:n[e]||(n[e]={}),E=y.prototype||(y.prototype={});for(c in p&&(i=e),i)f=((l=!h&&g&&void 0!==g[c])?g:i)[c],d=m&&l?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,g&&a(g,c,f,t&u.U),y[c]!=f&&o(y,c,d),v&&E[c]!=f&&(E[c]=f)};r.core=n,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var r=i(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var r=i(53)("wks"),n=i(30),o=i(1).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:n)("Symbol."+t))}).store=r},function(t,e,i){var r=i(20),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},function(t,e){var i=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=i)},function(t,e,i){t.exports=!i(2)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,i){var r=i(3),n=i(95),o=i(27),a=Object.defineProperty;e.f=i(8)?Object.defineProperty:function(t,e,i){if(r(t),e=o(e,!0),r(i),n)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var r=i(25);t.exports=function(t){return Object(r(t))}},function(t,e,i){var r=i(1),n=i(15),o=i(14),a=i(30)("src"),s=i(156),u=(""+s).split("toString");i(7).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,i,s){var c="function"==typeof i;c&&(o(i,"name")||n(i,"name",e)),t[e]!==i&&(c&&(o(i,a)||n(i,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=i:s?t[e]?t[e]=i:n(t,e,i):(delete t[e],n(t,e,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e,i){var r=i(0),n=i(2),o=i(25),a=/"/g,s=function(t,e,i,r){var n=String(o(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+n+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(s),r(r.P+r.F*n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",i)}},function(t,e,i){"use strict";var r=i(133),n=Object.prototype.toString;function o(t){return"[object Array]"===n.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===n.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===n.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:a,isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function i(i,r){"object"==typeof e[r]&&"object"==typeof i?e[r]=t(e[r],i):e[r]=i}for(var r=0,n=arguments.length;r<n;r++)c(arguments[r],i);return e},deepMerge:function t(){var e={};function i(i,r){"object"==typeof e[r]&&"object"==typeof i?e[r]=t(e[r],i):e[r]="object"==typeof i?t({},i):i}for(var r=0,n=arguments.length;r<n;r++)c(arguments[r],i);return e},extend:function(t,e,i){return c(e,(function(e,n){t[n]=i&&"function"==typeof e?r(e,i):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var r=i(9),n=i(29);t.exports=i(8)?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var r=i(47),n=i(25);t.exports=function(t){return r(n(t))}},function(t,e,i){"use strict";var r=i(2);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,i){var r=i(19);t.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var i=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},function(t,e,i){var r=i(48),n=i(29),o=i(16),a=i(27),s=i(14),u=i(95),c=Object.getOwnPropertyDescriptor;e.f=i(8)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return n(!r.f.call(t,e),t[e])}},function(t,e,i){var r=i(0),n=i(7),o=i(2);t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t],a={};a[t]=e(i),r(r.S+r.F*o((function(){i(1)})),"Object",a)}},function(t,e,i){var r=i(18),n=i(47),o=i(10),a=i(6),s=i(111);t.exports=function(t,e){var i=1==t,u=2==t,c=3==t,l=4==t,f=6==t,d=5==t||f,h=e||s;return function(e,s,p){for(var _,v,m=o(e),g=n(m),y=r(s,p,3),E=a(g.length),w=0,A=i?h(e,E):u?h(e,0):void 0;E>w;w++)if((d||w in g)&&(v=y(_=g[w],w,m),t))if(i)A[w]=v;else if(v)switch(t){case 3:return!0;case 5:return _;case 6:return w;case 2:A.push(_)}else if(l)return!1;return f?-1:c||l?l:A}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){"use strict";if(i(8)){var r=i(31),n=i(1),o=i(2),a=i(0),s=i(64),u=i(90),c=i(18),l=i(43),f=i(29),d=i(15),h=i(44),p=i(20),_=i(6),v=i(122),m=i(33),g=i(27),y=i(14),E=i(49),w=i(4),A=i(10),b=i(82),S=i(34),T=i(36),x=i(35).f,L=i(84),C=i(30),I=i(5),D=i(23),O=i(54),R=i(50),k=i(86),N=i(41),M=i(57),P=i(42),U=i(85),B=i(113),F=i(9),K=i(21),j=F.f,V=K.f,H=n.RangeError,q=n.TypeError,G=n.Uint8Array,z=Array.prototype,W=u.ArrayBuffer,X=u.DataView,Y=D(0),Q=D(2),J=D(3),Z=D(4),$=D(5),tt=D(6),et=O(!0),it=O(!1),rt=k.values,nt=k.keys,ot=k.entries,at=z.lastIndexOf,st=z.reduce,ut=z.reduceRight,ct=z.join,lt=z.sort,ft=z.slice,dt=z.toString,ht=z.toLocaleString,pt=I("iterator"),_t=I("toStringTag"),vt=C("typed_constructor"),mt=C("def_constructor"),gt=s.CONSTR,yt=s.TYPED,Et=s.VIEW,wt=D(1,(function(t,e){return xt(R(t,t[mt]),e)})),At=o((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),bt=!!G&&!!G.prototype.set&&o((function(){new G(1).set({})})),St=function(t,e){var i=p(t);if(i<0||i%e)throw H("Wrong offset!");return i},Tt=function(t){if(w(t)&&yt in t)return t;throw q(t+" is not a typed array!")},xt=function(t,e){if(!(w(t)&&vt in t))throw q("It is not a typed array constructor!");return new t(e)},Lt=function(t,e){return Ct(R(t,t[mt]),e)},Ct=function(t,e){for(var i=0,r=e.length,n=xt(t,r);r>i;)n[i]=e[i++];return n},It=function(t,e,i){j(t,e,{get:function(){return this._d[i]}})},Dt=function(t){var e,i,r,n,o,a,s=A(t),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=L(s);if(null!=d&&!b(d)){for(a=d.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(f&&u>2&&(l=c(l,arguments[2],2)),e=0,i=_(s.length),n=xt(this,i);i>e;e++)n[e]=f?l(s[e],e):s[e];return n},Ot=function(){for(var t=0,e=arguments.length,i=xt(this,e);e>t;)i[t]=arguments[t++];return i},Rt=!!G&&o((function(){ht.call(new G(1))})),kt=function(){return ht.apply(Rt?ft.call(Tt(this)):Tt(this),arguments)},Nt={copyWithin:function(t,e){return B.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Z(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return U.apply(Tt(this),arguments)},filter:function(t){return Lt(this,Q(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return $(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Y(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return it(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Tt(this),arguments)},lastIndexOf:function(t){return at.apply(Tt(this),arguments)},map:function(t){return wt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Tt(this),arguments)},reduceRight:function(t){return ut.apply(Tt(this),arguments)},reverse:function(){for(var t,e=Tt(this).length,i=Math.floor(e/2),r=0;r<i;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return J(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(Tt(this),t)},subarray:function(t,e){var i=Tt(this),r=i.length,n=m(t,r);return new(R(i,i[mt]))(i.buffer,i.byteOffset+n*i.BYTES_PER_ELEMENT,_((void 0===e?r:m(e,r))-n))}},Mt=function(t,e){return Lt(this,ft.call(Tt(this),t,e))},Pt=function(t){Tt(this);var e=St(arguments[1],1),i=this.length,r=A(t),n=_(r.length),o=0;if(n+e>i)throw H("Wrong length!");for(;o<n;)this[e+o]=r[o++]},Ut={entries:function(){return ot.call(Tt(this))},keys:function(){return nt.call(Tt(this))},values:function(){return rt.call(Tt(this))}},Bt=function(t,e){return w(t)&&t[yt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ft=function(t,e){return Bt(t,e=g(e,!0))?f(2,t[e]):V(t,e)},Kt=function(t,e,i){return!(Bt(t,e=g(e,!0))&&w(i)&&y(i,"value"))||y(i,"get")||y(i,"set")||i.configurable||y(i,"writable")&&!i.writable||y(i,"enumerable")&&!i.enumerable?j(t,e,i):(t[e]=i.value,t)};gt||(K.f=Ft,F.f=Kt),a(a.S+a.F*!gt,"Object",{getOwnPropertyDescriptor:Ft,defineProperty:Kt}),o((function(){dt.call({})}))&&(dt=ht=function(){return ct.call(this)});var jt=h({},Nt);h(jt,Ut),d(jt,pt,Ut.values),h(jt,{slice:Mt,set:Pt,constructor:function(){},toString:dt,toLocaleString:kt}),It(jt,"buffer","b"),It(jt,"byteOffset","o"),It(jt,"byteLength","l"),It(jt,"length","e"),j(jt,_t,{get:function(){return this[yt]}}),t.exports=function(t,e,i,u){var c=t+((u=!!u)?"Clamped":"")+"Array",f="get"+t,h="set"+t,p=n[c],m=p||{},g=p&&T(p),y=!p||!s.ABV,A={},b=p&&p.prototype,L=function(t,i){j(t,i,{get:function(){return function(t,i){var r=t._d;return r.v[f](i*e+r.o,At)}(this,i)},set:function(t){return function(t,i,r){var n=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),n.v[h](i*e+n.o,r,At)}(this,i,t)},enumerable:!0})};y?(p=i((function(t,i,r,n){l(t,p,c,"_d");var o,a,s,u,f=0,h=0;if(w(i)){if(!(i instanceof W||"ArrayBuffer"==(u=E(i))||"SharedArrayBuffer"==u))return yt in i?Ct(p,i):Dt.call(p,i);o=i,h=St(r,e);var m=i.byteLength;if(void 0===n){if(m%e)throw H("Wrong length!");if((a=m-h)<0)throw H("Wrong length!")}else if((a=_(n)*e)+h>m)throw H("Wrong length!");s=a/e}else s=v(i),o=new W(a=s*e);for(d(t,"_d",{b:o,o:h,l:a,e:s,v:new X(o)});f<s;)L(t,f++)})),b=p.prototype=S(jt),d(b,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&M((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=i((function(t,i,r,n){var o;return l(t,p,c),w(i)?i instanceof W||"ArrayBuffer"==(o=E(i))||"SharedArrayBuffer"==o?void 0!==n?new m(i,St(r,e),n):void 0!==r?new m(i,St(r,e)):new m(i):yt in i?Ct(p,i):Dt.call(p,i):new m(v(i))})),Y(g!==Function.prototype?x(m).concat(x(g)):x(m),(function(t){t in p||d(p,t,m[t])})),p.prototype=b,r||(b.constructor=p));var C=b[pt],I=!!C&&("values"==C.name||null==C.name),D=Ut.values;d(p,vt,!0),d(b,yt,c),d(b,Et,!0),d(b,mt,p),(u?new p(1)[_t]==c:_t in b)||j(b,_t,{get:function(){return c}}),A[c]=p,a(a.G+a.W+a.F*(p!=m),A),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){m.of.call(p,1)})),c,{from:Dt,of:Ot}),"BYTES_PER_ELEMENT"in b||d(b,"BYTES_PER_ELEMENT",e),a(a.P,c,Nt),P(c),a(a.P+a.F*bt,c,{set:Pt}),a(a.P+a.F*!I,c,Ut),r||b.toString==dt||(b.toString=dt),a(a.P+a.F*o((function(){new p(1).slice()})),c,{slice:Mt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){b.toLocaleString.call([1,2])}))),c,{toLocaleString:kt}),N[c]=I?C:D,r||I||d(b,pt,D)}}else t.exports=function(){}},function(t,e,i){var r=i(4);t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var r=i(30)("meta"),n=i(4),o=i(14),a=i(9).f,s=0,u=Object.isExtensible||function(){return!0},c=!i(2)((function(){return u(Object.preventExtensions({}))})),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!o(t,r)&&l(t),t}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,i){var r=i(97),n=i(69);t.exports=Object.keys||function(t){return r(t,n)}},function(t,e,i){var r=i(20),n=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?n(t+e,0):o(t,e)}},function(t,e,i){var r=i(3),n=i(98),o=i(69),a=i(68)("IE_PROTO"),s=function(){},u=function(){var t,e=i(66)("iframe"),r=o.length;for(e.style.display="none",i(70).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=r(t),i=new s,s.prototype=null,i[a]=t):i=u(),void 0===e?i:n(i,e)}},function(t,e,i){var r=i(97),n=i(69).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},function(t,e,i){var r=i(14),n=i(10),o=i(68)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){var r=i(5)("unscopables"),n=Array.prototype;null==n[r]&&i(15)(n,r,{}),t.exports=function(t){n[r][t]=!0}},function(t,e,i){var r=i(4);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){var r=i(9).f,n=i(14),o=i(5)("toStringTag");t.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,i){var r=i(0),n=i(25),o=i(2),a=i(72),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t,e,i){var n={},s=o((function(){return!!a[t]()||"​"!="​"[t]()})),u=n[t]=s?e(f):a[t];i&&(n[i]=u),r(r.P+r.F*s,"String",n)},f=l.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e){t.exports={}},function(t,e,i){"use strict";var r=i(1),n=i(9),o=i(8),a=i(5)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&n.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,i,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var r=i(11);t.exports=function(t,e,i){for(var n in e)r(t,n,e[n],i);return t}},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var n=function(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(i," */")}(r),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")}));return[i].concat(o).concat([n]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(i,"}"):i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var o=this[n][0];null!=o&&(r[o]=!0)}for(var a=0;a<t.length;a++){var s=t[a];null!=s[0]&&r[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="(".concat(s[2],") and (").concat(i,")")),e.push(s))}},e}},function(t,e,i){"use strict";var r,n={},o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}();function s(t,e){for(var i=[],r={},n=0;n<t.length;n++){var o=t[n],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):i.push(r[a]={id:a,parts:[s]})}return i}function u(t,e){for(var i=0;i<t.length;i++){var r=t[i],o=n[r.id],a=0;if(o){for(o.refs++;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(v(r.parts[a],e))}else{for(var s=[];a<r.parts.length;a++)s.push(v(r.parts[a],e));n[r.id]={id:r.id,refs:1,parts:s}}}}function c(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var r=i.nc;r&&(t.attributes.nonce=r)}if(Object.keys(t.attributes).forEach((function(i){e.setAttribute(i,t.attributes[i])})),"function"==typeof t.insert)t.insert(e);else{var n=a(t.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,i,r){var n=i?"":r.css;if(t.styleSheet)t.styleSheet.cssText=f(e,n);else{var o=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e,i){var r=i.css,n=i.media,o=i.sourceMap;if(n&&t.setAttribute("media",n),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,_=0;function v(t,e){var i,r,n;if(e.singleton){var o=_++;i=p||(p=c(e)),r=d.bind(null,i,o,!1),n=d.bind(null,i,o,!0)}else i=c(e),r=h.bind(null,i,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o());var i=s(t,e);return u(i,e),function(t){for(var r=[],o=0;o<i.length;o++){var a=i[o],c=n[a.id];c&&(c.refs--,r.push(c))}t&&u(s(t,e),e);for(var l=0;l<r.length;l++){var f=r[l];if(0===f.refs){for(var d=0;d<f.parts.length;d++)f.parts[d]();delete n[f.id]}}}}},function(t,e,i){var r=i(24);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var r=i(24),n=i(5)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?i:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,i){var r=i(3),n=i(19),o=i(5)("species");t.exports=function(t,e){var i,a=r(t).constructor;return void 0===a||null==(i=r(a)[o])?e:n(i)}},function(t,e,i){"use strict";i(128),i(129),i(130),i(131),i(132)},function(t,e,i){(function(e){var i;"undefined"!=typeof window&&(i=function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="./src/index.ts")}({"./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,i){"use strict";var r,n="object"==typeof Reflect?Reflect:null,o=n&&"function"==typeof n.apply?n.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};r=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(i,r){function n(){void 0!==o&&t.removeListener("error",o),i([].slice.call(arguments))}var o;"error"!==e&&(o=function(i){t.removeListener(e,n),r(i)},t.once("error",o)),t.once(e,n)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,i,r){var n,o,a,s;if(c(i),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),o=t._events),a=o[e]),void 0===a)a=o[e]=i,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[i,a]:[a,i]:r?a.unshift(i):a.push(i),(n=l(t))>0&&a.length>n&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,i){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},n=d.bind(r);return n.listener=i,r.wrapFn=n,n}function p(t,e,i){var r=t._events;if(void 0===r)return[];var n=r[e];return void 0===n?[]:"function"==typeof n?i?[n.listener||n]:[n]:i?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(n):v(n,n.length)}function _(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function v(t,e){for(var i=new Array(e),r=0;r<e;++r)i[r]=t[r];return i}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var r="error"===t,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=n[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var c=u.length,l=v(u,c);for(i=0;i<c;++i)o(l[i],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,h(this,t,e)),this},s.prototype.removeListener=function(t,e){var i,r,n,o,a;if(c(e),void 0===(r=this._events))return this;if(void 0===(i=r[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(n=-1,o=i.length-1;o>=0;o--)if(i[o]===e||i[o].listener===e){a=i[o].listener,n=o;break}if(n<0)return this;0===n?i.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(i,n),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var n,o=Object.keys(i);for(r=0;r<o.length;++r)"removeListener"!==(n=o[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):_.call(t,e)},s.prototype.listenerCount=_,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},"./node_modules/querystringify/index.js":
/*!**********************************************!*\
  !*** ./node_modules/querystringify/index.js ***!
  \**********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,i){"use strict";var r,n=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}e.stringify=function(t,e){e=e||"";var i,o,a=[];for(o in"string"!=typeof e&&(e="?"),t)if(n.call(t,o)){if((i=t[o])||null!==i&&i!==r&&!isNaN(i)||(i=""),o=encodeURIComponent(o),i=encodeURIComponent(i),null===o||null===i)continue;a.push(o+"="+i)}return a.length?e+a.join("&"):""},e.parse=function(t){for(var e,i=/([^=?&]+)=?([^&]*)/g,r={};e=i.exec(t);){var n=o(e[1]),a=o(e[2]);null===n||null===a||n in r||(r[n]=a)}return r}},"./node_modules/requires-port/index.js":
/*!*********************************************!*\
  !*** ./node_modules/requires-port/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,i){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},"./node_modules/url-parse/index.js":
/*!*****************************************!*\
  !*** ./node_modules/url-parse/index.js ***!
  \*****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,i,r){"use strict";var n=r(/*! requires-port */"./node_modules/requires-port/index.js"),o=r(/*! querystringify */"./node_modules/querystringify/index.js"),a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,u=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(t){return(t||"").toString().replace(u,"")}var l=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function d(t){var i,r=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},n={},o=typeof(t=t||r);if("blob:"===t.protocol)n=new p(unescape(t.pathname),{});else if("string"===o)for(i in n=new p(t,{}),f)delete n[i];else if("object"===o){for(i in t)i in f||(n[i]=t[i]);void 0===n.slashes&&(n.slashes=a.test(t.href))}return n}function h(t){t=c(t);var e=s.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function p(t,e,i){if(t=c(t),!(this instanceof p))return new p(t,e,i);var r,a,s,u,f,_,v=l.slice(),m=typeof e,g=this,y=0;for("object"!==m&&"string"!==m&&(i=e,e=null),i&&"function"!=typeof i&&(i=o.parse),e=d(e),r=!(a=h(t||"")).protocol&&!a.slashes,g.slashes=a.slashes||r&&e.slashes,g.protocol=a.protocol||e.protocol||"",t=a.rest,a.slashes||(v[3]=[/(.*)/,"pathname"]);y<v.length;y++)"function"!=typeof(u=v[y])?(s=u[0],_=u[1],s!=s?g[_]=t:"string"==typeof s?~(f=t.indexOf(s))&&("number"==typeof u[2]?(g[_]=t.slice(0,f),t=t.slice(f+u[2])):(g[_]=t.slice(f),t=t.slice(0,f))):(f=s.exec(t))&&(g[_]=f[1],t=t.slice(0,f.index)),g[_]=g[_]||r&&u[3]&&e[_]||"",u[4]&&(g[_]=g[_].toLowerCase())):t=u(t);i&&(g.query=i(g.query)),r&&e.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==e.pathname)&&(g.pathname=function(t,e){if(""===t)return e;for(var i=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=i.length,n=i[r-1],o=!1,a=0;r--;)"."===i[r]?i.splice(r,1):".."===i[r]?(i.splice(r,1),a++):a&&(0===r&&(o=!0),i.splice(r,1),a--);return o&&i.unshift(""),"."!==n&&".."!==n||i.push(""),i.join("/")}(g.pathname,e.pathname)),n(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(u=g.auth.split(":"),g.username=u[0]||"",g.password=u[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}p.prototype={set:function(t,e,i){var r=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(i||o.parse)(e)),r[t]=e;break;case"port":r[t]=e,n(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[t]=e,/:\d+$/.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!i;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";r[t]=e.charAt(0)!==a?a+e:e}else r[t]=e;break;default:r[t]=e}for(var s=0;s<l.length;s++){var u=l[s];u[4]&&(r[u[1]]=r[u[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,i=this,r=i.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var n=r+(i.slashes?"//":"");return i.username&&(n+=i.username,i.password&&(n+=":"+i.password),n+="@"),n+=i.host+i.pathname,(e="object"==typeof i.query?t(i.query):i.query)&&(n+="?"!==e.charAt(0)?"?"+e:e),i.hash&&(n+=i.hash),n}},p.extractProtocol=h,p.location=d,p.trimLeft=c,p.qs=o,t.exports=p},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,i){var r,n,o,a,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,n=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var r=s.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):e;var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=n.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var c={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(c.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var l=a.path,f=l.substring(0,l.lastIndexOf("/")+1)+o.path;c.path=s.normalizePath(f)}else c.path=a.path,o.params||(c.params=a.params,o.query||(c.query=a.query));return null===c.path&&(c.path=i.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(c)},parseURL:function(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(o,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=s},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,i){function r(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var r=i(i.s=ENTRY_MODULE);return r.default||r}var n="[\\.|\\-|\\+|\\w|/|@]+",o="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+n+").*?\\)";function a(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t,e,r){var s={};s[r]=[];var u=e.toString(),c=u.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return s;for(var l,f=c[1],d=new RegExp("(\\\\n|\\W)"+a(f)+o,"g");l=d.exec(u);)"dll-reference"!==l[3]&&s[r].push(l[3]);for(d=new RegExp("\\("+a(f)+'\\("(dll-reference\\s('+n+'))"\\)\\)'+o,"g");l=d.exec(u);)t[l[2]]||(s[r].push(l[1]),t[l[2]]=i(l[1]).m),s[l[2]]=s[l[2]]||[],s[l[2]].push(l[4]);for(var h,p=Object.keys(s),_=0;_<p.length;_++)for(var v=0;v<s[p[_]].length;v++)h=s[p[_]][v],isNaN(1*h)||(s[p[_]][v]=1*s[p[_]][v]);return s}function u(t){return Object.keys(t).reduce((function(e,i){return e||t[i].length>0}),!1)}t.exports=function(t,e){e=e||{};var n={main:i.m},o=e.all?{main:Object.keys(n.main)}:function(t,e){for(var i={main:[e]},r={main:[]},n={main:{}};u(i);)for(var o=Object.keys(i),a=0;a<o.length;a++){var c=o[a],l=i[c].pop();if(n[c]=n[c]||{},!n[c][l]&&t[c][l]){n[c][l]=!0,r[c]=r[c]||[],r[c].push(l);for(var f=s(t,t[c][l],c),d=Object.keys(f),h=0;h<d.length;h++)i[d[h]]=i[d[h]]||[],i[d[h]]=i[d[h]].concat(f[d[h]])}}return r}(n,t),a="";Object.keys(o).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;o[t][e];)e++;o[t].push(e),n[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+t+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o[t].map((function(e){return JSON.stringify(e)+": "+n[t][e].toString()})).join(",")+"});\n"})),a=a+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o.main.map((function(t){return JSON.stringify(t)+": "+n.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([a],{type:"text/javascript"});if(e.bare)return c;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),f=new window.Worker(l);return f.objectURL=l,f}},"./src/core/kernel-errors.ts":
/*!***********************************!*\
  !*** ./src/core/kernel-errors.ts ***!
  \***********************************/
/*! exports provided: ErrorTypes, ErrorDetails */function(t,e,i){"use strict";var r,n;i.r(e),i.d(e,"ErrorTypes",(function(){return r})),i.d(e,"ErrorDetails",(function(){return n})),function(t){t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t.MSE_ERROR="mseError"}(r||(r={})),function(t){t[t.LOAD_ERROR=10]="LOAD_ERROR",t[t.HLS_MANIFEST_LOAD_ERROR=11]="HLS_MANIFEST_LOAD_ERROR",t[t.HLS_LEVEL_LOAD_ERROR=12]="HLS_LEVEL_LOAD_ERROR",t[t.HLS_AUDIO_TRACK_LOAD_ERROR=13]="HLS_AUDIO_TRACK_LOAD_ERROR",t[t.HLS_KEY_LOAD_ERROR=14]="HLS_KEY_LOAD_ERROR",t[t.KEY_SYSTEM_LICENSE_REQUEST_FAILED=15]="KEY_SYSTEM_LICENSE_REQUEST_FAILED",t[t.CANNOT_SEEK=100]="CANNOT_SEEK",t[t.VIDEO_ERROR=101]="VIDEO_ERROR",t[t.UNSUPPORTED=102]="UNSUPPORTED",t[t.CONFIG_ERROR=103]="CONFIG_ERROR",t[t.OTHER=104]="OTHER",t[t.UNKNOWN=105]="UNKNOWN",t[t.MEDIASOURCE_ERROR=200]="MEDIASOURCE_ERROR",t[t.ADDSOURCEBUFFER_ERROR=201]="ADDSOURCEBUFFER_ERROR",t[t.SOURCEBUFFER_ERROR=202]="SOURCEBUFFER_ERROR",t[t.ENDOFSTREAM_ERROR=203]="ENDOFSTREAM_ERROR",t[t.APPENDBUFFER_ERROR=204]="APPENDBUFFER_ERROR",t[t.PARSING_ERROR=301]="PARSING_ERROR",t[t.REMUX_ERROR=302]="REMUX_ERROR",t[t.REMUX_ALLOC_ERROR=303]="REMUX_ALLOC_ERROR",t[t.MANIFEST_PARSING_ERROR=400]="MANIFEST_PARSING_ERROR",t[t.HLS_LEVEL_SWITCH_ERROR=401]="HLS_LEVEL_SWITCH_ERROR",t[t.KEY_SYSTEM_NO_ACCESS=500]="KEY_SYSTEM_NO_ACCESS",t[t.KEY_SYSTEM_NO_SESSION=501]="KEY_SYSTEM_NO_SESSION",t[t.KEY_SYSTEM_URL_ERROR=502]="KEY_SYSTEM_URL_ERROR",t[t.KEY_SYSTEM_NO_KEYS=505]="KEY_SYSTEM_NO_KEYS",t[t.FRAG_DECRYPT_ERROR=506]="FRAG_DECRYPT_ERROR",t[t.KEY_SYSTEM_NO_INIT_DATA=507]="KEY_SYSTEM_NO_INIT_DATA",t[t.KEY_SYSTEM_UNSUPPORTED=508]="KEY_SYSTEM_UNSUPPORTED",t[t.PRELOAD_ERROR=600]="PRELOAD_ERROR",t[t.LIVE_DISCONNECTED_ERROR=1009]="LIVE_DISCONNECTED_ERROR",t[t.WEBRTC_DISCONNECTED_ERROR=1010]="WEBRTC_DISCONNECTED_ERROR",t[t.WEBRTC_FAILED_ERROR=1011]="WEBRTC_FAILED_ERROR",t[t.WEBRTC_CLOSED_ERROR=1012]="WEBRTC_CLOSED_ERROR",t[t.WEBRTC_ICE_CANDIDATE_ERROR=1013]="WEBRTC_ICE_CANDIDATE_ERROR",t[t.WEBRTC_ICE_CONNECTION_ERROR=1014]="WEBRTC_ICE_CONNECTION_ERROR",t[t.WEBRTC_OFFER_ERROR=1015]="WEBRTC_OFFER_ERROR",t[t.WEBRTC_ANSWER_ERROR=1016]="WEBRTC_ANSWER_ERROR",t[t.WEBRTC_TRANSMISSION_DATA_NULL=1017]="WEBRTC_TRANSMISSION_DATA_NULL",t[t.WEBRTC_CONNECT_TIMEOUT=1018]="WEBRTC_CONNECT_TIMEOUT",t[t.WEBRTC_CONNECT_FAILED=1019]="WEBRTC_CONNECT_FAILED"}(n||(n={}))},"./src/core/kernel-events.ts":
/*!***********************************!*\
  !*** ./src/core/kernel-events.ts ***!
  \***********************************/
/*! exports provided: default */function(t,e,i){"use strict";var r;i.r(e),function(t){t.METADATA="metadata",t.PARSING_INIT_SEGMENT="parsingInitSegment",t.PARSING_DATA="parsingData",t.PARSED_DATA="parsedData",t.SCRIPT_PARSED="scriptParsed",t.KEY_FRAME_INDEXS="keyFrameIndexs",t.REPORT="report",t.LOAD_END="loadEnd",t.DISCONTINUITY="discontinuity",t.ERROR="error",t.LEVEL_SWITCH_FAILED="levelSwitchFailed",t.LEVEL_SWITCHING="levelSwitching",t.LEVEL_SWITCHED="levelSwitched",t.LEVEL_SWITCH_PLAYING="levelSwitchPlaying",t.LEVEL_LOADED="levelLoaded",t.LEVEL_UPDATED="levelUpdated",t.AUDIO_TRACK_SWITCHING="audioTrackSwitching",t.AUDIO_TRACK_SWITCHED="audioTrackSwitched",t.AUDIO_TRACK_UPDATED="audioTrackUpdated",t.MANIFEST_PARSED="manifestParsed",t.HLS_KEY_LOADED="hlsKeyLoaded",t.AUDIO_TRACK_LOADED="audioLoaded",t.SUBTITLE_TRACK_LOADED="subtitleTrackLoaded",t.SUBTITLE_LOADED="subtitleLoaded",t.SUBTITLE_TRACK_SWITCHED="subtitleTrackSwitched",t.BUFFER_FLUSHING="bufferFlushing",t.SEEK_KEYFRAME="seekKeyframe",t.PRELOAD_COMPLETE="preloadComplete",t.PRELOAD_HIT="preloadHit",t.ABR_NEXT="abrNext",t.PRIV_NAL="privNal",t.MP4_NOT_FASTSTART="mp4NotFaststart",t.LOADER_CHUNK_ARRIVAL="loaderChunkArrival",t.MEDIA_DEMUX="mediaDemux",t.KEY_FRAME="keyFrame",t.MUX_INFO="muxInfo",t.LOST_FRAMES="lostFrames",t.USE_BACKUP="useBackup",t.ABR_INFO="abrInfo",t.NEW_SOURCE="newSource",t.DOWNLOAD="download",t.STOP_LOAD="stopLoad",t.LOAD="load",t.WAITING="wating",t.LOADEDDATA="loadeddata",t.CANPLAY="canplay",t.SEEKING="seeking",t.SEEK_WITH_LOAD="onSeekWithLoad",t.SEEKED="seeked",t.PLAYING="playing",t.PAUSE="pause",t.PLAY="play",t.ENDED="ended",t.TIMEUPDATE="timeupdate",t.PROGRESS="progress",t.RATE_CHANGE="ratechange",t.DURATION_CHANGE="durationchange",t.HEARTBEAT="heartbeat",t.MSE_OPEN="mseOpen",t.MSE_UPDATE="mseUpdate",t.MSE_BUFFER_FULL="mseBufferFull",t.MSE_REMOVE="mseRemove",t.RETRY="retry",t.INIT_PTS_FOUND="initPtsFopund",t.FLV_HEAD="flvHead"}(r||(r={})),e.default=r},"./src/core/worker-cmd.ts":
/*!********************************!*\
  !*** ./src/core/worker-cmd.ts ***!
  \********************************/
/*! exports provided: WorkerCmd */function(t,e,i){"use strict";var r;i.r(e),i.d(e,"WorkerCmd",(function(){return r})),function(t){t.INIT="init",t.FLUSH="flush",t.LOAD_END="loadEnd",t.DESTROY="destroy",t.PUSH="push"}(r||(r={}))},"./src/demux/audio/adts.ts":
/*!*********************************************!*\
  !*** ./src/demux/audio/adts.ts + 1 modules ***!
  \*********************************************/
/*! exports provided: parseData, parseASCData, isHeaderPattern, getHeaderLength, getFullFrameLength, isHeader, probe, isUpdate, initTrackConfig, initTrackConfigByInfo, getFrameDuration, parseFrameHeader, appendFrame */
/*! ModuleConcatenation bailout: Cannot concat with ./src/core/kernel-errors.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/core/kernel-events.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/types/remux.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/log.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/uint8-array-tools.ts because of ./src/demux/demuxer-worker.ts */function(t,e,i){"use strict";i.r(e),i.d(e,"parseData",(function(){return u})),i.d(e,"parseASCData",(function(){return c})),i.d(e,"isHeaderPattern",(function(){return l})),i.d(e,"getHeaderLength",(function(){return f})),i.d(e,"getFullFrameLength",(function(){return d})),i.d(e,"isHeader",(function(){return h})),i.d(e,"probe",(function(){return p})),i.d(e,"isUpdate",(function(){return _})),i.d(e,"initTrackConfig",(function(){return v})),i.d(e,"initTrackConfigByInfo",(function(){return m})),i.d(e,"getFrameDuration",(function(){return g})),i.d(e,"parseFrameHeader",(function(){return y})),i.d(e,"appendFrame",(function(){return E}));var r=i("./src/core/kernel-errors.ts"),n=i("./src/core/kernel-events.ts"),o=i("./src/types/remux.ts"),a=i("./src/utils/log.ts"),s=i("./src/utils/uint8-array-tools.ts");function u(t){return{objectType:1+((192&t[0])>>>6),sampleingIndex:(60&t[0])>>>2,chanelConfig:(1&t[0])<<2|(192&t[1])>>>6}}function c(t){return{objectType:t[0]>>>3,sampleingIndex:(7&t[0])<<1|t[1]>>>7,chanelConfig:(120&t[1])>>>3}}function l(t,e){return 255===t[e]&&240==(246&t[e+1])}function f(t,e){return 1&t[e+1]?7:9}function d(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function h(t,e){return!!(e+1<t.length&&l(t,e))}function p(t,e){if(e+1<t.length&&l(t,e)){var i=f(t,e);e+5<t.length&&(i=d(t,e));var r=e+i;if(r===t.length||r+1<t.length&&l(t,r))return!0}return!1}function _(t,e){return t.asc!==Object(s.readUint16)(e)}function v(t,e,i,a,l){if(void 0===l&&(l=""),_(t,i)||!t.samplerate||!t.configParsed){var f=a===o.AudioConfigType.ADTS?u(i):c(i);if(f.sampleingIndex<0||f.sampleingIndex>=13)return void e.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"invalid sampling index:"+f.sampleingIndex});if(f.chanelConfig<0||f.chanelConfig>=8)return void e.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"invalid chanelConfig:"+f.chanelConfig});m(t,f,l),t.asc=Object(s.readUint16)(i),t.configParsed=!0}}function m(t,e,i){void 0===i&&(i="");var r=function(t,e){void 0===e&&(e="");var i,r,n=t.objectType,o=t.sampleingIndex,s=t.chanelConfig,u=navigator.userAgent.toLowerCase(),c=e||"mp4a.40."+n,l=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return a.Log.v("manifest codec:"+e+",data:type:"+n+",sampleingIndex:"+o+"["+l[o]+"Hz],channelConfig:"+s),/firefox/i.test(u)?o>=6?(n=5,r=new Array(4),i=o-3):(n=2,r=new Array(2),i=o):-1!==u.indexOf("android")?(n=2,r=new Array(2),i=o):(n=5,r=new Array(4),e&&(-1!==e.indexOf("mp4a.40.29")||-1!==e.indexOf("mp4a.40.5"))||!e&&o>=6?i=o-3:((e&&-1!==e.indexOf("mp4a.40.2")&&(o>=6&&1===s||/vivaldi/i.test(u))||!e&&1===s)&&(n=2,r=new Array(2)),i=o)),r[0]=n<<3,r[0]|=(14&o)>>1,r[1]|=(1&o)<<7,r[1]|=s<<3,5===n&&(r[1]|=(14&i)>>1,r[2]=(1&i)<<7,r[2]|=8,r[3]=0),{config:r,samplerate:l[o],channelCount:s,codec:"mp4a.40."+n,manifestCodec:c}}(e,i);r&&(t.config=r.config,t.samplerate=r.samplerate,t.channelCount=r.channelCount,t.codec=r.codec,t.manifestCodec=r.manifestCodec,t.sampleDuration=g(t.samplerate),a.Log.v("parsed codec:"+t.codec+",rate:"+r.samplerate+",nb channel:"+r.channelCount))}function g(t){return 9216e4/t}function y(t,e,i,r,n){var o,a=t.length,s=f(t,e);return o=d(t,e),(o-=s)>0&&e+s+o<=a?{headerLength:s,frameLength:o,stamp:i+r*n}:null}function E(t,e,i,r,n){var o=y(e,i,r,n,g(t.samplerate));if(o){var a=o.stamp,s=o.headerLength,u=o.frameLength,c={unit:e.subarray(i+s,i+s+u),pts:a,dts:a,streamDTS:0};return t.samples.push(c),{sample:c,length:u+s}}return null}},"./src/demux/create-track.ts":
/*!***********************************!*\
  !*** ./src/demux/create-track.ts ***!
  \***********************************/
/*! exports provided: createVideoTrack, createAudioTrack */function(t,e,i){"use strict";i.r(e),i.d(e,"createVideoTrack",(function(){return a})),i.d(e,"createAudioTrack",(function(){return s}));var r=i(/*! ../types/core */"./src/types/core.ts"),n=i(/*! ../types/remux */"./src/types/remux.ts");function o(t,e){return{type:t,id:n.RemuxerTrackIdConfig[t],pid:-1,inputTimescale:9e4,timescale:9e4,codec:"",sequenceNumber:0,samples:[],mp4Samples:[],duration:e,sampleDuration:0}}function a(t){var e=o(r.TrackType.VIDEO,t);return e.width=0,e.height=0,e.codecWidth=0,e.codecHeight=0,e.sps=[],e.pps=[],e.pixelRatio=[],e.profile="",e.level="",e.chromaFormat="",e.fps=0,e}function s(t){var e=o(r.TrackType.AUDIO,t);return e.isAAC=!0,e.config=[],e.samplerate=0,e.channelCount=0,e}},"./src/demux/demuxer-inline.ts":
/*!**************************************************!*\
  !*** ./src/demux/demuxer-inline.ts + 26 modules ***!
  \**************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/core/kernel-errors.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/core/kernel-events.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/audio/adts.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/create-track.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/flv/flv.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/video/color-space.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/io/data-cache.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/remux/mp4-remuxer.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/types/core.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/types/remux.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/decode-utf8.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/keyframes-utils.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/log.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/uint8-array-tools.ts because of ./src/index.ts */function(t,e,i){"use strict";i.r(e);var r=i("./src/core/kernel-errors.ts"),n=i("./src/core/kernel-events.ts"),o=i("./src/utils/log.ts");function a(t,e,i){return Uint8Array.prototype.slice?t.slice(e,i):new Uint8Array(Array.prototype.slice.call(t,e,i))}var s=function(){function t(t,e){this._subtle=void 0,this._aesIV=void 0,this._subtle=t,this._aesIV=e}return t.prototype.decrypt=function(t,e){return this._subtle.decrypt({name:"AES-CBC",iv:this._aesIV},e,t)},t}(),u=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),i=new Uint32Array(4),r=0;r<4;r++)i[r]=e.getUint32(4*r);return i},e.initTable=function(){var t=this.sBox,e=this.invSBox,i=this.subMix,r=i[0],n=i[1],o=i[2],a=i[3],s=this.invSubMix,u=s[0],c=s[1],l=s[2],f=s[3],d=new Uint32Array(256),h=0,p=0,_=0;for(_=0;_<256;_++)d[_]=_<128?_<<1:_<<1^283;for(_=0;_<256;_++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,t[h]=v,e[v]=h;var m=d[h],g=d[m],y=d[g],E=257*d[v]^16843008*v;r[h]=E<<24|E>>>8,n[h]=E<<16|E>>>16,o[h]=E<<8|E>>>24,a[h]=E,E=16843009*y^65537*g^257*m^16843008*h,u[v]=E<<24|E>>>8,c[v]=E<<16|E>>>16,l[v]=E<<8|E>>>24,f[v]=E,h?(h=m^d[d[d[y^m]]],p^=d[d[p]]):h=p=1}},e.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),i=!0,r=0;r<e.length&&i;)i=e[r]===this.key[r],r++;if(!i){this.key=e;var n=this.keySize=e.length;if(4!==n&&6!==n&&8!==n)throw new Error("Invalid aes key size="+n);var o,a,s=this.ksRows=4*(n+6+1),u=this.keySchedule=new Uint32Array(s),c=this.invKeySchedule=new Uint32Array(s),l=this.sBox,f=this.rcon,d=this.invSubMix,h=d[0],p=d[1],_=d[2],v=d[3],m=0,g=0;for(o=0;o<s;o++)o<n?m=u[o]=e[o]:(g=m,o%n==0?(g=l[(g=g<<8|g>>>24)>>>24]<<24|l[g>>>16&255]<<16|l[g>>>8&255]<<8|l[255&g],g^=f[o/n|0]<<24):n>6&&o%n==4&&(g=l[g>>>24]<<24|l[g>>>16&255]<<16|l[g>>>8&255]<<8|l[255&g]),u[o]=m=(u[o-n]^g)>>>0);for(a=0;a<s;a++)o=s-a,g=3&a?u[o]:u[o-4],c[a]=a<4||o<=4?g:h[l[g>>>24]]^p[l[g>>>16&255]]^_[l[g>>>8&255]]^v[l[255&g]],c[a]=c[a]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,i){for(var r,n,o,a,s,u,c,l,f,d,h,p,_,v,m=this.keySize+6,g=this.invKeySchedule,y=this.invSBox,E=this.invSubMix,w=E[0],A=E[1],b=E[2],S=E[3],T=this.uint8ArrayToUint32Array_(i),x=T[0],L=T[1],C=T[2],I=T[3],D=new Int32Array(t),O=new Int32Array(D.length),R=this.networkToHostOrderSwap;e<D.length;){for(f=R(D[e]),d=R(D[e+1]),h=R(D[e+2]),p=R(D[e+3]),s=f^g[0],u=p^g[1],c=h^g[2],l=d^g[3],_=4,v=1;v<m;v++)r=w[s>>>24]^A[u>>16&255]^b[c>>8&255]^S[255&l]^g[_],n=w[u>>>24]^A[c>>16&255]^b[l>>8&255]^S[255&s]^g[_+1],o=w[c>>>24]^A[l>>16&255]^b[s>>8&255]^S[255&u]^g[_+2],a=w[l>>>24]^A[s>>16&255]^b[u>>8&255]^S[255&c]^g[_+3],s=r,u=n,c=o,l=a,_+=4;r=y[s>>>24]<<24^y[u>>16&255]<<16^y[c>>8&255]<<8^y[255&l]^g[_],n=y[u>>>24]<<24^y[c>>16&255]<<16^y[l>>8&255]<<8^y[255&s]^g[_+1],o=y[c>>>24]<<24^y[l>>16&255]<<16^y[s>>8&255]<<8^y[255&u]^g[_+2],a=y[l>>>24]<<24^y[s>>16&255]<<16^y[u>>8&255]<<8^y[255&c]^g[_+3],_+=3,O[e]=R(r^x),O[e+1]=R(a^L),O[e+2]=R(o^C),O[e+3]=R(n^I),x=f,L=d,C=h,I=p,e+=4}return O.buffer},t}(),c=function(){function t(t,e){this._subtle=void 0,this._key=void 0,this._subtle=t,this._key=e}return t.prototype.expandKey=function(){return this._subtle.importKey("raw",this._key,{name:"AES-CBC",length:128},!1,["encrypt","decrypt"])},t}(),l=function(){function t(t,e,i){var r=(void 0===i?{}:i).removePKCS7Padding,n=void 0===r||r;if(this._logEnabled=!0,this._observer=void 0,this._config=void 0,this._removePKCS7Padding=void 0,this._subtle=null,this._softwareDecrypter=null,this._key=null,this._fastAesKey=null,this._remainderData=null,this._currentIV=null,this._currentResult=null,this._observer=t,this._config=e,this._removePKCS7Padding=n,n)try{var o=self.crypto;o&&(this._subtle=o.subtle||o.webkitSubtle)}catch(t){}null===this._subtle&&(this._config.enableSoftwareAES=!0)}var e=t.prototype;return e.isSync=function(){return this._config.enableSoftwareAES},e.flush=function(){var t=this._currentResult;if(t){var e,i,r,n=new Uint8Array(t);return this.reset(),this._removePKCS7Padding?(i=(e=n).byteLength,(r=i&&new DataView(e.buffer).getUint8(i-1))?a(e,0,i-r):e):n}this.reset()},e.reset=function(){this._currentResult=null,this._currentIV=null,this._remainderData=null,this._softwareDecrypter&&(this._softwareDecrypter=null)},e.decrypt=function(t,e,i,r){if(this._config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(t),e,i);var n=this.flush();n&&r(n.buffer)}else this.webCryptoDecrypt(new Uint8Array(t),e,i).then(r)},e.softwareDecrypt=function(t,e,i){var r,n,o,s=this._currentIV,c=this._currentResult,l=this._remainderData;this.logOnce("JS AES decrypt"),l&&(r=l,n=t,(o=new Uint8Array(r.length+n.length)).set(r),o.set(n,r.length),t=o,this._remainderData=null);var f=this.getValidChunk(t);if(!f.length)return null;s&&(i=s);var d=this._softwareDecrypter;d||(d=this._softwareDecrypter=new u),d.expandKey(e);var h=c;return this._currentResult=d.decrypt(f.buffer,0,i),this._currentIV=a(f,-16).buffer,h||null},e.webCryptoDecrypt=function(t,e,i){var r=this,n=this._subtle;return this._key===e&&this._fastAesKey||(this._key=e,this._fastAesKey=new c(n,e)),this._fastAesKey.expandKey().then((function(e){return n?new s(n,i).decrypt(t.buffer,e):Promise.reject(new Error("web crypto not initialized"))})).catch((function(n){return r.onWebCryptoError(n,t,e,i)}))},e.onWebCryptoError=function(t,e,i,r){return o.Log.w("decrypter","[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",t),this._config.enableSoftwareAES=!0,this._logEnabled=!0,this.softwareDecrypt(e,i,r)},e.getValidChunk=function(t){var e=t,i=t.length-t.length%16;return i!==t.length&&(e=a(t,0,i),this._remainderData=a(t,i)),e},e.logOnce=function(t){this._logEnabled&&(o.Log.i("decrypter","[decrypter.ts]: "+t),this._logEnabled=!1)},t}(),f=i("./src/types/core.ts"),d=i("./src/types/remux.ts"),h=function(){function t(){}return t.parse=function(e,i){void 0===i&&(i=!0);var r={},n=new DataView(e.buffer,e.byteOffset).getUint32(0)!==(i?525030175:2113995134),o=6,a=new Uint8Array(1024);a.set(e.slice(0,6),0);for(var s=e.byteLength,u=[e[s-2],e[s-1]],c=6;c<s;){var l=e[c];0===u[0]&&0===u[1]&&3===l||(a[o++]=l),u[0]=u[1],u[1]=l,++c}for(var f=6,d=new DataView(a.buffer);f<o;){var h=f,p=d.getUint16(h,n);h+=2;var _=d.getUint16(h,n);h+=2;var v=d.getUint16(h,n);if(h+=2,t._readElem(d,r,h,v,p,_,n),h+=v,f+=_,!_)break}return r},t._readElem=function(e,i,r,n,o,a,s){var u=t._readString(e,r,n);switch(r+=n,o){case 1:break;case 2:i[u]=t._readString(e,r,a-4);break;case 3:i[u]=e.getUint32(r,s);break;case 4:var c=e.getUint32(r+4,s),l=e.getUint32(r,s);i[u]=Math.pow(2,32)*c+l;break;case 5:i[u]=e.getFloat32(r,s);break;case 6:i[u]=e.getFloat64(r,s)}},t._readString=function(t,e,i){for(var r="",n=e;n<e+i;n++)r+=String.fromCharCode(t.getUint8(n));return r},t}(),p=i("./src/demux/audio/adts.ts"),_=i("./src/demux/create-track.ts"),v=i("./src/utils/decode-utf8.ts"),m=function(){function t(){}return t.parseMetadata=function(e){var i={};try{var r=t.parseScript(e,0),n=t.parseScript(e,r.size);i[r.data]=n.data}catch(t){o.Log.e("AMF",t.toString())}return i},t.parseObject=function(e,i){var r=t.parseString(e,i),n=t.parseScript(e,i+r.size),o=n.objectEnd;return{data:{name:r.data,value:n.data},size:n.size,objectEnd:o}},t.parseVariable=function(e,i){return t.parseObject(e,i)},t.parseLongString=function(t,e){var i=new DataView(t,e).getUint32(0);return{data:i>0?Object(v.decodeUTF8)(new Uint8Array(t,e+4,i)):"",size:4+i}},t.parseDate=function(t,e){var i=new DataView(t,e),r=i.getFloat64(0),n=i.getInt16(8);return{data:new Date(r+=60*n*1e3),size:10}},t.parseString=function(t,e){var i=new DataView(t,e).getUint16(0);return{data:i>0?Object(v.decodeUTF8)(new Uint8Array(t,e+2,i)):"",size:2+i}},t.parseScript=function(e,i){var r=e.byteLength,n=i,a=e,s=new DataView(a,0),u=null,c=s.getUint8(n);n+=1;var l=!1;switch(c){case 0:u=s.getFloat64(n),n+=8;break;case 1:u=!!s.getUint8(n),n+=1;break;case 2:var f=t.parseString(a,n);u=f.data,n+=f.size;break;case 3:for(u={},s.getUint32(r-4);n<r-4;){var d=t.parseObject(a,n);if(d.objectEnd)break;u[d.data.name]=d.data.value,n=d.size}n<=r-3&&9==(16777215&s.getUint32(n-1))&&(n+=3);break;case 8:for(u={},n+=4,s.getUint32(r-4);n<r-8;){var h=t.parseVariable(a,n);if(h.objectEnd)break;u[h.data.name]=h.data.value,n=h.size}n<=r-3&&9==(16777215&s.getUint32(n-1))&&(n+=3);break;case 9:u=void 0,n=1,l=!0;break;case 10:u=[];var p=s.getUint32(n);n+=4;for(var _=0;_<p;_++){var v=t.parseScript(a,n);u.push(v.data),n=v.size}break;case 11:var m=t.parseDate(a,n+1);u=m.data,n+=m.size;break;case 12:var g=t.parseString(a,n+1);u=g.data,n+=g.size;break;default:n=r,o.Log.v("AMF","AMF","Unsupported AMF value type "+c)}return{data:u,size:n,objectEnd:l}},t}(),g=i("./src/demux/flv/flv.ts"),y=i("./src/io/data-cache.ts");function E(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var w,A,b=function(){function t(t){this._eventEmitter=void 0,this._cache=void 0,this._tag=void 0,this._result={tags:[]},this._parseLen=0,this._parseFunc=void 0,this._hasVideo=void 0,this._hasAudio=void 0,this._eventEmitter=t,this._cache=new y.default,this._parseLen=g.FLV_HEAD_LEN,this._parseFunc=this._parseFlvHead}var e,i,o,a=t.prototype;return a.reset=function(){this._parseLen=g.FLV_HEAD_LEN,this._parseFunc=this._parseFlvHead,this._cache.clear(),this._tag=void 0,this._result={tags:[]},this._hasAudio=void 0,this._hasVideo=void 0},a.append=function(t){for(this._result={tags:[]},this._cache.put(t);this._cache.unreadLen>=this._parseLen;)this._parseFunc();return this._result},a._parseFlvHead=function(){var t=this._cache.get(g.FLV_HEAD_LEN);t&&(70===t[0]&&76===t[1]&&86===t[2]&&1===t[3]||this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"Flv: wrong head"}),this._hasAudio=!!((4&t[4])>>>2),this._hasVideo=!!(1&t[4]),this._result.head=t,this._parseLen=g.FLV_TAG_HEAD_LEN,this._parseFunc=this._parseFlvTagHead)},a._parseFlvTagHead=function(){this._tag=new g.FlvTag;var t=this._cache.get(g.FLV_TAG_HEAD_LEN);t&&(this._tag.tagType=t[0],this._tag.dataSize=((255&t[1])<<16)+((255&t[2])<<8)+(255&t[3]),this._tag.timestamp=((255&t[7])<<24)+((255&t[4])<<16)+((255&t[5])<<8)+(255&t[6]),this._parseFunc=this._parseFlvTag,this._parseLen=this._tag.dataSize+g.FLV_TAG_SIZE_LEN)},a._parseFlvTag=function(){var t=this._tag;t&&(t.tagType!==g.FlvTagType.SCRIPT&&t.tagType!==g.FlvTagType.AUDIO&&t.tagType!==g.FlvTagType.VIDEO||(t.body=this._cache.get(t.dataSize),this._cache.skip(4),this._result.tags.push(t),this._tag=void 0),this._parseFunc=this._parseFlvTagHead,this._parseLen=g.FLV_TAG_HEAD_LEN)},e=t,(i=[{key:"trackInfo",get:function(){return"boolean"==typeof this._hasVideo&&"boolean"==typeof this._hasAudio?{hasVideo:this._hasVideo,hasAudio:this._hasAudio}:void 0}}])&&E(e.prototype,i),o&&E(e,o),t}();!function(t){t[t.NAL_SLICE=1]="NAL_SLICE",t[t.NAL_DPA=2]="NAL_DPA",t[t.NAL_DPB=3]="NAL_DPB",t[t.NAL_DPC=4]="NAL_DPC",t[t.NAL_IDR_SLICE=5]="NAL_IDR_SLICE",t[t.NAL_SEI=6]="NAL_SEI",t[t.NAL_SPS=7]="NAL_SPS",t[t.NAL_PPS=8]="NAL_PPS",t[t.NAL_AUD=9]="NAL_AUD",t[t.NAL_END_SEQUENCE=10]="NAL_END_SEQUENCE",t[t.NAL_END_STREAM=11]="NAL_END_STREAM",t[t.NAL_FILLER_DATA=12]="NAL_FILLER_DATA",t[t.NAL_SPS_EXT=13]="NAL_SPS_EXT",t[t.NAL_AUXILIARY_SLICE=19]="NAL_AUXILIARY_SLICE",t[t.NAL_FF_IGNORE=267448321]="NAL_FF_IGNORE",t[t.PRIV_NAL_MAGIC_H264=31]="PRIV_NAL_MAGIC_H264"}(w||(w={})),function(t){t[t.NAL_UNIT_CODED_SLICE_TRAIL_N=0]="NAL_UNIT_CODED_SLICE_TRAIL_N",t[t.NAL_UNIT_CODED_SLICE_TRAIL_R=1]="NAL_UNIT_CODED_SLICE_TRAIL_R",t[t.NAL_UNIT_CODED_SLICE_TSA_N=2]="NAL_UNIT_CODED_SLICE_TSA_N",t[t.NAL_UNIT_CODED_SLICE_TSA_R=3]="NAL_UNIT_CODED_SLICE_TSA_R",t[t.NAL_UNIT_CODED_SLICE_STSA_N=4]="NAL_UNIT_CODED_SLICE_STSA_N",t[t.NAL_UNIT_CODED_SLICE_STSA_R=5]="NAL_UNIT_CODED_SLICE_STSA_R",t[t.NAL_UNIT_CODED_SLICE_RADL_N=6]="NAL_UNIT_CODED_SLICE_RADL_N",t[t.NAL_UNIT_CODED_SLICE_RADL_R=7]="NAL_UNIT_CODED_SLICE_RADL_R",t[t.NAL_UNIT_CODED_SLICE_RASL_N=8]="NAL_UNIT_CODED_SLICE_RASL_N",t[t.NAL_UNIT_CODED_SLICE_RASL_R=9]="NAL_UNIT_CODED_SLICE_RASL_R",t[t.NAL_UNIT_RESERVED_VCL_N10=10]="NAL_UNIT_RESERVED_VCL_N10",t[t.NAL_UNIT_RESERVED_VCL_R11=11]="NAL_UNIT_RESERVED_VCL_R11",t[t.NAL_UNIT_RESERVED_VCL_N12=12]="NAL_UNIT_RESERVED_VCL_N12",t[t.NAL_UNIT_RESERVED_VCL_R13=13]="NAL_UNIT_RESERVED_VCL_R13",t[t.NAL_UNIT_RESERVED_VCL_N14=14]="NAL_UNIT_RESERVED_VCL_N14",t[t.NAL_UNIT_RESERVED_VCL_R15=15]="NAL_UNIT_RESERVED_VCL_R15",t[t.NAL_UNIT_CODED_SLICE_BLA_W_LP=16]="NAL_UNIT_CODED_SLICE_BLA_W_LP",t[t.NAL_UNIT_CODED_SLICE_BLA_W_RADL=17]="NAL_UNIT_CODED_SLICE_BLA_W_RADL",t[t.NAL_UNIT_CODED_SLICE_BLA_N_LP=18]="NAL_UNIT_CODED_SLICE_BLA_N_LP",t[t.NAL_UNIT_CODED_SLICE_IDR_W_RADL=19]="NAL_UNIT_CODED_SLICE_IDR_W_RADL",t[t.NAL_UNIT_CODED_SLICE_IDR_N_LP=20]="NAL_UNIT_CODED_SLICE_IDR_N_LP",t[t.NAL_UNIT_CODED_SLICE_CRA=21]="NAL_UNIT_CODED_SLICE_CRA",t[t.NAL_UNIT_RESERVED_IRAP_VCL22=22]="NAL_UNIT_RESERVED_IRAP_VCL22",t[t.NAL_UNIT_RESERVED_IRAP_VCL23=23]="NAL_UNIT_RESERVED_IRAP_VCL23",t[t.NAL_UNIT_RESERVED_VCL24=24]="NAL_UNIT_RESERVED_VCL24",t[t.NAL_UNIT_RESERVED_VCL25=25]="NAL_UNIT_RESERVED_VCL25",t[t.NAL_UNIT_RESERVED_VCL26=26]="NAL_UNIT_RESERVED_VCL26",t[t.NAL_UNIT_RESERVED_VCL27=27]="NAL_UNIT_RESERVED_VCL27",t[t.NAL_UNIT_RESERVED_VCL28=28]="NAL_UNIT_RESERVED_VCL28",t[t.NAL_UNIT_RESERVED_VCL29=29]="NAL_UNIT_RESERVED_VCL29",t[t.NAL_UNIT_RESERVED_VCL30=30]="NAL_UNIT_RESERVED_VCL30",t[t.NAL_UNIT_RESERVED_VCL31=31]="NAL_UNIT_RESERVED_VCL31",t[t.NAL_UNIT_VPS=32]="NAL_UNIT_VPS",t[t.NAL_UNIT_SPS=33]="NAL_UNIT_SPS",t[t.NAL_UNIT_PPS=34]="NAL_UNIT_PPS",t[t.NAL_UNIT_ACCESS_UNIT_DELIMITER=35]="NAL_UNIT_ACCESS_UNIT_DELIMITER",t[t.NAL_UNIT_EOS=36]="NAL_UNIT_EOS",t[t.NAL_UNIT_EOB=37]="NAL_UNIT_EOB",t[t.NAL_UNIT_FILLER_DATA=38]="NAL_UNIT_FILLER_DATA",t[t.NAL_UNIT_PREFIX_SEI=39]="NAL_UNIT_PREFIX_SEI",t[t.NAL_UNIT_SUFFIX_SEI=40]="NAL_UNIT_SUFFIX_SEI",t[t.NAL_UNIT_RESERVED_NVCL41=41]="NAL_UNIT_RESERVED_NVCL41",t[t.NAL_UNIT_RESERVED_NVCL42=42]="NAL_UNIT_RESERVED_NVCL42",t[t.NAL_UNIT_RESERVED_NVCL43=43]="NAL_UNIT_RESERVED_NVCL43",t[t.NAL_UNIT_RESERVED_NVCL44=44]="NAL_UNIT_RESERVED_NVCL44",t[t.NAL_UNIT_RESERVED_NVCL45=45]="NAL_UNIT_RESERVED_NVCL45",t[t.NAL_UNIT_RESERVED_NVCL46=46]="NAL_UNIT_RESERVED_NVCL46",t[t.NAL_UNIT_RESERVED_NVCL47=47]="NAL_UNIT_RESERVED_NVCL47",t[t.NAL_UNIT_UNSPECIFIED_48=48]="NAL_UNIT_UNSPECIFIED_48",t[t.NAL_UNIT_UNSPECIFIED_49=49]="NAL_UNIT_UNSPECIFIED_49",t[t.NAL_UNIT_UNSPECIFIED_50=50]="NAL_UNIT_UNSPECIFIED_50",t[t.NAL_UNIT_UNSPECIFIED_51=51]="NAL_UNIT_UNSPECIFIED_51",t[t.NAL_UNIT_UNSPECIFIED_52=52]="NAL_UNIT_UNSPECIFIED_52",t[t.NAL_UNIT_UNSPECIFIED_53=53]="NAL_UNIT_UNSPECIFIED_53",t[t.NAL_UNIT_UNSPECIFIED_54=54]="NAL_UNIT_UNSPECIFIED_54",t[t.NAL_UNIT_UNSPECIFIED_55=55]="NAL_UNIT_UNSPECIFIED_55",t[t.NAL_UNIT_UNSPECIFIED_56=56]="NAL_UNIT_UNSPECIFIED_56",t[t.NAL_UNIT_UNSPECIFIED_57=57]="NAL_UNIT_UNSPECIFIED_57",t[t.NAL_UNIT_UNSPECIFIED_58=58]="NAL_UNIT_UNSPECIFIED_58",t[t.NAL_UNIT_UNSPECIFIED_59=59]="NAL_UNIT_UNSPECIFIED_59",t[t.NAL_UNIT_UNSPECIFIED_60=60]="NAL_UNIT_UNSPECIFIED_60",t[t.NAL_UNIT_UNSPECIFIED_61=61]="NAL_UNIT_UNSPECIFIED_61",t[t.NAL_UNIT_UNSPECIFIED_62=62]="NAL_UNIT_UNSPECIFIED_62",t[t.PRIV_NAL_MAGIC_HEVC=63]="PRIV_NAL_MAGIC_HEVC",t[t.NAL_UNIT_INVALID=64]="NAL_UNIT_INVALID"}(A||(A={}));var S=i("./src/utils/uint8-array-tools.ts");function T(t){for(var e,i=t.byteLength,r=[],n=1,o=null;n<i-2;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(r.push(n+2),n+=2):n++;if(0===r.length)return t;e=i-r.length,o=new Uint8Array(e);var a=0;for(n=0;n<e;a++,n++)a===r[0]&&(a++,r.shift()),o[n]=t[a];return o}function x(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var L=function(){function t(t){this._buffer=void 0,this._buffer_index=void 0,this._total_bytes=void 0,this._total_bits=void 0,this._current_word=void 0,this._current_word_bits_left=void 0,this._buffer=t,this._buffer_index=0,this._total_bytes=t.byteLength,this._total_bits=8*t.byteLength,this._current_word=0,this._current_word_bits_left=0}var e,i,r,n=t.prototype;return n.destroy=function(){this._buffer=null},n._fillCurrentWord=function(){var t=this._total_bytes-this._buffer_index;if(t<=0||!this._buffer)throw new Error("ExpGolomb: _fillCurrentWord() but no bytes available");var e=Math.min(4,t),i=new Uint8Array(4);i.set(this._buffer.subarray(this._buffer_index,this._buffer_index+e)),this._current_word=new DataView(i.buffer).getUint32(0,!1),this._buffer_index+=e,this._current_word_bits_left=8*e},n.readBits=function(t){if(t>32)throw new Error("ExpGolomb: readBits() bits exceeded max 32bits!");if(t<=this._current_word_bits_left){var e=this._current_word>>>32-t;return this._current_word<<=t,this._current_word_bits_left-=t,e}var i=this._current_word_bits_left?this._current_word:0;i>>>=32-this._current_word_bits_left;var r=t-this._current_word_bits_left;this._fillCurrentWord();var n=Math.min(r,this._current_word_bits_left),o=this._current_word>>>32-n;return this._current_word<<=n,this._current_word_bits_left-=n,i=i<<n|o},n.readBool=function(){return 1===this.readBits(1)},n.readUByte=function(){return this.readBits(8)},n.readUShort=function(){return this.readBits(16)},n.readUInt=function(){return this.readBits(32)},n.readByte=function(){return this.readBits(8)},n._skipLeadingZero=function(){var t;for(t=0;t<this._current_word_bits_left;t++)if(0!=(this._current_word&2147483648>>>t))return this._current_word<<=t,this._current_word_bits_left-=t,t;return this._fillCurrentWord(),t+this._skipLeadingZero()},n.readUEG=function(){var t=this._skipLeadingZero();return this.readBits(t+1)-1},n.readSEG=function(){var t=this.readUEG();return 1&t?t+1>>>1:-1*(t>>>1)},n.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},n.getBitsLeft=function(){return 8*(this._total_bytes-this._buffer_index)+this._current_word_bits_left},e=t,(i=[{key:"bytesAvailable",get:function(){return this._total_bytes-this._buffer_index}}])&&x(e.prototype,i),r&&x(e,r),t}(),C=function(){function t(){}return t.parseHEVCPPS=function(t){var e,i,r=T(t),n=new L(r),o={parallelismType:0};return n.readUEG(),n.readUEG(),n.readBits(7),n.readUEG(),n.readUEG(),n.readSEG(),n.readBits(2),n.readBits(1)&&n.readUEG(),n.readSEG(),n.readSEG(),n.readBits(4),e=n.readBits(1),i=n.readBits(1),o.parallelismType=i&&e?0:i?3:e?2:1,o},t}(),I=i("./src/demux/video/color-space.ts"),D={1:"Main",2:"Main 10",3:"Main Still Picture",4:"Rext"},O={30:"1",60:"2",63:"2.1",90:"3",93:"3.1",120:"4",123:"4.1",150:"5",153:"5.1",156:"5.2",180:"6",183:"6.1",186:"6.2",255:"8.5"},R=function(){function t(){}return t.parseHEVCSPS=function(e){var i=T(e),r=new L(i),n={general_ptl:this.getGeneralPTL(),sub_layer_ptl:[],sub_layer_profile_present_flag:[],sub_layer_level_present_flag:[]};r.readBits(16),r.readBits(4);var o=r.readBits(3),a=o+1;if(r.readBits(1),!t._parsePTL(r,n,a))return null;var s={chroma_format_idc:0,chroma_format_string:"",profile_string:"",level_string:"",bit_depth_luma_minus8:0,bit_depth_chroma_minus8:0,fps:0,width:0,height:0,codec:"",color_info:{colorRange:I.AVColorRange.AVCOL_RANGE_MPEG,colourPrimaries:2,transferCharacteristics:0,matrixCoefficients:0},min_spatial_segmentation_idc:0,ptl:n};if(r.readUEG()>=16)return null;var u=r.readUEG();3==u&&r.readBits(1)&&(u=0),s.width=r.readUEG(),s.height=r.readUEG(),r.readBits(1)&&(r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG()),s.bit_depth_luma_minus8=r.readUEG(),s.bit_depth_chroma_minus8=r.readUEG();for(var c=r.readUEG(),l=r.readBits(1)?0:o;l<=o;l++)r.readUEG(),r.readUEG(),r.readUEG();r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readBits(1)&&r.readBits(1)&&this.skipScalingListData(r),r.readBits(1),r.readBits(1),r.readBits(1)&&(r.readBits(4),r.readBits(4),r.readUEG(),r.readUEG(),r.readBits(1));var f=r.readUEG();if(f>64)return null;for(var d=[],h=0;h<f;h++)if(this.parseRps(r,h,f,d)<0)return null;if(r.readBits(1)){var p=r.readUEG();if(p>31)return null;for(l=0;l<p;l++){var _=Math.min(c+4,16);r.readBits(_),r.readBits(1)}}return r.readBits(1),r.readBits(1),r.readBits(1)&&this.hvccParseVui(r,s,o),r.destroy(),r=null,s.chroma_format_idc=u,s.chroma_format_string=3===u?"4:4:4":"4:2:0",s.profile_string=n.general_ptl.profile_string,s.level_string=n.general_ptl.level_string,s.codec=this.getCodec(n.general_ptl),s},t._parsePTL=function(t,e,i){if(!this._decodeProfileTierLevel(t,e.general_ptl)||t.getBitsLeft()<8+16*(i-1>0?1:0))return!1;e.general_ptl.level_idc=t.readBits(8),e.general_ptl.level_string=this.getHEVCLevelString(e.general_ptl.level_idc),e.sub_layer_profile_present_flag=[],e.sub_layer_level_present_flag=[];for(var r=0;r<i-1;r++)e.sub_layer_profile_present_flag[r]=t.readBits(1),e.sub_layer_level_present_flag[r]=t.readBits(1);if(i-1>0)for(var n=i-1;n<8;n++)t.readBits(2);for(var o=0;o<i-1;o++){if(e.sub_layer_ptl[o]=this.getGeneralPTL(),e.sub_layer_profile_present_flag[o]&&this._decodeProfileTierLevel(t,e.sub_layer_ptl[o]))return!1;if(e.sub_layer_level_present_flag[o]){if(t.getBitsLeft()<8)return!1;e.sub_layer_ptl[o].level_idc=t.readBits(8)}}return!0},t._decodeProfileTierLevel=function(t,e){if(t.getBitsLeft()<88)return!1;e.profile_space=t.readBits(2),e.tier_flag=t.readBits(1),e.profile_idc=t.readBits(5),e.profile_compatibility_flag=[];for(var i=0;i<32;i++)e.profile_compatibility_flag[i]=t.readBits(1),e.profile_compatibility=(e.profile_compatibility_flag[i]<<31-i)+e.profile_compatibility,0==e.profile_idc&&i>0&&e.profile_compatibility_flag[i]&&(e.profile_idc=i);for(var r=0;r<6;r++)e.constraint_indicator.push(t.readBits(8));return e.profile_string=this.getHEVCProfileString(e.profile_idc),!0},t.parseSPS=function(e){var i=T(e),r=new L(i);r.readByte();var n=r.readByte();r.readByte();var o=r.readByte();r.readUEG();var a=t.getProfileString(n),s=t.getLevelString(o),u=1,c=420,l=8,f=0;if((100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n||138===n||144===n)&&(3===(u=r.readUEG())&&r.readBits(1),u<=3&&(c=[0,420,422,444][u]),l=r.readUEG(),f=r.readUEG(),r.readBits(1),r.readBool()))for(var d=3!==u?8:12,h=0;h<d;h++)r.readBool()&&(h<6?t._skipScalingList(r,16):t._skipScalingList(r,64));r.readUEG();var p=r.readUEG();if(0===p)r.readUEG();else if(1===p){r.readBits(1),r.readSEG(),r.readSEG();for(var _=r.readUEG(),v=0;v<_;v++)r.readSEG()}r.readUEG(),r.readBits(1);var m=r.readUEG(),g=r.readUEG(),y=r.readBits(1);0===y&&r.readBits(1),r.readBits(1);var E=0,w=0,A=0,b=0;r.readBool()&&(E=r.readUEG(),w=r.readUEG(),A=r.readUEG(),b=r.readUEG());var S=1,x=1,C=0,D=!0,O=0,R=0,k=I.AVColorRange.AVCOL_RANGE_MPEG,N=2,M=0,P=0;if(r.readBool()){if(r.readBool()){var U=r.readByte();U>0&&U<16?(S=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][U-1],x=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][U-1]):255===U&&(S=r.readByte()<<8|r.readByte(),x=r.readByte()<<8|r.readByte())}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(3),k=r.readBits(1)?I.AVColorRange.AVCOL_RANGE_JPEG:I.AVColorRange.AVCOL_RANGE_MPEG,r.readBool()&&(N=r.readBits(8),M=r.readBits(8),P=r.readBits(8))),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool()){var B=r.readBits(32),F=r.readBits(32);D=r.readBool(),C=(O=F)/(R=2*B)}}var K=1;1===S&&1===x||(K=S/x);var j=0,V=0;0===u?(j=1,V=2-y):(j=3===u?1:2,V=(1===u?2:1)*(2-y));var H=16*(m+1),q=16*(g+1)*(2-y);H-=(E+w)*j,q-=(A+b)*V;var G=Math.ceil(H*K);r.destroy(),r=null;for(var z=e.subarray(1,4),W="avc1.",X=0;X<3;X++){var Y=z[X].toString(16);Y.length<2&&(Y="0"+Y),W+=Y}return{profile_string:a,level_string:s,bit_depth_luma_minus8:l,bit_depth_chroma_minus8:f,chroma_format:c,chroma_format_string:t.getChromaFormatString(c),frame_rate:{fixed:D,fps:C,fps_den:R,fps_num:O},sar_ratio:{width:S,height:x},codec_size:{width:H,height:q},present_size:{width:G,height:q},color_info:{colorRange:k,colourPrimaries:N,transferCharacteristics:M,matrixCoefficients:P},codec:W}},t._skipScalingList=function(t,e){for(var i=8,r=8,n=0;n<e;n++)0!==r&&(r=(i+t.readSEG()+256)%256),i=0===r?i:r},t.getProfileString=function(t){switch(t){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},t.getLevelString=function(t){return(t/10).toFixed(1)},t.getChromaFormatString=function(t){switch(t){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},t.getHEVCProfileString=function(t){return D[t]},t.getHEVCLevelString=function(t){return O[t]},t.getCodec=function(t){for(var e=t.profile_compatibility.toString(16);e.length>1;){var i=e.length-1;if("0"!==e.charAt(i))break;e=e.slice(0,i)}for(var r="",n=!1,o=5;o>=0;o--)(t.constraint_indicator[o]||n)&&(r="."+t.constraint_indicator[o].toString(16)+r,n=!0);return"hev1."+["","A","B","C"][t.profile_space]+t.profile_idc+"."+e+"."+(0===t.tier_flag?"L":"H")+t.level_idc+r},t.getGeneralPTL=function(){return{profile_space:0,tier_flag:0,profile_idc:0,profile_compatibility:0,profile_compatibility_flag:[],constraint_indicator:[],level_idc:0,profile_string:"",level_string:""}},t.skipScalingListData=function(t){var e,i,r,n;for(e=0;e<4;e++)for(i=0;i<(3==e?2:6);i++)if(t.readBits(1))for(n=Math.min(64,1<<4+(e<<1)),e>1&&t.readSEG(),r=0;r<n;r++)t.readSEG();else t.readUEG()},t.parseRps=function(t,e,i,r){var n;if(e&&t.readBits(1)){if(e>=i)return-1;for(t.readBits(1),t.readUEG(),r[e]=0,n=0;n<=r[e-1];n++){var o=0,a=t.readBits(1);a||(o=t.readBits(1)),(a||o)&&r[e]++}}else{var s=t.readUEG(),u=t.readUEG();if(2*(u+s)>t.getBitsLeft())return-1;for(r[e]=s+u,n=0;n<s;n++)t.readUEG(),t.readBits(1);for(n=0;n<u;n++)t.readUEG(),t.readBits(1)}return 0},t.hvccParseVui=function(t,e,i){var r;t.readBits(1)&&255===t.readBits(8)&&t.readBits(32),t.readBits(1)&&t.readBits(1),t.readBits(1)&&(t.readBits(3),t.readBits(1),t.readBits(1)&&(e.color_info.colourPrimaries=t.readBits(8),e.color_info.transferCharacteristics=t.readBits(8),e.color_info.matrixCoefficients=t.readBits(8))),t.readBits(1)&&(t.readUEG(),t.readUEG()),t.readBits(3),t.readBits(1)&&(t.readUEG(),t.readUEG(),t.readUEG(),t.readUEG()),t.readBits(1)&&(this.parseTimingInfo(t,e),t.readBits(1)&&this.skipHrdParameters(t,1,i)),t.readBits(1)&&(t.readBits(3),r=t.readUEG(),e.min_spatial_segmentation_idc=Math.min(e.min_spatial_segmentation_idc,r),t.readUEG(),t.readUEG(),t.readUEG(),t.readUEG())},t.parseTimingInfo=function(t,e){var i=t.readBits(32),r=t.readBits(32);e.fps=r/i||0,t.readBits(1)&&t.readUEG()},t.skipHrdParameters=function(t,e,i){var r,n=0,o=0,a=0;for(e&&(o=t.readBits(1),a=t.readBits(1),(o||a)&&((n=t.readBits(1))&&t.readBits(19),t.readBits(8),n&&t.readBits(4),t.readBits(15))),r=0;r<=i;r++){var s=0,u=0,c=0;if(t.readBits(1)||(c=t.readBits(1)),c?t.readUEG():u=t.readBits(1),!u&&(s=t.readUEG())>31)return-1;o&&this._skipSubLayerHrdParameters(t,s,n),a&&this._skipSubLayerHrdParameters(t,s,n)}return 0},t._skipSubLayerHrdParameters=function(t,e,i){var r;for(r=0;r<=e;r++)t.readUEG(),t.readUEG(),i&&(t.readUEG(),t.readUEG()),t.readBits(1)},t}(),k=function(){function t(){}return t.parseAVCC=function(t){var e=t[0],i=t[1],r=t[2],n=t[3];if(1===e&&0!==i){var a=1+(3&t[4]);if(3===a||4===a){var s=31&t[5];if(0!==s){s>1&&o.Log.w("video-config","H264 SPS count: "+s);for(var u=6,c=[],l=[],f=[],d=0;d<s;d++){var h=Object(S.readUint16)(t,u);if(u+=2,0!==h){var p=t.subarray(u,u+h);u+=h,c.push(p),l.push(R.parseSPS(p));var _=t[u];if(0===_)return void o.Log.e("video-config","Invalid H264 PPS count: "+_);_>1&&o.Log.w("video-config","H264 PPS count: "+_),u++;for(var v=0;v<_;v++){var m=Object(S.readUint16)(t,u);u+=2;var g=t.subarray(u,u+m);f.push(g),0!==m&&(u+=m)}}}return{version:e,avcProfile:i,profileCompatibility:r,avcLevel:n,naluLengthSize:a,spsList:c,ppsList:f,spsConfigList:l}}o.Log.e("video-config","Invalid H264 SPS count: "+s)}else o.Log.e("video-config","MP4: Strange NaluLengthSizeMinusOne: "+(a-1))}else o.Log.e("video-config","Invalid AVCDecoderConfigurationRecord")},t.parseHVCC=function(t){var e=22,i=t[e];e++;for(var r=[],n=[],a=[],s=[],u=[],c=0;c<i;c++){var l=63&t[e];e+=1;var f=Object(S.readUint16)(t,e);e+=2;for(var d=0;d<f;d++){var h=Object(S.readUint16)(t,e);if(e+=2,0!==h){var p=t.subarray(e,e+h);if(l===A.NAL_UNIT_VPS)o.Log.v("video-config","VPS lengh "+h),u.push(p);else if(l===A.NAL_UNIT_SPS){o.Log.v("video-config","SPS lengh "+h),r.push(p);var _=R.parseHEVCSPS(p);_&&n.push(_)}else if(l===A.NAL_UNIT_PPS){a.push(p),o.Log.v("video-config","PPS lengh "+h);var v=C.parseHEVCPPS(p);v&&s.push(v)}e+=h}}}return{vpsList:u,spsList:r,ppsList:a,spsConfigList:n,ppsConfigList:s}},t}(),N=function(){function t(){}return t.isAVCTrackUpdate=function(t,e){return!!t.codec&&(t.width!==e.codec_size.width||t.height!==e.codec_size.height||e.codec!==t.codec)},t.updateAVCTrack=function(t,e){if(e.spsConfigList.length){var i=e.spsConfigList[e.spsConfigList.length-1];t.sps=e.spsList,t.pps=e.ppsList,t.width=i.codec_size.width,t.height=i.codec_size.height,t.pixelRatio=[i.sar_ratio.width,i.sar_ratio.height],i.frame_rate.fixed&&0!==i.frame_rate.fps&&(t.fps=i.frame_rate.fps),t.codec=i.codec,t.profile=i.profile_string,t.level=i.level_string,t.chromaFormat=i.chroma_format_string,t.bitDepth=i.bit_depth_luma_minus8+8,t.colorInfo=i.color_info,t.fps&&(t.sampleDuration=Math.floor(t.timescale/t.fps))}},t.isHEVCTrackUpdate=function(t,e){return!!t.codec&&(t.width!==e.width||t.height!==e.height||e.codec!==t.codec)},t.updateHEVCTrack=function(t,e){if(e.spsConfigList.length){var i=e.spsConfigList[e.spsConfigList.length-1];t.sps=e.spsList,t.pps=e.ppsList,t.width=t.codecWidth=i.width,t.height=t.codecHeight=i.height,t.codec=i.codec,t.profile=i.profile_string,t.level=i.level_string,t.chromaFormat=i.chroma_format_string,t.bitDepth=i.bit_depth_luma_minus8+8,t.fps=i.fps,t.colorInfo=i.color_info}},t}();function M(){return(M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function P(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var U=function(){var t,e,i;function a(t,e,i,r){this._eventEmitter=void 0,this._remuxer=void 0,this._config=void 0,this._duration=1/0,this._naluLengthSize=4,this._videoTrack=void 0,this._audioTrack=void 0,this._remuxStat=void 0,this._firstRemux=!0,this._currentTimestamp=0,this._aLastDTS=void 0,this._vLastDTS=void 0,this._typeSupported=void 0,this._transmuxData=void 0,this._tagDump=void 0,this._gopRemux=!1,this._timeExceptionInfo=void 0,this._lastKeyFrame=void 0,this._firstVideoTag=!1,this._eventEmitter=t,this._remuxer=e,this._config=i,this._typeSupported=r,this._gopRemux=!!this._config.gopRemux,this._videoTrack=Object(_.createVideoTrack)(1/0),this._audioTrack=Object(_.createAudioTrack)(1/0),this._tagDump=new b(this._eventEmitter)}a.probe=function(t){return t.byteLength>=3&&70===t[0]&&76===t[1]&&86===t[2]},t=a,i=[{key:"probeSize",get:function(){return 188}}],(e=null)&&P(t.prototype,e),i&&P(t,i);var s=a.prototype;return s.append=function(t,e,i,r,o){var a=this;if(void 0===o&&(o=!1),!t.byteLength&&o)return this._gopRemux?this._onGOPEnd():this._remux(o),this._tagDump.reset(),void this._eventEmitter.emit(n.default.PARSED_DATA,{extra:this._transmuxData});var s=this._tagDump.append(t),u=this._tagDump.trackInfo;void 0===this._videoTrack.active&&u&&(this._videoTrack.active=u.hasVideo,this._audioTrack.active=u.hasAudio,this._videoTrack.active||(this._gopRemux=!1));var c=s.tags;s.head&&this._eventEmitter.emit(n.default.FLV_HEAD,{head:s.head}),this._remuxStat||(this._remuxStat={timeOffset:e,contiguous:i,accurateTimeOffset:r}),c.length&&(c.forEach((function(t){t.tagType===g.FlvTagType.VIDEO&&a._videoTrack.active&&(a._firstVideoTag||(a._audioTrack.samples.length&&a._discontinuity(),a._firstVideoTag=!0),a._parseVideoData(t)),t.tagType===g.FlvTagType.AUDIO&&a._audioTrack.active&&a._parseAudioData(t),t.tagType===g.FlvTagType.SCRIPT&&a._parseScriptTag(t)})),this._gopRemux||this._remux(o),o&&(this._tagDump.reset(),this._eventEmitter.emit(n.default.PARSED_DATA,{extra:this._transmuxData})))},s.destroy=function(){},s.flush=function(){this._remux(!0),this._remuxStat=void 0},s.resetInitSegment=function(t){this._transmuxData=t,this._firstRemux=!0,this._videoTrack.samples=[],this._audioTrack.samples=[],this._aLastDTS=this._vLastDTS=void 0,this._remuxStat=void 0,this._duration=t.duration,this._lastKeyFrame=void 0,this._timeExceptionInfo=void 0,"boolean"==typeof t.hasAudio&&"boolean"==typeof t.hasVideo&&(this._audioTrack.active=t.hasAudio,this._videoTrack.active=t.hasVideo,this._videoTrack.active||(this._gopRemux=!1)),this._tagDump.reset()},s.resetTimeStamp=function(){},s._discontinuity=function(){this._remux(!0),this._remuxer.ISGenerated&&this._transmuxData&&this._remuxer.resetInitSegment(this._transmuxData)},s._isTimeException=function(t,e,i){return i<e||i-e>1e3},s._checkTimestamp=function(t,e,i){this._isTimeException(t,e,i)&&(this._gopRemux=!0,this._timeExceptionInfo?this._timeExceptionInfo.list.push({aDTS:this._aLastDTS,vDTS:this._vLastDTS}):(this._timeExceptionInfo={list:[{aDTS:this._aLastDTS,vDTS:this._vLastDTS}]},(this._videoTrack.active&&"number"==typeof this._vLastDTS||this._audioTrack.active&&"number"==typeof this._aLastDTS)&&this._remux(!0)))},s._onGOPEnd=function(){this._gopRemux&&(o.Log.v("flv-demuxer","gop end"),this._timeExceptionInfo&&this._videoTrack.active&&this._videoTrack.samples.length?(this._fixTime(),this._timeExceptionInfo=void 0,this._gopRemux=!!this._config.gopRemux):this._remux(!0))},s._resetTrackSamples=function(t){var e=t.samples;if(e.length>1)for(var i=t.sampleDuration||1,r=e[e.length-1],n=e.length-2;n>=0;n--){var o=e[n].pts-e[n].dts;e[n].dts=r.dts-i,e[n].pts=e[n].dts+o,r=e[n]}},s._fixTime=function(){this._timeExceptionInfo&&(this._videoTrack.samples,this._timeExceptionInfo.list.length>1&&(this._resetTrackSamples(this._videoTrack),this._resetTrackSamples(this._audioTrack)));var t=this._remuxer.getLastPTS(),e=0===t.audio||t.video>0&&t.video<t.audio?t.video:t.audio;o.Log.i("flv-demuxer","fix offset",e),this._remuxStat={accurateTimeOffset:!0,contiguous:!1,timeOffset:e},this._transmuxData&&this._remuxer.resetInitSegment(this._transmuxData),this._remuxer.resetTimeStamp(),this._audioTrack.samples.length&&(this._aLastDTS=1e3*this._audioTrack.samples[this._audioTrack.samples.length-1].dts/this._audioTrack.inputTimescale),this._videoTrack.samples.length&&(this._vLastDTS=1e3*this._videoTrack.samples[this._videoTrack.samples.length-1].dts/this._videoTrack.inputTimescale),this._remux(!0)},s._parseScriptTag=function(t){if(t.body){var e=m.parseMetadata(t.body.buffer);if(e.timestamp=this._currentTimestamp||0,e.hasOwnProperty("onMetaData")){var i=e.onMetaData;if("number"==typeof i.duration&&(this._duration=this._duration||i.duration),"number"==typeof i.framerate&&(this._videoTrack.fps=this._videoTrack.fps||i.framerate),i.keyframes&&i.keyframes.filepositions&&Array.isArray(i.keyframes.filepositions)&&i.keyframes.times&&Array.isArray(i.keyframes.times)&&i.keyframes.filepositions.length===i.keyframes.times.length){var r=[];i.keyframes.times.forEach((function(t,e){r.push({time:t,position:i.keyframes.filepositions[e]})})),i.keyframes=r}o.Log.i("flv-demuxer","Parsed onMetaData"),this._eventEmitter.emit(n.default.METADATA,i)}}},s._parseVideoData=function(t){if(t.body){var e=t.body[0];t.frameType=(240&e)>>>4;var i=15&e;if(7===i||12===i){t.codecId=i;var a=t.body[1];if(t.cts=((255&t.body[2])<<16)+((255&t.body[3])<<8)+(255&t.body[4]),8388608&t.cts&&(t.cts=t.cts+1-16777215),t.cts<0&&(t.cts=0),0===a)7===i?this._parseAVCDecoderConfigurationRecord(t):12===i&&(this._typeSupported.h265?(this._config.gopRemux=this._gopRemux=!0,this._parseHEVCDecoderConfigurationRecord(t)):(this._videoTrack.active=!1,o.Log.w("HEVC stream type found, not supported for now")));else if(1===a){if(!this._videoTrack.codec)return;var s=this._parseAVCVideoData(t)||{};1===t.frameType&&(s.timestamp=t.timestamp,s.ptsOrignMs=t.timestamp+t.cts,this._eventEmitter.emit(n.default.PRIV_NAL,s))}else if(2!==a)return void this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"Flv: Invalid video packet type "+a})}else this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"Flv: Unsupported codec in video frame: "+i})}},s._parseHEVCDecoderConfigurationRecord=function(t){if(t.body){var e=this._videoTrack,i=t.body.subarray(g.FLV_VIDEO_TAG_HEAD_LEN,t.body.byteLength),o=k.parseHVCC(i);o&&o.spsConfigList.length?(N.isHEVCTrackUpdate(e,o.spsConfigList[o.spsConfigList.length-1])&&this._discontinuity(),N.updateHEVCTrack(e,o),e.hvcc=i,e.duration=this._duration):this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"Invalid HEVCDecoderConfigurationRecord"})}},s._parseAVCDecoderConfigurationRecord=function(t){if(t.body){var e=this._videoTrack,i=k.parseAVCC(t.body.subarray(g.FLV_VIDEO_TAG_HEAD_LEN,t.body.byteLength));i&&i.spsConfigList.length?(N.isAVCTrackUpdate(e,i.spsConfigList[i.spsConfigList.length-1])&&this._discontinuity(),N.updateAVCTrack(e,i),e.duration=this._duration):this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"Invalid AVCDecoderConfigurationRecord"})}},s._parseAVCVideoData=function(t){if(t.body){var e,i=t.body.buffer,r=t.body.byteLength-g.FLV_VIDEO_TAG_HEAD_LEN,n=new DataView(i,g.FLV_VIDEO_TAG_HEAD_LEN,r),a=[],s=0,u=0,c=this._naluLengthSize,l=t.timestamp,d=l+t.cts,p=1===t.frameType;for(p&&this._onGOPEnd(),"number"==typeof this._vLastDTS&&this._checkTimestamp(f.TrackType.VIDEO,this._vLastDTS,l);u<r;){if(u+4>=r){o.Log.v("flv-demuxer","Malformed Nalu near timestamp "+l+", offset = "+u+", dataSize = "+r);break}var _=n.getUint32(u);if(3===c&&(_>>>=8),_>r-c)return void o.Log.v("flv-demuxer","Malformed Nalus near timestamp "+l+", NaluSize > DataSize!");var v=new Uint8Array(i,g.FLV_VIDEO_TAG_HEAD_LEN+u+4,c+_-4),m=void 0;if(7===t.codecId){if((m=31&n.getUint8(u+c))===w.NAL_IDR_SLICE)p=!0;else if(m===w.PRIV_NAL_MAGIC_H264)try{e=h.parse(v,!0)}catch(t){o.Log.w("flv-demuxer","PrivNal parse error "+t)}}else if(12===t.codecId)if((m=(126&n.getUint8(u+c))>>1)===A.NAL_UNIT_CODED_SLICE_IDR_W_RADL||m===A.NAL_UNIT_CODED_SLICE_IDR_N_LP||m===A.NAL_UNIT_CODED_SLICE_CRA)p=!0;else if(m===A.PRIV_NAL_MAGIC_HEVC)try{e=h.parse(v,!1)}catch(t){o.Log.w("flv-demuxer","PrivNal parse error "+t)}var y={type:m,data:v};a.push(y),s+=v.byteLength,u+=c+_}if(a.length){var E=this._videoTrack,b={units:a,length:s,dts:90*l,cts:90*t.cts,pts:90*d,streamDTS:t.timestamp,key:p,extraInfo:{dtsOrignMs:l,ptsOrignMs:l+t.cts,parseMs:0}};self.performance&&(b.extraInfo.parseMs=performance.now()),b.key&&(this._lastKeyFrame=M({},b)),E.samples.push(b)}return this._vLastDTS=l,e}},s._parseAudioData=function(t){var e;if(t.body)if(t.body.byteLength<=1)o.Log.v("flv-demuxer","Flv: Invalid audio packet, missing SoundData payload!");else{var i=this._audioTrack,r=t.body[0]>>4;if(10!==r)return o.Log.w("flv-demuxer","audio unsupported codec "+r),void(i.active=!1);var n=t.body[1];if(0===n){if(t.body.byteLength<4)return;var a=t.body.subarray(2,4);return(p.isUpdate(i,a)||!i.configParsed)&&i.codec&&i.samples.length&&this._discontinuity(),p.initTrackConfig(i,this._eventEmitter,a,d.AudioConfigType.ASC,this._config.audioCodec),void(i.duration=this._duration)}if(1===n&&i.samplerate){var s=t.body.subarray(2),u=t.timestamp;e=i.sampleDuration/90,"number"==typeof this._aLastDTS&&(this._videoTrack.active?(this._checkTimestamp(f.TrackType.AUDIO,this._aLastDTS,t.timestamp),this._timeExceptionInfo||(u=this._aLastDTS+e)):u=this._aLastDTS+e);var c=u/1e3*i.inputTimescale,l={unit:s,dts:c,pts:c,streamDTS:t.timestamp,length:s.byteLength,extraInfo:{dtsOrignMs:u,ptsOrignMs:u,parseMs:0}};self.performance&&(l.extraInfo.parseMs=performance.now()),this._aLastDTS=u,i.samples.push(l)}else o.Log.v("flv-demuxer","Flv: Unsupported AAC data type "+n)}},s._remux=function(t){void 0===t&&(t=!1);var e=this._audioTrack,i=this._videoTrack,a=!0,s=0,u=!1;if(this._remuxStat&&(a=this._remuxStat.contiguous,s=this._remuxStat.timeOffset,u=this._remuxStat.accurateTimeOffset),0!==e.samples.length||0!==i.samples.length)if(t||!(this._audioTrack.active&&0===e.samples.length||this._videoTrack.active&&i.samples.length<2)){this._firstRemux&&(this._firstRemux=!1,this._eventEmitter.emit(n.default.MEDIA_DEMUX,{type:d.DemuxerType.FLV}));try{this._remuxer.remux(e,i,s,a,u,t),this._remuxStat=void 0}catch(t){o.Log.e("flv-demuxer",t),this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.REMUX_ERROR,fatal:!0,reason:t.message})}}else(e.configParsed&&this._getTrackDuration(e)>30||i.codec&&this._getTrackDuration(i)>30)&&this._remux(!0);else t&&this._remuxer.flush()},s._getTrackDuration=function(t){return t.samples.length?(t.samples[t.samples.length-1].pts-t.samples[0].pts)/9e4:0},a}(),B=i("./src/remux/mp4-remuxer.ts");function F(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var K,j=function(){function t(t,e,i,r){void 0===r&&(r=""),this._eventEmitter=void 0,this._transmuxData=void 0,this._eventEmitter=t}var e,i,r,o=t.prototype;return o.destroy=function(){},o.resetTimeStamp=function(){},o.resetInitSegment=function(t){this._transmuxData=t},o.flush=function(){},o.getLastPTS=function(){},o.remux=function(t,e,i,r,o,a,s){if(void 0===a&&(a=!1),void 0===s&&(s=void 0),s){var u={payload:s,startPTS:i,startDTS:i,endPTS:0,endDTS:0,type:t?f.TrackType.AUDIO:f.TrackType.VIDEO,streamDTS:0,framesInfo:[]};this._eventEmitter.emit(n.default.PARSING_DATA,{segments:[u],extra:this._transmuxData})}},e=t,(i=[{key:"ISGenerated",get:function(){return!0}}])&&F(e.prototype,i),r&&F(e,r),t}(),V=function(){function t(){}return t.parseOneDescriptor=function(e){var i,r,n=0;for(i=e.data[e.pos],r=e.data[e.pos+1],e.pos+=2;128&r;)n=(127&r)<<7,r=e.data[e.pos],e.pos++;n+=127&r;var o=e.data.subarray(e.pos,e.pos+n);return 3===i?t._parseESDesc(e):4===i?t._parseDecoderConfigDescriptor(e):(e.pos+=n,{tag:i,data:o})},t.getAudioConfig=function(e){if(5===e.tag)return e.data;if(e.descs&&e.descs.length)for(var i=0;i<e.descs.length;i++){var r=t.getAudioConfig(e.descs[i]);if(r)return r}},t._parseESDesc=function(e){var i=Object(S.readUint16)(e.data,e.pos);e.pos+=2;var r=e.data[e.pos];e.pos++;var n=0;128&r&&(n=Object(S.readUint16)(e.data,e.pos),e.pos+=2);var o="";if(64&r){var a=e.data[e.pos];o=Object(S.bin2str)(e.data,e.pos+1,a),e.pos+=a+1}var s=0;32&r&&(s=Object(S.readUint16)(e.data,e.pos),e.pos+=2);var u={tag:3,data:e.data,id:i,dependsOnESID:n,url:o,ocrESID:s};return e.pos<e.data.byteLength&&(u.descs=t._parseRemainingDescriptors(e)),u},t._parseDecoderConfigDescriptor=function(e){var i={tag:4,data:e.data,oti:e.data[e.pos],streamType:e.data[e.pos+1],bufferSize:Object(S.readUint24)(e.data,e.pos+2),maxBitrate:Object(S.readUint32)(e.data,e.pos+5),avgBitrate:Object(S.readUint32)(e.data,e.pos+9)};return e.pos+=13,e.data.byteLength>13&&(i.descs=t._parseRemainingDescriptors(e)),i},t._parseRemainingDescriptors=function(e){for(var i=[];e.pos<e.data.byteLength;){var r=t.parseOneDescriptor(e);i.push(r)}return i},t}();!function(t){t[t.SIZE=0]="SIZE",t[t.NAME=1]="NAME",t[t.BIG_SIZE=2]="BIG_SIZE",t[t.DATA=3]="DATA"}(K||(K={}));var H=function(){function t(){}return t.findBox=function(e,i){var r,n,o,a,s=[];if(!i.length)return s;for(var u=0;0<e.byteLength;)r=Object(S.readUint32)(e,0),n=Object(S.bin2str)(e.subarray(4,8),4),u=8,1===r&&(r=Object(S.readUint64)(e,8),u=16),a=0+r,n===i[0]&&(1===i.length?s.push(e.subarray(0+u,a)):(o=t.findBox(e.subarray(0+u,a),i.slice(1))).length&&(s=s.concat(o)));return s},t.readBoxes=function(t){for(var e=0,i=K.SIZE,r={size:0,headSize:8,name:""},n=[];e<t.byteLength;)switch(i){case K.SIZE:r.size=Object(S.readUint32)(t,e),e+=4,i=K.NAME;break;case K.NAME:r.name=Object(S.bin2str)(t,e,4),e+=4,i=1===r.size?K.BIG_SIZE:K.DATA;break;case K.BIG_SIZE:r.size=Object(S.readUint64)(t,e),r.headSize=16,e+=8,i=K.DATA;break;case K.DATA:r.data=t.subarray(e,e+r.size-r.headSize),e+=r.data.byteLength,i=K.SIZE,n.push(r),r={size:0,headSize:8,name:""}}return n},t.readBox=function(t,e){void 0===e&&(e=0);for(var i=e,r=K.SIZE,n={size:0,headSize:8,name:""};i<t.byteLength&&!n.data;)switch(r){case K.SIZE:n.size=Object(S.readUint32)(t,i),i+=4,r=K.NAME;break;case K.NAME:n.name=Object(S.bin2str)(t,i,4),i+=4,r=1===n.size?K.BIG_SIZE:K.DATA;break;case K.BIG_SIZE:n.size=Object(S.readUint64)(t,i),n.headSize=16,i+=8,r=K.DATA;break;case K.DATA:if(!(t.byteLength-i>=n.size-n.headSize)){i=t.byteLength;break}n.data=t.subarray(i,i+n.size-n.headSize),i+=n.data.byteLength,r=K.SIZE}if(n.size)return n},t.moov=function(e){var i={trak:[]};return e.data&&t.readBoxes(e.data).forEach((function(e){e.data&&("mvhd"===e.name?i.mvhd=t._mvhd(e.data):"trak"===e.name&&i.trak.push(t._trak(e.data)))})),i},t.moof=function(t){},t.esds=function(t){if(t.data)return V.parseOneDescriptor({data:t.data,pos:4})},t._mvhd=function(t){var e=t[0],i=0,r=0;return 1===e?(i=Object(S.readUint32)(t,20),r=Object(S.readUint64)(t,24)):0===e&&(i=Object(S.readUint32)(t,12),r=Object(S.readUint32)(t,16)),{timescale:i,duration:r}},t._trak=function(e){var i={};return t.readBoxes(e).forEach((function(e){e.data&&("tkhd"===e.name?i.tkhd=t._tkhd(e.data):"tref"===e.name?i.tref=t._tref(e.data):"mdia"===e.name&&(i.mdia=t._mdia(e.data)))})),i},t._tkhd=function(t){var e=0,i=0,r=4;return 1===t[0]?(e=Object(S.readUint32)(t,r+16),i=Object(S.readUint64)(t,r+24),r+=32):(e=Object(S.readUint32)(t,r+8),i=Object(S.readUint32)(t,r+16),r+=20),r+=52,{width:Object(S.readUint32)(t,r)>>16,height:Object(S.readUint32)(t,r+4)>>16,trackId:e,duration:i}},t._tref=function(t){return{referenceType:Object(S.bin2str)(t,4,4),trackId:Object(S.readUint32)(t,8)}},t._mdia=function(e){var i={};return t.readBoxes(e).forEach((function(e){e.data&&("minf"===e.name?i.minf=t._minf(e.data):"hdlr"===e.name?i.hdlr=t._hdlr(e.data):"mdhd"===e.name&&(i.mdhd=t._mdhd(e.data)))})),i},t._hdlr=function(t){var e={};return 0===t[0]&&(e.type=Object(S.bin2str)(t,8,4)),e},t._minf=function(e){var i={};return t.readBoxes(e).forEach((function(e){e.data&&("dinf"===e.name?t._dinf(e.data):"stbl"===e.name&&(i.stbl=t._stbl(e.data)))})),i},t._dinf=function(e){t.readBoxes(e).forEach((function(e){e.data&&"dref"===e.name&&t._dref(e.data)}))},t._dref=function(t){t[0];for(var e=Object(S.readUint32)(t,4),i=0;i<e&&8<t.byteLength;i++);},t._stbl=function(e){var i={};return t.readBoxes(e).forEach((function(e){e.data&&("stsd"===e.name?i.stsd=t._stsd(e.data):"stts"===e.name?i.stts=t._stts(e.data):"stsc"===e.name?i.stsc=t._stsc(e.data):"stco"===e.name?i.stco=t._stco(e.data):"co64"===e.name?i.stco=t._co64(e.data):"stsz"===e.name?i.stsz=t._stsz(e.data):"stss"===e.name?i.stss=t._stss(e.data):"ctts"===e.name?i.ctts=t._ctts(e.data):"sgpd"===e.name?i.sgpd=t._sgpd(e.data):"stdp"===e.name?i.stdp=t._stdp(e.data):"sdtp"===e.name?i.sdtp=t._sdtp(e.data):"sbgp"===e.name?i.sbgp=t._sbgp(e.data):"subs"===e.name&&(i.subs=t._subs(e.data)))})),i},t._subs=function(t){var e=t[0],i={entries:[]},r=4,n=Object(S.readUint32)(t,r);r+=4;for(var o=0;o<n;o++){var a={sampleDelta:Object(S.readUint32)(t,r),subSamples:[]};i.entries.push(a);var s=Object(S.readUint16)(t,r+4);r+=6;for(var u=0;u<s;u++){1===e?(Object(S.readUint32)(t,r),r+=4):(Object(S.readUint16)(t,r),r+=2);var c={priority:t[r],discardable:t[r+1],codecSpecificParameters:Object(S.readUint32)(t,r+2)};a.subSamples.push(c),r+=6}}return i},t._sbgp=function(t){var e=t[0],i=4,r={groupingType:Object(S.bin2str)(t,i,4),entries:[]};i+=4,1===e&&(Object(S.readUint32)(t,i),i+=4);var n=Object(S.readUint32)(t,i);i+=4;for(var o=0;o<n;o++)r.entries.push({sampleCount:Object(S.readInt32)(t,i),groupDescriptionIndex:Object(S.readInt32)(t,i+4)}),i+=8;return r},t._sdtp=function(t){for(var e={entries:[]},i=4;i<t.byteLength;)e.entries.push({sampleDependsOn:t[i]>>4&3,sampleIsDependedOn:t[i]>>2&3,sampleHasRedundancy:3&t[i]}),i++;return e},t._stdp=function(t){for(var e={priority:[]},i=4;i<t.length;)e.priority.push(Object(S.readUint16)(t,i)),i+=2;return e},t._sgpd=function(t){var e=t[0],i={type:Object(S.bin2str)(t,4,4),entries:[]},r=0,n=8;1===e&&(r=Object(S.readUint32)(t,n),n+=4),2===e&&(Object(S.readUint32)(t,n),n+=4);var o=Object(S.readUint32)(t,n);n+=4;for(var a=0;a<o;a++){var s=0;1===e&&0===r?(s=Object(S.readUint32)(t,n),n+=4):s=r;var u={descriptionLength:s,data:t.subarray(n,n+s)};n+=s,i.entries.push(u)}return i},t._stsd=function(e){return e[0],Object(S.readUint32)(e,4),{sampleEntrys:t.readBoxes(e.subarray(8,e.byteLength))}},t._stts=function(t){for(var e=Object(S.readUint32)(t,4),i=8,r=[],n=0;n<e;n++)r.push({sampleCount:Object(S.readUint32)(t,i),sampleDelta:Object(S.readUint32)(t,i+4)}),i+=8;return{timeToSample:r}},t._stsc=function(t){t[0];for(var e=Object(S.readUint32)(t,4),i=8,r=[],n=0;n<e;n++)r.push({firstChunk:Object(S.readUint32)(t,i),samplesPerChunk:Object(S.readUint32)(t,i+4),sampleDescriptionIndex:Object(S.readUint32)(t,i+8)}),i+=12;return{sampleToChunkBox:r}},t._stco=function(t){for(var e=Object(S.readUint32)(t,4),i=8,r=[],n=0;n<e;n++)r.push(Object(S.readUint32)(t,i)),i+=4;return{chunkOffset:r}},t._co64=function(t){for(var e=Object(S.readUint32)(t,4),i=8,r=[],n=0;n<e;n++)r.push(Object(S.readUint64)(t,i)),i+=4;return{chunkOffset:r}},t._stsz=function(t){var e=Object(S.readUint32)(t,4),i=Object(S.readUint32)(t,8),r=12;if(0===e){e=[];for(var n=0;n<i;n++)e.push(Object(S.readUint32)(t,r)),r+=4}return{sampleCount:i,SampleSize:e}},t._stss=function(t){for(var e=Object(S.readUint32)(t,4),i=8,r=[],n=0;n<e;n++)r.push(Object(S.readUint32)(t,i)),i+=4;return{sampleNumber:r}},t._ctts=function(t){var e=t[0],i=Object(S.readUint32)(t,4),r=8,n=[];if(0===e)for(var o=0;o<i;o++){var a=Object(S.readUint32)(t,r),s=Object(S.readInt32)(t,r+4);n.push({sampleCount:a,sampleOffset:s}),r+=8}else if(1===e)for(var u=0;u<i;u++)n.push({sampleCount:Object(S.readUint32)(t,r),sampleOffset:Object(S.readInt32)(t,r+4)}),r+=8;return{compositionOffset:n}},t._mdhd=function(t){var e=0,i=0;return 1===t[0]?(e=Object(S.readUint32)(t,20),i=Object(S.readUint64)(t,24)):(e=Object(S.readUint32)(t,12),i=Object(S.readUint64)(t,16)),{timescale:e,duration:i}},t}();function q(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var G=Math.pow(2,32)-1,z={soun:"audio",vide:"video"},W=function(){function t(t,e,i,r){this._eventEmitter=void 0,this._remuxer=void 0,this._initPTS=0,this._audioCodec="",this._videoCodec="",this._initData=void 0,this._transmuxData=void 0,this._firstRemux=!0,this._eventEmitter=t,this._remuxer=e}var e,i,r,a=t.prototype;return a.flush=function(){},a.resetTimeStamp=function(t){void 0===t&&(t=0),this._initPTS=t},a.resetInitSegment=function(e,i){if(this._transmuxData=e,this._firstRemux=!0,i&&i.byteLength){var r=this._initData=t.parseInitSegment(i);e.audioCodec||(e.audioCodec="mp4a.40.5"),e.videoCodec||(e.videoCodec="avc1.42e01e");var o={};r.audio&&r.video?o.audiovideo={container:"video/mp4",codec:e.audioCodec+","+e.videoCodec,initSegment:e.duration?i:null}:(r.audio&&(o.audio={container:"audio/mp4",codec:e.audioCodec,initSegment:e.duration?i:null}),r.video&&(o.video={container:"video/mp4",codec:e.videoCodec,initSegment:e.duration?i:null})),this._eventEmitter.emit(n.default.PARSING_INIT_SEGMENT,{tracks:o})}else e.audioCodec&&(this._audioCodec=e.audioCodec),e.videoCodec&&(this._videoCodec=e.videoCodec)},t.probe=function(e){return t.findBox(e.subarray(0,Math.min(e.length,16384)),["moof"]).length>0},t.writeUint32=function(t,e,i){t[e]=i>>24,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i},t.findBox=function(e,i){var r,n,o,a,s=[],u=e.byteLength;if(!i.length)return s;for(r=0;r<u;)a=(n=Object(S.readUint32)(e,r))>1?r+n:u,Object(S.bin2str)(e,r+4,4)===i[0]&&(1===i.length?s.push(e.subarray(r+8,a)):(o=t.findBox(e.subarray(r+8,a),i.slice(1))).length&&(s=s.concat(o))),r=a;return s},t.parseSegmentIndex=function(e){var i,r=t.findBox(e,["moov"])[0],n=r?r.byteLength:null,o=0,a=t.findBox(e,["sidx"]);if(a&&a[0]){i=[];var s=a[0],u=s[0];o=0===u?8:16;var c=Object(S.readUint32)(s,o);o+=4,o+=0===u?8:16,o+=2;var l=s.byteLength+0,f=Object(S.readUint16)(s,o);o+=2;for(var d=0;d<f;d++){var h=o,p=Object(S.readUint32)(s,h);h+=4;var _=2147483647&p;if(1==(2147483648&p)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var v=Object(S.readUint32)(s,h);h+=4,i.push({referenceSize:_,subsegmentDuration:v,info:{duration:v/c,start:l,end:l+_-1}}),l+=_,o=h+=4}return{earliestPresentationTime:0,timescale:c,version:u,referencesCount:f,references:i,moovEndOffset:n}}},t.parseInitSegment=function(e){var i={};return t.findBox(e,["moov","trak"]).forEach((function(e){var r=t.findBox(e,["tkhd"])[0];if(r){var n=r[0],a=0===n?12:20,s=Object(S.readUint32)(r,a),u=t.findBox(e,["mdia","mdhd"])[0];if(u){a=0===(n=u[0])?12:20;var c=Object(S.readUint32)(u,a),l=t.findBox(e,["mdia","hdlr"])[0];if(l){var f=Object(S.bin2str)(l,8,4),d=z[f];if(d){var h=t.findBox(e,["mdia","minf","stbl","stsd"]);if(h.length){var p=h[0],_=Object(S.bin2str)(p,12,4);o.Log.v("fmp4-remuxer","MP4Demuxer:"+d+":"+_+" found")}i[s]={timescale:c,type:d},i[d]={timescale:c,id:s}}}}}})),i},t.getStartTime=function(e,i){var r,n=t.findBox(i,["moof","traf"]).map((function(i){return t.findBox(i,["tfhd"]).map((function(r){var n,o,a,s;return n=Object(S.readUint32)(r,4),o=e[n].timescale||9e4,{dts:(a=t.findBox(i,["tfdt"]).map((function(t){var e,i;return e=t[0],i=Object(S.readUint32)(t,4),1===e&&(i*=Math.pow(2,32),i+=Object(S.readUint32)(t,8)),i}))[0])/o,cts:(s=t.findBox(i,["trun"]).map((function(t){var e;e=t[0];var i=Object(S.readUint24)(t,1),r=Object(S.readUint32)(t,4),n=8;return 1&i&&(Object(S.readUint32)(t,n),n+=4),4&i&&(Object(S.readUint32)(t,12),n+=4),r&&(256&i&&(n+=4),512&i&&(n+=4),1024&i&&(n+=4),2048&i)?0===e?Object(S.readUint32)(t,n):Object(S.readInt32)(t,n):0}))[0])/o,pts:(a+s)/o}}))}));return r=[].concat.apply([],n).reduce((function(t,e){return t?t.pts>e.pts?e:t:e})),isFinite(r.pts)?r:{pts:0,dts:0,cts:0}},t.offsetStartDTS=function(e,i,r){t.findBox(i,["moof","traf"]).map((function(i){return t.findBox(i,["tfhd"]).map((function(n){var o=Object(S.readUint32)(n,4),a=e[o].timescale||9e4;t.findBox(i,["tfdt"]).map((function(e){var i=e[0],n=Object(S.readUint32)(e,4);if(0===i)t.writeUint32(e,4,n-r*a);else{n*=Math.pow(2,32),n+=Object(S.readUint32)(e,8),n-=r*a,n=Math.max(n,0);var o=Math.floor(n/(G+1)),s=Math.floor(n%(G+1));t.writeUint32(e,4,o),t.writeUint32(e,8,s)}}))}))}))},a.append=function(e,i,r,o,a){void 0===a&&(a=!1);var s=this._initData;!s&&this._transmuxData&&(this._transmuxData.duration=0,this.resetInitSegment(this._transmuxData,e),s=this._initData);var u,c=0,l=this._initPTS;if(void 0===l){var f=t.getStartTime(s,e);this._initPTS=l=f.pts-i,c=f.dts-i,this._eventEmitter.emit(n.default.INIT_PTS_FOUND,{initPTS:l,timescale:1})}t.offsetStartDTS(s,e,c),u=t.getStartTime(s,e).pts,this._firstRemux&&(this._firstRemux=!1,this._eventEmitter.emit(n.default.MEDIA_DEMUX,{type:d.DemuxerType.FMP4})),this._remuxer.remux(s.audio,s.video,u,r,o,!1,e),this._eventEmitter.emit(n.default.PARSED_DATA,{extra:this._transmuxData})},a.destroy=function(){},e=t,r=[{key:"probeSize",get:function(){return 15040}}],(i=null)&&q(e.prototype,i),r&&q(e,r),t}(),X=i("./src/utils/keyframes-utils.ts");function Y(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Q=function(){var t,e,i;function a(t,e,i,r){this._eventEmitter=void 0,this._remuxer=void 0,this._config=void 0,this._duration=1/0,this._naluLengthSize=4,this._videoTrack=void 0,this._audioTrack=void 0,this._remuxStat=void 0,this._firstRemux=!0,this._typeSupported=void 0,this._transmuxData=void 0,this._gopRemux=!1,this._cache=void 0,this._moov=void 0,this._vSampleIndex=0,this._aSampleIndex=0,this._offset=0,this._vSampleInfoList=void 0,this._aSampleInfoList=void 0,this._nextSampleInfo=void 0,this._readSamples=!0,this._readPos=0,this._codecType=f.CodecType.h264,this._eventEmitter=t,this._remuxer=e,this._config=i,this._typeSupported=r,this._gopRemux=!!this._config.gopRemux,this._videoTrack=Object(_.createVideoTrack)(1/0),this._audioTrack=Object(_.createAudioTrack)(1/0),this._cache=new y.default}a.probe=function(t){var e=H.readBoxes(t);return!(!e.length||"ftyp"!==e[0].name)},t=a,i=[{key:"probeSize",get:function(){return 15040}}],(e=null)&&Y(t.prototype,e),i&&Y(t,i);var s=a.prototype;return s.append=function(t,e,i,o,a){if(void 0===a&&(a=!1),this._readSamples){if(this._cache.put(t),!this._moov&&this._cache.unreadLen){var s=this._cache.read(this._cache.unreadLen);if(!s)return;for(var u=H.readBox(s,0),c=0;u;){if("moov"===u.name){if(u.data){this._parseMOOV(u);break}}else if("mdat"===u.name&&!this._moov)return this._readPos,u.size,this._readSamples=!1,void this._eventEmitter.emit(n.default.MP4_NOT_FASTSTART,{pos:this._readPos+u.size});u.data?(this._readPos+=u.size,this._cache.skip(u.size),c+=u.size,this._offset+=u.size,u=H.readBox(s,c)):u=void 0}}if(this._remuxStat||(this._remuxStat={timeOffset:e,contiguous:i,accurateTimeOffset:o}),this._moov&&this._readSamples){for(i||this._seek(e);this._cache.unreadLen&&this._hasMoreSamples();){if(this._nextSampleInfo||(this._nextSampleInfo=this._getNextSampleInfo()),!this._nextSampleInfo)return void this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.REMUX_ERROR,fatal:!0,reason:"can not find next sample"});if(this._offset&&this._cache.skip(this._nextSampleInfo.start-this._offset),this._offset=this._nextSampleInfo.start,!(this._nextSampleInfo&&this._nextSampleInfo.end-this._nextSampleInfo.start<this._cache.unreadLen))break;var l=this._cache.get(this._nextSampleInfo.end-this._nextSampleInfo.start);if(!l)return;this._offset+=l.byteLength,this._nextSampleInfo.type===f.TrackType.VIDEO?(this._parseVideoSample(this._nextSampleInfo,l),this._vSampleIndex++):(this._parseAudioSample(this._nextSampleInfo,l),this._aSampleIndex++),this._nextSampleInfo=void 0}this._remux()}}},s.destroy=function(){},s.flush=function(){this._remux(!0),this._remuxStat=void 0},s.resetInitSegment=function(t){this._transmuxData=t,this._readSamples=!0,this._readPos=0,this._firstRemux=!0,this._videoTrack.samples=[],this._audioTrack.samples=[],this._remuxStat=void 0,this._duration=t.duration,"boolean"==typeof t.hasAudio&&"boolean"==typeof t.hasVideo&&(this._audioTrack.active=t.hasAudio,this._videoTrack.active=t.hasVideo,this._videoTrack.active||(this._gopRemux=!1)),this._cache.clear(),this._vSampleIndex=0,this._aSampleIndex=0,this._offset=0,this._nextSampleInfo=void 0,o.Log.i("mp4-demuxer","reset init")},s.resetTimeStamp=function(){},s._parseVideoSample=function(t,e){for(var i=0,r=[],n=!1,o=0;i<e.byteLength;){var a=Object(S.readUint32)(e,i);i+=4;var s=e.subarray(i,i+a);3===this._naluLengthSize&&(a>>>=8);var u=0;this._codecType===f.CodecType.h264?(u=31&s[0])===w.NAL_IDR_SLICE?n=!0:w.PRIV_NAL_MAGIC_H264:this._codecType===f.CodecType.h265&&((u=(126&s[0])>>1)===A.NAL_UNIT_CODED_SLICE_IDR_W_RADL||u===A.NAL_UNIT_CODED_SLICE_IDR_N_LP||u===A.NAL_UNIT_CODED_SLICE_CRA?n=!0:A.PRIV_NAL_MAGIC_HEVC),r.push({type:u,data:s}),i+=a,o+=s.byteLength}if(r.length){var c=this._videoTrack,l={units:r,length:o,dts:t.dts,cts:t.cts,pts:t.cts+t.dts,streamDTS:t.dts,key:n,extraInfo:{dtsOrignMs:t.dts,ptsOrignMs:t.cts+t.dts,parseMs:0}};self.performance&&(l.extraInfo.parseMs=performance.now()),c.samples.push(l)}},s._parseAudioSample=function(t,e){var i=this._audioTrack,r={unit:e,dts:t.dts,pts:t.dts,streamDTS:t.dts,length:e.byteLength,extraInfo:{dtsOrignMs:t.dts,ptsOrignMs:t.dts,parseMs:0}};self.performance&&(r.extraInfo.parseMs=performance.now()),i.samples.push(r)},s._hasMoreSamples=function(){return!!(this._aSampleInfoList&&this._aSampleIndex<this._aSampleInfoList.samples.length||this._vSampleInfoList&&this._vSampleIndex<this._vSampleInfoList.samples.length)},s._getNextSampleInfo=function(){var t=this._aSampleInfoList?this._aSampleInfoList.samples[this._aSampleIndex]:void 0,e=this._vSampleInfoList?this._vSampleInfoList.samples[this._vSampleIndex]:void 0,i=t?t.start-this._offset:-1,o=e?e.start-this._offset:-1;return o>=0&&(o<i||o>i&&i<0)?e:i>=0&&(i<o||i>o&&o<0)?t:void this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.REMUX_ERROR,fatal:!0,reason:"get next sample error"})},s._remux=function(t){void 0===t&&(t=!1);var e=this._audioTrack,i=this._videoTrack,a=!0,s=0,u=!1;if(this._remuxStat&&(a=this._remuxStat.contiguous,s=this._remuxStat.timeOffset,u=this._remuxStat.accurateTimeOffset),0!==e.samples.length||0!==i.samples.length){if(t||!(this._audioTrack.active&&0===e.samples.length||i.active&&i.samples.length<2)){this._firstRemux&&(this._firstRemux=!1,this._eventEmitter.emit(n.default.MEDIA_DEMUX,{type:d.DemuxerType.MP4}));try{this._remuxer.remux(e,i,s,a,u,t),this._remuxStat=void 0}catch(t){o.Log.e("mp4-demuxer",t),this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.REMUX_ERROR,fatal:!0,reason:t.message})}}}else t&&this._remuxer.flush()},s._parseMOOV=function(t){var e=this;this._moov=H.moov(t);var i={};this._moov.mvhd&&(i.duration=this._moov.mvhd.duration/this._moov.mvhd.timescale,this._duration=i.duration),this._moov.trak.forEach((function(t){t.mdia&&t.mdia.minf&&t.mdia.minf.stbl&&t.mdia.hdlr&&t.mdia.mdhd&&("vide"===t.mdia.hdlr.type?(void 0===e._videoTrack.active&&(e._videoTrack.active=!0),e._vSampleInfoList=e._parseSTBL(e._videoTrack,t.mdia.minf.stbl,t.mdia.mdhd)):"soun"===t.mdia.hdlr.type&&(void 0===e._audioTrack.active&&(e._audioTrack.active=!0),e._aSampleInfoList=e._parseSTBL(e._audioTrack,t.mdia.minf.stbl,t.mdia.mdhd)))})),this._vSampleInfoList&&this._vSampleInfoList.description.length&&this._parseVideoDescription(this._vSampleInfoList.description),this._aSampleInfoList&&this._aSampleInfoList.description.length&&this._parseAudioDescription(this._aSampleInfoList.description),this._vSampleInfoList&&this._vSampleInfoList.keyframes&&(i.keyframes=this._vSampleInfoList.keyframes),o.Log.i("mp4-demuxer","Parsed onMetaData"),this._eventEmitter.emit(n.default.METADATA,i)},s._seek=function(t){var e,i;o.Log.i("mp4-demuxer","seek:"+t);var r=null==(e=this._vSampleInfoList)?void 0:e.samples,n=null==(i=this._aSampleInfoList)?void 0:i.samples;if(r&&this._vSampleInfoList){var a=X.default.getPosByTime(this._vSampleInfoList.keyframes,t);a&&(this._vSampleIndex=this._findSampleIndexByPos(r,a.position))}n&&(this._vSampleInfoList?r&&(this._aSampleIndex=this._findSampleIndexByPos(n,r[this._vSampleIndex].end),o.Log.i("mp4-demuxer","seek audio by video pos: "+t+" a: "+this._aSampleIndex+" v: "+this._vSampleIndex)):(this._aSampleIndex=this._findSampleIndexByTime(n,t*this._videoTrack.inputTimescale),o.Log.i("mp4-demuxer","seek audio by time: "+t+" a: "+this._aSampleIndex+" v: "+this._vSampleIndex)))},s._findSampleIndexByPos=function(t,e){if(t[0]&&e<t[0].start)return 0;if(t[t.length-1]&&e>=t[t.length-1].end)return t.length-1;for(var i,r=0,n=t.length-1,o=0,a=0;r<=n;){if(e>=((i=(a=(o=(r+n)/2|0)-1)>=0?t[a]:void 0)?i.end:t[o].start)&&e<t[o].end)return o;if(e===t[o].end)return o+1;e>t[o].end?r=o+1:n=o-1}return 0},s._findSampleIndexByTime=function(t,e){if(t[0]&&e<t[0].dts)return 0;if(t[t.length-1]&&e>=t[t.length-1].dts)return t.length-1;for(var i=0,r=t.length-1,n=0,o=0,a=0;i<=r;)if(e>(a=t[o=1+(n=(i+r)/2|0)]?t[o].dts:Number.MAX_SAFE_INTEGER))i=o;else{if(!(e<t[n].dts))return e===a?o:n;r=n-1}return 0},s._parseVideoDescription=function(t){o.Log.i("mp4-demuxer","parse video desc: "+t[0].name),"avc1"===t[0].name||"hev1"===t[0].name||"hvc1"===t[0].name?this._parseVideoSampleEntry(t[0]):o.Log.w("mp4-demuxer","video codec unsupported")},s._parseAudioDescription=function(t){o.Log.i("mp4-demuxer","parse audio desc: "+t[0].name),"mp4a"===t[0].name?this._parseAudioSampleEntry(t[0]):(o.Log.w("mp4-demuxer","audio codec unsupported"),this._audioTrack.active=!1)},s._parseAudioSampleEntry=function(t){var e=this;if(t.data){var i=6;Object(S.readUint16)(t.data,i),i+=2;var r=Object(S.readUint16)(t.data,i);i+=8,Object(S.readUint16)(t.data,i),i+=2,Object(S.readUint16)(t.data,i),i+=2,Object(S.readUint16)(t.data,i),i+=2,Object(S.readUint16)(t.data,i),i+=2,Object(S.readUint32)(t.data,i),i+=4,r>0&&(i+=16),H.readBoxes(t.data.subarray(i,t.data.byteLength)).forEach((function(t){"esds"===t.name?e._readEsds(t):"wave"===t.name&&t.data&&H.readBoxes(t.data).forEach((function(t){"esds"===t.name&&e._readEsds(t)}))}))}},s._readEsds=function(t){if("esds"===t.name){var e=H.esds(t);if(e){var i=V.getAudioConfig(e);i&&p.initTrackConfig(this._audioTrack,this._eventEmitter,i,d.AudioConfigType.ASC)}}},s._parseVideoSampleEntry=function(t){var e=this;t.data&&H.readBoxes(t.data.subarray(78,t.data.byteLength)).forEach((function(t){"avcC"===t.name?e._parseAvcC(e._videoTrack,t):"hvcC"===t.name&&(e._typeSupported.h265?(e._config.gopRemux=e._gopRemux=!0,e._parseHvcC(e._videoTrack,t)):(e._videoTrack.active=!1,o.Log.w("HEVC stream type found, not supported for now")))}))},s._parseAvcC=function(t,e){if(e.data){var i=k.parseAVCC(e.data);i?(N.updateAVCTrack(t,i),t.sampleDuration=this._vSampleInfoList?Math.round(this._duration*t.inputTimescale/this._vSampleInfoList.samples.length):3003,t.duration=this._duration):this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"Invalid AVCDecoderConfigurationRecord"})}},s._parseHvcC=function(t,e){if(o.Log.i("mp4-demuxer","parse hvcc"),e.data){var i=k.parseHVCC(e.data);i&&i.spsConfigList.length?(N.updateHEVCTrack(t,i),t.sampleDuration=this._vSampleInfoList?Math.round(this._duration*t.inputTimescale/this._vSampleInfoList.samples.length):3003,t.duration=this._duration,t.hvcc=e.data,this._codecType=f.CodecType.h265):this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"Invalid HEVCDecoderConfigurationRecord"})}},s._parseSTBL=function(t,e,i){if(o.Log.i("mp4-demuxer","parse stbl"),e.stco&&e.stsc&&e.stsz){var r,n={description:e.stsd?e.stsd.sampleEntrys:[],samples:[],keyframes:[]},a=0,s=0,u=e.stco.chunkOffset[a],c=e.stsc.sampleToChunkBox[s],l=c.samplesPerChunk,f=e.stsc.sampleToChunkBox[s].firstChunk,d=0,h=0,p=void 0,_=0,v=0;e.stts&&(p=e.stts.timeToSample[h],_=e.stts.timeToSample[h].sampleCount);var m=0,g=void 0,y=0,E=0;e.ctts&&(g=e.ctts.compositionOffset[m],y=e.ctts.compositionOffset[m].sampleCount);var w=0,A=0;e.stss&&(A=e.stss.sampleNumber[w]);for(var b=0;b<e.stsz.sampleCount;b++)if(b>=l&&a<e.stco.chunkOffset.length&&(d=0,f++,a++,u=e.stco.chunkOffset[a],e.stsc.sampleToChunkBox[s+1]&&f>=e.stsc.sampleToChunkBox[s+1].firstChunk&&(s++,c=e.stsc.sampleToChunkBox[s]),l+=c.samplesPerChunk),e.stts&&b>=_&&h<e.stts.timeToSample.length&&(h++,_+=(p=e.stts.timeToSample[h]).sampleCount),e.ctts&&b>=y&&m<e.ctts.compositionOffset.length&&(m++,y+=(g=e.ctts.compositionOffset[m]).sampleCount),e.stss&&b>=A-1&&A&&(w++,A=e.stss.sampleNumber[w],r={time:0,position:0}),c&&u){var S="number"==typeof e.stsz.SampleSize?e.stsz.SampleSize:e.stsz.SampleSize[b],T=t.inputTimescale/i.timescale;E=g&&g.sampleOffset>=0?g.sampleOffset*T:0;var x=p?p.sampleDelta*T:30,L={type:t.type,index:b,gopID:n.keyframes.length,dts:v,cts:E,duration:x,start:u+d,end:u+d+S};n.samples.push(L),r&&(r.time=Math.round(v/i.timescale*1e3)/1e3,r.position=L.start,n.keyframes.push(r),r=void 0),v+=x,d+=S}return n}},a}(),J=function(){function t(t,e,i){this._decrypter=void 0,this._decryptdata=void 0,this._decryptdata=i,this._decrypter=new l(t,e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptAacSamples=function(t,e,i){for(;;e++){if(e>=t.length)return void i();if(!(t[e].unit.length<32)){var r=this._decrypter.isSync();if(this._decryptAacSample(t,e,i,r),!r)return}}},e.decryptAvcSamples=function(t,e,i,r){for(;;e++,i=0){if(e>=t.length)return void r();for(var n=t[e].units;!(i>=n.length);i++){var o=n[i];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this._decrypter.isSync();if(this._decryptAvcSample(t,e,i,r,o,a),!a)return}}}},e._decryptBuffer=function(t,e){this._decryptdata.key&&this._decrypter.decrypt(t,this._decryptdata.key.buffer,this._decryptdata.iv.buffer,e)},e._decryptAacSample=function(t,e,i,r){var n=t[e].unit,o=n.subarray(16,n.length-n.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this._decryptBuffer(a,(function(o){o=new Uint8Array(o),n.set(o,16),r||s.decryptAacSamples(t,e+1,i)}))},e._getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,i=new Uint8Array(e),r=0,n=32;n<=t.length-16;n+=160,r+=16)i.set(t.subarray(n,n+16),r);return i},e._getAvcDecryptedUnit=function(t,e){for(var i=new Uint8Array(e),r=0,n=32;n<=t.length-16;n+=160,r+=16)t.set(i.subarray(r,r+16),n);return t},e._decryptAvcSample=function(t,e,i,r,n,o){var a=T(n.data),s=this._getAvcEncryptedData(a),u=this;this._decryptBuffer(s.buffer,(function(s){n.data=u._getAvcDecryptedUnit(a,s),o||u.decryptAvcSamples(t,e,i+1,r)}))},t}();function Z(){return(Z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function $(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tt="ts-demuxer",et=function(){function t(t,e,i,a){var s=this;this._eventEmitter=void 0,this._config=void 0,this._typeSupported=void 0,this._remuxer=void 0,this._sampleAes=void 0,this._remuxStat=void 0,this._pmtParsed=!1,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._audioCodec="",this._videoCodec="",this._duration=0,this._vLastDts=0,this._lastDts=0,this._aLastDts=0,this._aacOverFlow=null,this._aacLastPTS=null,this._avcSample=null,this._contiguous=!1,this._timeOffset=0,this._accurateTimeOffset=!1,this._firstNalTypes=0,this._transmuxData=void 0,this._audioNonMonotonous=0,this._qos={vMaxDtsDiff:0,aMaxDtsDiff:0,aacOverhead:0,unknownTSPacketCount:0},this._hvcCData={sps:[],pps:[],vps:[]},this._codecType=f.CodecType.h264,this._parsePMT=function(t,e,i,r){var n,a,u={audio:-1,video:-1,id3:-1,isAAC:!0,codecType:f.CodecType.h264};for(n=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<n;){switch(a=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!r){o.Log.v("unkown stream type:"+t[e]);break}case 15:-1===u.audio&&(u.audio=a);break;case 21:-1===u.id3&&(u.id3=a);break;case 219:if(!r){o.Log.v("unkown stream type:"+t[e]);break}case 27:-1===u.video&&(u.video=a);break;case 3:case 4:i?-1===u.audio&&(u.audio=a,u.isAAC=!1):o.Log.v("MPEG audio found, not supported in this browser for now");break;case 36:s._typeSupported.h265?-1===u.video&&(u.video=a,u.codecType=f.CodecType.h265):o.Log.w("HEVC stream type found, not supported for now");break;default:o.Log.v("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return u},this._pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var i=e.samples,r=i.length;if(!s._config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(r||s._contiguous)){if(s._config.gopRemux&&t.key&&i&&i.length>1&&s._remuxStat){var n=s._remuxStat;s._remux(n.timeOffset,n.contiguous,n.accurateTimeOffset)}t.id=s._avcTrack.samples.length,s._avcTrack.samples.push(t)}}t.debug.length&&o.Log.v(t.pts+"/"+t.dts+":"+t.debug)},this._parseAVCPES=function(t,e){if(t.data){var i,r,n,a=s._avcTrack,u=s._parseAVCNALu(t.data),c=s._pushAccesUnit,l=s,d=function(t,e,i,r){return i===l._lastDts&&(i+=1),l._lastDts=i,{key:t,pts:e,dts:i,units:[],debug:r}},h=s._avcSample,p=!1,_=!1;if(s._vLastDts>0){var v=t.dts-s._vLastDts;Math.abs(v)>Math.abs(s._qos.vMaxDtsDiff)&&(s._qos.vMaxDtsDiff=v)}s._vLastDts=t.dts,t.data=null,h&&u.length&&!a.audFound&&(c(h,a),h=s._avcSample=d(!1,t.pts,t.dts,"")),s._codecType===f.CodecType.h265?(u.forEach((function(e){switch(e.type){case A.NAL_UNIT_CODED_SLICE_IDR_W_RADL:case A.NAL_UNIT_CODED_SLICE_IDR_N_LP:case A.NAL_UNIT_CODED_SLICE_CRA:s._firstNalTypes||(s._firstNalTypes=e.type),r=!0,h||(h=s._avcSample=d(!0,t.pts,t.dts,"")),h.key=!0,h.frame=!0;break;case A.NAL_UNIT_ACCESS_UNIT_DELIMITER:r=!1,a.audFound=!0,h&&c(h,a),h=s._avcSample=d(!1,t.pts,t.dts,"");break;case A.NAL_UNIT_SPS:r=!0,p=!0;var i=R.parseHEVCSPS(e.data);i&&(!a.width||a.width===i.width&&a.height===i.height&&i.codec===a.codec||(_=!0),a.width=a.codecWidth=i.width,a.height=a.codecHeight=i.height,a.pixelRatio=[1,1],a.sps=[e.data],a.bitDepth=i.bit_depth_luma_minus8+8,a.colorInfo=i.color_info,a.fps=i.fps,a.duration=s._duration,a.profile=i.profile_string,a.level=i.level_string,a.chromaFormat=i.chroma_format_string,a.codec=i.codec,s._hvcCData.sps=a.sps,s._hvcCData.spsInfo=i);break;case A.NAL_UNIT_PPS:r=!0,e.data=e.data,a.pps=[e.data];var n=C.parseHEVCPPS(e.data);n&&(s._hvcCData.pps=a.pps,s._hvcCData.ppsInfo=n);break;case A.NAL_UNIT_VPS:r=!0,s._hvcCData.vps=[e.data];break;default:if(r=!0,void 0===e.type){r=!1;break}s._firstNalTypes||(s._firstNalTypes=e.type),h||(h=s._avcSample=d(!0,t.pts,t.dts,"")),h.frame=!0}h&&r&&h.units.push(e)})),s._hvcCData.sps.length&&s._hvcCData.pps.length&&s._hvcCData.vps.length&&(_&&s._remuxer.ISGenerated&&s._transmuxData&&s._remuxer.resetInitSegment(s._transmuxData),s._avcTrack.hvcc&&!_||(o.Log.v(tt,"hevc generate hvcC sps:",s._hvcCData.spsInfo,"pps:",s._hvcCData.ppsInfo),s._avcTrack.hvcc=function(t){if(t.spsInfo&&t.ppsInfo&&t.sps.length&&t.pps.length&&t.vps.length){var e=t.sps.reduce((function(t,e){return t+e.byteLength}),0)+t.pps.reduce((function(t,e){return t+e.byteLength}),0)+t.vps.reduce((function(t,e){return t+e.byteLength}),0)+2*(t.sps.length+t.pps.length+t.vps.length),i=t.spsInfo.ptl,r=new Uint8Array(32+e),n=new DataView(r.buffer,0);r[0]=1,r[1]=(192&i.general_ptl.profile_space)+((1&i.general_ptl.tier_flag)<<5)+i.general_ptl.profile_idc&31,n.setUint32(2,i.general_ptl.profile_compatibility);for(var o=0;o<6;o++)n.setUint8(o+6,i.general_ptl.constraint_indicator[o]||0);n.setUint8(12,i.general_ptl.level_idc),r[13]=240+(3840&t.spsInfo.min_spatial_segmentation_idc),r[14]=255&t.spsInfo.min_spatial_segmentation_idc,r[15]=252+(3&t.ppsInfo.parallelismType),r[16]=252+(3&t.spsInfo.chroma_format_idc),r[17]=248+(7&t.spsInfo.bit_depth_luma_minus8),r[18]=248+(7&t.spsInfo.bit_depth_chroma_minus8),r[21]=3,r[22]=3;var a=23;return[{nalus:t.vps,type:A.NAL_UNIT_VPS},{nalus:t.sps,type:A.NAL_UNIT_SPS},{nalus:t.pps,type:A.NAL_UNIT_PPS}].forEach((function(t){r[a]=t.type,a++,n.setUint16(a,t.nalus.length),a+=2,t.nalus.forEach((function(t){n.setUint16(a,t.length),a+=2,r.set(t,a),a+=t.byteLength}))})),r}}(s._hvcCData),s._hvcCData={sps:[],pps:[],vps:[]}))):u.forEach((function(e){switch(e.type){case 1:s._firstNalTypes||(s._firstNalTypes=e.type),r=!0,h||(h=s._avcSample=d(!0,t.pts,t.dts,"")),h.frame=!0;var o=e.data;if(p&&o.length>4){var u=new L(o).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(h.key=!0)}break;case 5:s._firstNalTypes||(s._firstNalTypes=e.type),r=!0,h||(h=s._avcSample=d(!0,t.pts,t.dts,"")),h.key=!0,h.frame=!0;break;case 6:r=!0,(i=new L(T(e.data))).readUByte();for(var l=0,f=0,v=!1,m=0;!v&&i.bytesAvailable>1;){l=0;do{l+=m=i.readUByte()}while(255===m);f=0;do{f+=m=i.readUByte()}while(255===m);if(4===l&&0!==i.bytesAvailable){if(v=!0,181===i.readUByte()&&49===i.readUShort()&&1195456820===i.readUInt()&&3===i.readUByte()){var g=i.readUByte(),y=31&g,E=[g,i.readUByte()];for(n=0;n<y;n++)E.push(i.readUByte()),E.push(i.readUByte()),E.push(i.readUByte())}}else if(f<i.bytesAvailable)for(n=0;n<f;n++)i.readUByte()}break;case 7:r=!0,p=!0;var w=R.parseSPS(e.data);!a.width||a.width===w.codec_size.width&&a.height===w.codec_size.height&&w.codec===a.codec||(_=!0),a.width=w.codec_size.width,a.height=w.codec_size.height,a.pixelRatio=[w.sar_ratio.width,w.sar_ratio.height],a.sps=[e.data],a.duration=s._duration,a.fps=w.frame_rate.fps,a.bitDepth=w.bit_depth_luma_minus8+8,a.colorInfo=w.color_info,a.profile=w.profile_string,a.level=w.level_string,a.chromaFormat=w.chroma_format_string,a.codec=w.codec;break;case 8:r=!0,a.pps=[e.data];break;case 9:r=!1,a.audFound=!0,h&&c(h,a),h=s._avcSample=d(!1,t.pts,t.dts,"");break;case 12:r=!1;break;default:r=!1,h&&(h.debug+="unknown NAL "+e.type+" ")}_&&a.sps&&a.pps&&(s._remuxer.ISGenerated&&s._transmuxData&&s._remuxer.resetInitSegment(s._transmuxData),_=!1),h&&r&&h.units.push(e)})),e&&h&&(c(h,a),s._avcSample=null)}},this._parseMPEGPES=function(){s._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"unsupport mpeg"})},this._parseAACPES=function(t){if(t.data){var e,i,a,u,c,l,f=s._audioTrack,h=s._aacLastPTS,_=t.data,v=t.pts,m=s._aacOverFlow,g=null;if(s._aLastDts>0){var y=t.dts-s._aLastDts;Math.abs(y)>Math.abs(s._qos.aMaxDtsDiff)&&(s._qos.aMaxDtsDiff=y)}if(s._aLastDts=t.dts,m){var E=new Uint8Array(m.byteLength+_.byteLength);E.set(m,0),E.set(_,m.byteLength),_=E}for(a=0,u=_.length;a<u-1&&!p.isHeader(_,a);a++);if(a&&(a<u-1?(c="AAC PES did not start with ADTS header,offset:"+a,l=!1):(c="no ADTS header found in AAC PES",l=!0),o.Log.w("parsing error:"+c),s._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:l,reason:c}),l))return;var w=_.subarray(a+2,a+4);if((p.isUpdate(f,w)||!f.configParsed)&&s._remuxer.ISGenerated&&s._transmuxData&&s._remuxer.resetInitSegment(s._transmuxData),p.initTrackConfig(f,s._eventEmitter,w,d.AudioConfigType.ADTS,s._audioCodec),i=0,e=p.getFrameDuration(f.samplerate),h&&(s._audioNonMonotonous||(s._audioNonMonotonous=v<h?1:0),s._audioNonMonotonous||m)){var A=h+e;Math.abs(A-v)>1&&(o.Log.v("AAC: align PTS for overlapping frames by "+Math.round((A-v)/90)),v=A)}for(;a<u;)if(p.isHeader(_,a)&&a+5<u){var b=p.appendFrame(f,_,a,v,i);if(!b)break;a+=b.length,g=b.sample.pts,i++}else a++;i>1&&(s._qos.aacOverhead=1),m=a<u?_.subarray(a,u):null,s._aacOverFlow=m,s._aacLastPTS=g}},this._eventEmitter=t,this._config=i,this._typeSupported=a,this._remuxer=e,this._sampleAes=null,this._remuxStat=null}var e,i,a,s=t.prototype;return s.setDecryptData=function(t){t&&t.key&&"SAMPLE-AES"===t.method?this._sampleAes=new J(this._eventEmitter,this._config,t):this._sampleAes=null},t.probe=function(e){var i=t.syncOffset(e);return!(i<0||(i&&o.Log.w("MPEG2-TS detected but first sync word found @ offset "+i+", junk ahead ?"),0))},t.syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),i=0;i<e;){if(71===t[i]&&71===t[i+188]&&71===t[i+376])return i;i++}return-1},t.createTrack=function(t,e){if(t===f.TrackType.AUDIO)return Object(_.createAudioTrack)(e);var i=Object(_.createVideoTrack)(e);return i.audFound=!1,i.naluState=0,i},s.resetInitSegment=function(e){this._pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack(f.TrackType.VIDEO,e.duration),this._audioTrack=t.createTrack(f.TrackType.AUDIO,e.duration),this._aacOverFlow=null,this._aacLastPTS=null,this._avcSample=null,this._audioCodec=e.audioCodec,this._videoCodec=e.videoCodec,this._duration=e.duration,this._vLastDts=0,this._aLastDts=0,this._audioNonMonotonous=0,this._qos.vMaxDtsDiff=0,this._qos.aMaxDtsDiff=0,this._qos.aacOverhead=0,this._remuxStat=null,this._firstNalTypes=0,this._transmuxData=e},s.resetTimeStamp=function(){},s.append=function(t,e,i,o,a){void 0===a&&(a=!1),this._contiguous=i,this._timeOffset=e,this._accurateTimeOffset=o,null===this._remuxStat&&(this._remuxStat={timeOffset:e,contiguous:i,accurateTimeOffset:o});var s,u,c,l,f,d=this._remuxStat,h=this._avcTrack,p=this._audioTrack,_=this._parsePAT,v=this._parsePMT,m=this._parsePES,g=this._parseAVCPES,y=this._parseAACPES,E=this._parseMPEGPES,w=t.length,A=!1,b=this._pmtParsed,S=h.pid,T=p.pid,x=this._pmtId,L=h.pesData,C=p.pesData;if(!t.byteLength&&a)return this._remux(d.timeOffset,d.contiguous,d.accurateTimeOffset,!0),this._remuxStat=null,void this._onParsed();for(w-=(w+0)%188,s=0;s<w;s+=188)if(71===t[s]){if(u=!!(64&t[s+1]),c=((31&t[s+1])<<8)+t[s+2],(48&t[s+3])>>4>1){if((l=s+5+t[s+4])===s+188)continue}else l=s+4;switch(c){case S:u&&(L&&(f=m(L,!0))&&void 0!==f.pts&&g(f,!1),L={data:[],size:0}),L&&(L.data.push(t.subarray(l,s+188)),L.size+=s+188-l);break;case T:u&&(C&&(f=m(C))&&void 0!==f.pts&&(p.isAAC?y(f):E()),C={data:[],size:0}),C&&(C.data.push(t.subarray(l,s+188)),C.size+=s+188-l);break;case 0:u&&(l+=t[l]+1),x=this._pmtId=_(t,l);break;case x:u&&(l+=t[l]+1);var I=v(t,l,!0===this._typeSupported.mpeg||!0===this._typeSupported.mp3,null!==this._sampleAes);(S=I.video)>0&&(h.pid=S,h.active=!0,this._codecType=I.codecType),(T=I.audio)>0&&(p.pid=T,p.active=!0,p.isAAC=I.isAAC),A&&!b&&(A=!1),b=this._pmtParsed=!0;break;case 17:case 8191:break;default:this._qos.unknownTSPacketCount++,A=!0}}else this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});L&&(f=m(L,a))&&void 0!==f.pts?(g(f,a),h.pesData=void 0):(this._avcSample&&(this._pushAccesUnit(this._avcSample,h),this._avcSample=null),h.pesData=L),C&&(f=m(C))&&void 0!==f.pts?(p.isAAC?y(f):E(),p.pesData=void 0):(C&&C.size,p.pesData=C),(T>0&&0===p.samples.length||S>0&&0===h.samples.length||S<=0&&T<=0)&&!a||(!a&&this._config.gopRemux||(this._remux(d.timeOffset,d.contiguous,d.accurateTimeOffset,a),this._remuxStat=null),a&&this._onParsed())},s._onParsed=function(){var t=Z({extra:this._transmuxData,audioNonMonotonous:this._audioNonMonotonous,fragStartWithNonIdr:5!==this._firstNalTypes},this._qos);this._eventEmitter.emit(n.default.PARSED_DATA,t),this._qos.vMaxDtsDiff=0,this._qos.aMaxDtsDiff=0,this._firstNalTypes=0},s.flush=function(){var t,e=this._avcTrack,i=this._audioTrack,r=e.pesData,n=i.pesData,o=this._parsePES,a=this._parseAVCPES,s=this._parseAACPES;if(r&&(t=o(r,!0))&&void 0!==t.pts&&a(t,!0),e.pesData=void 0,n&&(t=o(n))&&void 0!==t.pts&&i.isAAC&&s(t),i.pesData=void 0,i.pid&&0===i.samples.length&&e.pid&&0===e.samples.length)this._remuxer.flush();else{var u=this._remuxStat;u?this._remux(u.timeOffset,u.contiguous,u.accurateTimeOffset,!0):this._remux(this._timeOffset,!0,this._accurateTimeOffset,!0),this._avcSample=null,this._remuxStat=null,this._firstNalTypes=0}},s._remux=function(t,e,i,r){void 0===r&&(r=!1);var o=this._audioTrack,a=this._avcTrack;0==a.samples.length&&0===o.samples.length||(this._eventEmitter.emit(n.default.MEDIA_DEMUX,{type:d.DemuxerType.TS}),this._sampleAes?this._decryptAndRemux(o,a,t,e,i,r):this._remuxer.remux(o,a,t,e,i,r))},s._decryptAndRemux=function(t,e,i,r,n,o){if(void 0===o&&(o=!1),t.samples&&t.isAAC&&this._sampleAes){var a=this;this._sampleAes.decryptAacSamples(t.samples,0,(function(){a._decryptAndRemuxAvc(t,e,i,r,n,o)}))}else this._decryptAndRemuxAvc(t,e,i,r,n,o)},s._decryptAndRemuxAvc=function(t,e,i,r,n,o){if(void 0===o&&(o=!1),e.samples&&this._sampleAes){var a=this;this._sampleAes.decryptAvcSamples(e.samples,0,0,(function(){a._remuxer.remux(t,e,i,r,n,o)}))}else this._remuxer.remux(t,e,i,r,n,o)},s.destroy=function(){this._duration=0},s._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},s._parsePES=function(t,e){void 0===e&&(e=!1);var i,r,n,a,s,u,c=t.data,l=0,f=0,d=0;if(!t||0===t.size)return null;for(;c[0].length<19&&c.length>1;){var h=new Uint8Array(c[0].length+c[1].length);h.set(c[0]),h.set(c[1],c[0].length),c[0]=h,c.splice(1,1)}if(1===((i=c[0])[0]<<16)+(i[1]<<8)+i[2]){if((n=(i[4]<<8)+i[5])&&n>t.size-6)return null;if(0===n&&!e)return null;192&(r=i[7])&&((f=536870912*(14&i[9])+4194304*(255&i[10])+16384*(254&i[11])+128*(255&i[12])+(254&i[13])/2)>4294967295&&(f-=8589934592),64&r?((d=536870912*(14&i[14])+4194304*(255&i[15])+16384*(254&i[16])+128*(255&i[17])+(254&i[18])/2)>4294967295&&(d-=8589934592),f-d>54e5&&(o.Log.w(Math.round((f-d)/9e4)+"s delta between PTS and DTS, align them"),f=d)):d=f),u=(a=i[8])+9,t.size-=u,s=new Uint8Array(t.size);for(var p=0,_=c.length;p<_;p++){var v=(i=c[p]).byteLength;if(u){if(u>v){u-=v;continue}i=i.subarray(u),v-=u,u=0}s.set(i,l),l+=v}return n&&(n-=a+3),{data:s,pts:f,dts:d,len:n}}return null},s._getLastNalUnit=function(){var t,e=this._avcSample;if(!e||0===e.units.length){var i=this._avcTrack.samples;e=i[i.length-1]}if(e){var r=e.units;t=r[r.length-1]}return t},s._parseAVCNALu=function(t){var e,i,r,n,o=this._avcTrack,a=t.byteLength,s=a,u=[],c=0,l=0,d=o.naluState||0,h=-1,p=d;if(-1===d)h=0,n=this._codecType===f.CodecType.h265?(126&t[0])>>1:31&t[0],d=0,c=1;else if(d>0)for(;l<4;l++){var _=t[l];if(0!==_){if(1===_&&d>=2){h=l+1,n=this._codecType===f.CodecType.h265?(126&t[h])>>1:31&t[h],d=0;var v=this._getLastNalUnit();v&&p&&l<=4-p&&v.state&&(v.data=v.data.subarray(0,v.data.byteLength-p));break}l<a&&(d=0);break}d++,c=l+1}for(;c<s;)if(1===(e=t[c+2]))if(0===t[c]&&0===t[c+1]){if(d=c>0&&0===t[c-1]?3:2,c+=3,h>=0)r={data:t.subarray(h,c-d-1),type:n},u.push(r);else{var m=this._getLastNalUnit();if(m&&(i=c-d-1)>0){var g=new Uint8Array(m.data.byteLength+i);g.set(m.data,0),g.set(t.subarray(0,i),m.data.byteLength),m.data=g}}c<a?(h=c,n=this._codecType===f.CodecType.h265?(126&t[c])>>1:31&t[c],d=0):d=-1}else c+=3;else 0===e?c++:c+=3;for(var y=a-1;y>a-4&&y>=l&&0===t[y];y--)d++;if(h>=0&&d>=0&&h<a&&(r={data:t.subarray(h,a),type:n,state:d},u.push(r)),0===u.length){var E=this._getLastNalUnit();if(E){var w=new Uint8Array(E.data.byteLength+t.byteLength);w.set(E.data,0),w.set(t,E.data.byteLength),E.data=w}}return o.naluState=d,u},e=t,a=[{key:"probeSize",get:function(){return 752}}],(i=[{key:"minChunkSize",get:function(){return 188}},{key:"encryptedChunkSize",get:function(){return 752}}])&&$(e.prototype,i),a&&$(e,a),t}(),it=function(){function t(t,e,i,r){this._eventEmitter=void 0,this._config=void 0,this._vendor=void 0,this._typeSupported=void 0,this._decrypter=void 0,this._nextIV=null,this._cache=new y.default,this._probe=void 0,this._muxConfig=[{Demux:U,Remux:B.default},{Demux:et,Remux:B.default},{Demux:W,Remux:j},{Demux:Q,Remux:B.default}],this._demuxer=void 0,this._remuxer=void 0,this._stat=void 0,this._minChunkSize=0,this._eventEmitter=t,this._typeSupported=e,this._config=i,this._vendor=r,this._minChunkSize=this._muxConfig.reduce((function(t,e){return Math.max(e.Demux.probeSize,t)}),0)}var e=t.prototype;return e.push=function(t,e,i,r,n,o,a,s,u,c){var f=this,d=t;if((a||o)&&this._cache.clear(),c.progress&&this._minChunkSize)if(this._cache.put(t),u)d=this._cache.get(this._cache.unreadLen);else{var h=Math.floor(this._cache.unreadLen/this._minChunkSize)*this._minChunkSize;if(!(h>=this._minChunkSize))return void(this._stat||(this._stat={contiguous:n,trackSwitch:o,discontinuity:a,accurateTimeOffset:s}));d=this._cache.get(h)}else this._cache.unreadLen&&(this._cache.put(t),d=this._cache.get(this._cache.unreadLen));if(d)if(t=d,this._stat&&(n=this._stat.contiguous,o=this._stat.trackSwitch,a=this._stat.discontinuity,s=this._stat.accurateTimeOffset,this._stat=void 0),t.byteLength>0&&e&&e.key&&"AES-128"===e.method){var p=this._decrypter;p||(p=this._decrypter=new l(this._eventEmitter,this._config,{removePKCS7Padding:u})),a&&(this._nextIV=null);var _=this._nextIV?this._nextIV:e.iv;p.decrypt(t,e.key.buffer,_.buffer,(function(l){u?f._nextIV=null:(f._nextIV=new Uint8Array(16),f._nextIV.set(t.subarray(t.byteLength-16),0)),f._pushDecrypted(new Uint8Array(l),e,i,r,n,o,a,s,u,c)}))}else e&&u&&(this._nextIV=null),this._pushDecrypted(t,e,i,r,n,o,a,s,u,c)},e.flush=function(){this._demuxer&&this._demuxer.flush(),this._cache.clear()},e.end=function(){this._eventEmitter.emit(n.default.LOAD_END)},e._probeData=function(t,e,i,o){if(!this._demuxer||e&&this._probe&&!this._probe(t)){for(var a=this._eventEmitter,s=this._typeSupported,u=this._config,c=0,l=this._muxConfig.length;c<l;c++){var f=this._muxConfig[c],d=f.Demux.probe;if(d(t)){this._remuxer=new f.Remux(a,u,s,this._vendor),this._demuxer=new f.Demux(a,this._remuxer,u,s),this._probe=d;break}}if(!this._demuxer)return void this._eventEmitter.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"})}},e._pushDecrypted=function(t,e,i,r,n,o,a,s,u,c){this._demuxer||this._probeData(t,!0,i,c);var l=this._demuxer,f=this._remuxer;f&&l&&(this._minChunkSize=e?l.encryptedChunkSize||16:l.minChunkSize||0,(o||a)&&(l.resetInitSegment(c,i),f.resetInitSegment(c)),a&&(l.resetTimeStamp(),f.resetTimeStamp()),e&&l.hasOwnProperty("setDecryptData")&&l.setDecryptData(e),l.append(t,r,n,s,u))},t}();e.default=it},"./src/demux/demuxer-worker.ts":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.ts ***!
  \*************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./src/core/worker-manager.ts (referenced with require.resolve) */function(t,e,i){"use strict";i.r(e);var r=i(/*! events */"./node_modules/events/events.js"),n=i(/*! ../core/kernel-events */"./src/core/kernel-events.ts"),o=i(/*! ../core/worker-cmd */"./src/core/worker-cmd.ts"),a=i(/*! ../utils/log */"./src/utils/log.ts"),s=i(/*! ./demuxer-inline */"./src/demux/demuxer-inline.ts");e.default=function(t){var e,i=new r.EventEmitter;i.on(n.default.INIT_PTS_FOUND,(function(e){return t.postMessage({event:n.default.INIT_PTS_FOUND,data:e})})),i.on(n.default.PARSING_INIT_SEGMENT,(function(e){return t.postMessage({event:n.default.PARSING_INIT_SEGMENT,data:e})})),i.on(n.default.PARSED_DATA,(function(e){return t.postMessage({event:n.default.PARSED_DATA,data:e})})),i.on(n.default.LOAD_END,(function(e){return t.postMessage({event:n.default.LOAD_END,data:e})})),i.on(n.default.ERROR,(function(e){return t.postMessage({event:n.default.ERROR,data:e})})),i.on(n.default.MEDIA_DEMUX,(function(e){return t.postMessage({event:n.default.MEDIA_DEMUX,data:e})})),i.on(n.default.METADATA,(function(e){return t.postMessage({event:n.default.METADATA,data:e})})),i.on(n.default.FLV_HEAD,(function(e){return t.postMessage({event:n.default.FLV_HEAD,data:e})})),i.on(n.default.MP4_NOT_FASTSTART,(function(e){return t.postMessage({event:n.default.MP4_NOT_FASTSTART,data:e})})),i.on(n.default.PARSING_DATA,(function(e){var i={event:n.default.PARSING_DATA,data:e},r=[];e.segments.forEach((function(t){r.push(t.payload.buffer)})),t.postMessage(i,r)})),t.addEventListener("message",(function(t){var r=t.data;switch(r.cmd){case o.WorkerCmd.INIT:a.Log.level(r.config.kwaiKernelLog),function(t,i,r,n){e=new s.default(t,i,r,n)}(i,r.typeSupported,r.config,r.vendor);break;case o.WorkerCmd.PUSH:e.push(r.data,r.decryptdata,r.initSegment,r.timeOffset,r.contiguous,r.trackSwitch,r.discontinuity,r.accurateTimeOffset,r.fragEnd,r.transmuxData);break;case o.WorkerCmd.FLUSH:e.flush();break;case o.WorkerCmd.LOAD_END:e.end()}}))}},"./src/demux/flv/flv.ts":
/*!******************************!*\
  !*** ./src/demux/flv/flv.ts ***!
  \******************************/
/*! exports provided: FlvTagType, FLV_HEAD_LEN, FLV_TAG_HEAD_LEN, FLV_TAG_SIZE_LEN, FLV_VIDEO_TAG_HEAD_LEN, FlvTag */function(t,e,i){"use strict";var r;i.r(e),i.d(e,"FlvTagType",(function(){return r})),i.d(e,"FLV_HEAD_LEN",(function(){return n})),i.d(e,"FLV_TAG_HEAD_LEN",(function(){return o})),i.d(e,"FLV_TAG_SIZE_LEN",(function(){return a})),i.d(e,"FLV_VIDEO_TAG_HEAD_LEN",(function(){return s})),i.d(e,"FlvTag",(function(){return u})),function(t){t[t.AUDIO=8]="AUDIO",t[t.VIDEO=9]="VIDEO",t[t.SCRIPT=18]="SCRIPT"}(r||(r={}));var n=13,o=11,a=4,s=5,u=function(){this.tagType=r.VIDEO,this.dataSize=0,this.timestamp=0,this.size=0,this.cts=0,this.frameType=0,this.codecId=0,this.body=void 0,this.packetType=void 0}},"./src/demux/video/color-space.ts":
/*!****************************************!*\
  !*** ./src/demux/video/color-space.ts ***!
  \****************************************/
/*! exports provided: AVColorPrimaries, AVColorTransferCharacteristic, AVColorSpace, AVColorRange, getColorStr */function(t,e,i){"use strict";var r,n,o,a,s,u,c;i.r(e),i.d(e,"AVColorPrimaries",(function(){return s})),i.d(e,"AVColorTransferCharacteristic",(function(){return u})),i.d(e,"AVColorSpace",(function(){return c})),i.d(e,"AVColorRange",(function(){return l})),i.d(e,"getColorStr",(function(){return _})),function(t){t[t.AVCOL_PRI_RESERVED0=0]="AVCOL_PRI_RESERVED0",t[t.AVCOL_PRI_BT709=1]="AVCOL_PRI_BT709",t[t.AVCOL_PRI_UNSPECIFIED=2]="AVCOL_PRI_UNSPECIFIED",t[t.AVCOL_PRI_RESERVED=3]="AVCOL_PRI_RESERVED",t[t.AVCOL_PRI_BT470M=4]="AVCOL_PRI_BT470M",t[t.AVCOL_PRI_BT470BG=5]="AVCOL_PRI_BT470BG",t[t.AVCOL_PRI_SMPTE170M=6]="AVCOL_PRI_SMPTE170M",t[t.AVCOL_PRI_SMPTE240M=7]="AVCOL_PRI_SMPTE240M",t[t.AVCOL_PRI_FILM=8]="AVCOL_PRI_FILM",t[t.AVCOL_PRI_BT2020=9]="AVCOL_PRI_BT2020",t[t.AVCOL_PRI_SMPTE428=10]="AVCOL_PRI_SMPTE428",t[t.AVCOL_PRI_SMPTEST428_1=10]="AVCOL_PRI_SMPTEST428_1",t[t.AVCOL_PRI_SMPTE431=11]="AVCOL_PRI_SMPTE431",t[t.AVCOL_PRI_SMPTE432=12]="AVCOL_PRI_SMPTE432",t[t.AVCOL_PRI_EBU3213=22]="AVCOL_PRI_EBU3213",t[t.AVCOL_PRI_JEDEC_P22=22]="AVCOL_PRI_JEDEC_P22",t[t.AVCOL_PRI_NB=23]="AVCOL_PRI_NB"}(s||(s={})),function(t){t[t.AVCOL_TRC_RESERVED0=0]="AVCOL_TRC_RESERVED0",t[t.AVCOL_TRC_BT709=1]="AVCOL_TRC_BT709",t[t.AVCOL_TRC_UNSPECIFIED=2]="AVCOL_TRC_UNSPECIFIED",t[t.AVCOL_TRC_RESERVED=3]="AVCOL_TRC_RESERVED",t[t.AVCOL_TRC_GAMMA22=4]="AVCOL_TRC_GAMMA22",t[t.AVCOL_TRC_GAMMA28=5]="AVCOL_TRC_GAMMA28",t[t.AVCOL_TRC_SMPTE170M=6]="AVCOL_TRC_SMPTE170M",t[t.AVCOL_TRC_SMPTE240M=7]="AVCOL_TRC_SMPTE240M",t[t.AVCOL_TRC_LINEAR=8]="AVCOL_TRC_LINEAR",t[t.AVCOL_TRC_LOG=9]="AVCOL_TRC_LOG",t[t.AVCOL_TRC_LOG_SQRT=10]="AVCOL_TRC_LOG_SQRT",t[t.AVCOL_TRC_IEC61966_2_4=11]="AVCOL_TRC_IEC61966_2_4",t[t.AVCOL_TRC_BT1361_ECG=12]="AVCOL_TRC_BT1361_ECG",t[t.AVCOL_TRC_IEC61966_2_1=13]="AVCOL_TRC_IEC61966_2_1",t[t.AVCOL_TRC_BT2020_10=14]="AVCOL_TRC_BT2020_10",t[t.AVCOL_TRC_BT2020_12=15]="AVCOL_TRC_BT2020_12",t[t.AVCOL_TRC_SMPTE2084=16]="AVCOL_TRC_SMPTE2084",t[t.AVCOL_TRC_SMPTEST2084=16]="AVCOL_TRC_SMPTEST2084",t[t.AVCOL_TRC_SMPTE428=17]="AVCOL_TRC_SMPTE428",t[t.AVCOL_TRC_SMPTEST428_1=17]="AVCOL_TRC_SMPTEST428_1",t[t.AVCOL_TRC_ARIB_STD_B67=18]="AVCOL_TRC_ARIB_STD_B67",t[t.AVCOL_TRC_NB=19]="AVCOL_TRC_NB"}(u||(u={})),function(t){t[t.AVCOL_SPC_RGB=0]="AVCOL_SPC_RGB",t[t.AVCOL_SPC_BT709=1]="AVCOL_SPC_BT709",t[t.AVCOL_SPC_UNSPECIFIED=2]="AVCOL_SPC_UNSPECIFIED",t[t.AVCOL_SPC_RESERVED=3]="AVCOL_SPC_RESERVED",t[t.AVCOL_SPC_FCC=4]="AVCOL_SPC_FCC",t[t.AVCOL_SPC_BT470BG=5]="AVCOL_SPC_BT470BG",t[t.AVCOL_SPC_SMPTE170M=6]="AVCOL_SPC_SMPTE170M",t[t.AVCOL_SPC_SMPTE240M=7]="AVCOL_SPC_SMPTE240M",t[t.AVCOL_SPC_YCGCO=8]="AVCOL_SPC_YCGCO",t[t.AVCOL_SPC_YCOCG=8]="AVCOL_SPC_YCOCG",t[t.AVCOL_SPC_BT2020_NCL=9]="AVCOL_SPC_BT2020_NCL",t[t.AVCOL_SPC_BT2020_CL=10]="AVCOL_SPC_BT2020_CL",t[t.AVCOL_SPC_SMPTE2085=11]="AVCOL_SPC_SMPTE2085",t[t.AVCOL_SPC_CHROMA_DERIVED_NCL=12]="AVCOL_SPC_CHROMA_DERIVED_NCL",t[t.AVCOL_SPC_CHROMA_DERIVED_CL=13]="AVCOL_SPC_CHROMA_DERIVED_CL",t[t.AVCOL_SPC_ICTCP=14]="AVCOL_SPC_ICTCP",t[t.AVCOL_SPC_NB=15]="AVCOL_SPC_NB"}(c||(c={}));var l,f=((r={})[s.AVCOL_PRI_RESERVED0]="reserved",r[s.AVCOL_PRI_BT709]="bt709",r[s.AVCOL_PRI_UNSPECIFIED]="unknown",r[s.AVCOL_PRI_RESERVED]="reserved",r[s.AVCOL_PRI_BT470M]="bt470m",r[s.AVCOL_PRI_BT470BG]="bt470bg",r[s.AVCOL_PRI_SMPTE170M]="smpte170m",r[s.AVCOL_PRI_SMPTE240M]="smpte240m",r[s.AVCOL_PRI_FILM]="film",r[s.AVCOL_PRI_BT2020]="bt2020",r[s.AVCOL_PRI_SMPTE428]="smpte428",r[s.AVCOL_PRI_SMPTE431]="smpte431",r[s.AVCOL_PRI_SMPTE432]="smpte432",r[s.AVCOL_PRI_EBU3213]="ebu3213",r),d=((n={})[u.AVCOL_TRC_RESERVED0]="reserved",n[u.AVCOL_TRC_BT709]="bt709",n[u.AVCOL_TRC_UNSPECIFIED]="unknown",n[u.AVCOL_TRC_RESERVED]="reserved",n[u.AVCOL_TRC_GAMMA22]="bt470m",n[u.AVCOL_TRC_GAMMA28]="bt470bg",n[u.AVCOL_TRC_SMPTE170M]="smpte170m",n[u.AVCOL_TRC_SMPTE240M]="smpte240m",n[u.AVCOL_TRC_LINEAR]="linear",n[u.AVCOL_TRC_LOG]="log100",n[u.AVCOL_TRC_LOG_SQRT]="log316",n[u.AVCOL_TRC_IEC61966_2_4]="iec61966-2-4",n[u.AVCOL_TRC_BT1361_ECG]="bt1361e",n[u.AVCOL_TRC_IEC61966_2_1]="iec61966-2-1",n[u.AVCOL_TRC_BT2020_10]="bt2020-10",n[u.AVCOL_TRC_BT2020_12]="bt2020-12",n[u.AVCOL_TRC_SMPTE2084]="smpte2084",n[u.AVCOL_TRC_SMPTE428]="smpte428",n[u.AVCOL_TRC_ARIB_STD_B67]="arib-std-b67",n),h=((o={})[c.AVCOL_SPC_RGB]="gbr",o[c.AVCOL_SPC_BT709]="bt709",o[c.AVCOL_SPC_UNSPECIFIED]="unknown",o[c.AVCOL_SPC_RESERVED]="reserved",o[c.AVCOL_SPC_FCC]="fcc",o[c.AVCOL_SPC_BT470BG]="bt470bg",o[c.AVCOL_SPC_SMPTE170M]="smpte170m",o[c.AVCOL_SPC_SMPTE240M]="smpte240m",o[c.AVCOL_SPC_YCGCO]="ycgco",o[c.AVCOL_SPC_BT2020_NCL]="bt2020nc",o[c.AVCOL_SPC_BT2020_CL]="bt2020c",o[c.AVCOL_SPC_SMPTE2085]="smpte2085",o[c.AVCOL_SPC_CHROMA_DERIVED_NCL]="chroma-derived-nc",o[c.AVCOL_SPC_CHROMA_DERIVED_CL]="chroma-derived-c",o[c.AVCOL_SPC_ICTCP]="ictcp",o);!function(t){t[t.AVCOL_RANGE_UNSPECIFIED=0]="AVCOL_RANGE_UNSPECIFIED",t[t.AVCOL_RANGE_MPEG=1]="AVCOL_RANGE_MPEG",t[t.AVCOL_RANGE_JPEG=2]="AVCOL_RANGE_JPEG"}(l||(l={}));var p=((a={})[l.AVCOL_RANGE_UNSPECIFIED]="unknown",a[l.AVCOL_RANGE_MPEG]="tv",a[l.AVCOL_RANGE_JPEG]="pc",a);function _(t){if(t&&"number"==typeof t.colorRange&&"number"==typeof t.matrixCoefficients&&"number"==typeof t.colourPrimaries&&"number"==typeof t.transferCharacteristics){var e=h[t.matrixCoefficients],i=f[t.colourPrimaries],r=d[t.transferCharacteristics];return e===i&&e===r?"("+(t.colorRange?p[t.colorRange]+" ":"")+e+")":"("+(t.colorRange?p[t.colorRange]+" ":"")+e+"/"+i+"/"+r+")"}return""}},"./src/index.ts":
/*!************************************!*\
  !*** ./src/index.ts + 108 modules ***!
  \************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/core/kernel-errors.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/core/kernel-events.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/core/worker-cmd.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/demuxer-inline.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/flv/flv.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/video/color-space.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/io/data-cache.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/remux/mp4-remuxer.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/types/core.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/types/remux.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/browser.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/decode-utf8.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/keyframes-utils.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/log.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/events/events.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/url-parse/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/url-toolkit/src/url-toolkit.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/webworkify-webpack/index.js (<- Module is not an ECMAScript module) */function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return an}));var r,n=i("./node_modules/events/events.js"),o=function(){function t(){this.tag="fetch",this._context=void 0,this._callbacks=null,this._controller=null,this._reader=null,this._abort=!1}t.isSupport=function(){return!(!self.fetch||!self.ReadableStream)};var e=t.prototype;return e.load=function(t,e){var i=this;this._context=t,this._callbacks=e;var r=new Headers;t.headers&&t.headers.forEach((function(t){r.append(t.header,t.value)})),t.range&&r.append("Range",t.range);var n={method:t.requestMethod?t.requestMethod:"GET",headers:r,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade",signal:this._getAbortSignal()};t.requestBody&&(n.body=t.requestBody),t.credentials&&(n.credentials="include"),fetch(t.url,n).then((function(e){if(t.responseUrl=e.url,t.responseHeader=e.headers,i._callbacks&&i._callbacks.onConnect&&i._callbacks.onConnect(e.status),e.ok)return i._abort?void(e.body&&e.body.getReader().cancel()):"arraybuffer"===t.responseType?t.progress?void(e.body&&(i._reader=e.body.getReader(),i._pump(i._reader))):void e.arrayBuffer().then((function(e){i._onEnd(t,e)})):void e.text().then((function(e){i._onEnd(t,e)}));var r=new Error(e.status+" "+e.statusText);i._onError(r)})).catch((function(t){"AbortError"!==t.name&&i._onError(t)}))},e.abort=function(){this._controller?this._controller.abort():this._reader&&(this._reader.cancel(),this._reader=null),this._abort=!0},e.destroy=function(){this._callbacks=null,this.abort()},e._onProgress=function(t,e){this._callbacks&&this._callbacks.onProgress&&this._callbacks.onProgress(t,e)},e._onEnd=function(t,e){this._callbacks&&this._callbacks.onEnd&&(this._reader=null,this._controller=null,this._callbacks.onEnd(t,e))},e._onError=function(t){this._callbacks&&this._callbacks.onError&&this._callbacks.onError(t)},e._pump=function(t){var e=this;t.read().then((function(i){if(e._abort)return t.cancel(),null;if(i.done)return e._onEnd(e._context,null),null;var r=i.value.buffer;return e._onProgress(e._context,r),e._pump(t)})).catch((function(t){"AbortError"!==t.name&&e._onError(t)}))},e._getAbortSignal=function(){try{if(AbortController)return this._controller=new AbortController,this._controller.signal}catch(t){return null}return null},t}();!function(t){t.MOZ_CHUNK="moz-chunked-arraybuffer",t.UNKNOW="unknow",t.UNSUPPORT=""}(r||(r={}));var a=function(){function t(){var t=this;this.tag="xhr",this._xhr=null,this._context=void 0,this._callbacks=null,this._progress=r.UNKNOW,this._onReadyStateChange=function(e){if(t._xhr){var i=t._xhr;2===i.readyState&&(t._context.responseUrl=i.responseURL,t._context.responseHeader=i.getAllResponseHeaders(),t._callbacks&&t._callbacks.onConnect&&t._callbacks.onConnect(i.status),(i.status<200||i.status>299)&&t._onError(new Error("xhr error")))}},this._onProgress=function(e){if(t._xhr){var i=t._xhr.response;t._callbacks&&t._callbacks.onProgress&&i&&t._callbacks.onProgress(t._context,i)}},this._onLoadEnd=function(e){var i=null,r=t._xhr;!t._progress&&r&&(i=r.response),t._callbacks&&t._callbacks.onEnd(t._context,i)},this._onError=function(e){t._callbacks&&t._callbacks.onError&&t._callbacks.onError(e)},this._xhr=null}t.isSupportChunk=function(){if(t.supportChunk!==r.UNKNOW)return t.supportChunk;try{var e=new XMLHttpRequest;if(e.open("GET","https://example.com",!0),e.responseType=r.MOZ_CHUNK,e.responseType===r.MOZ_CHUNK)return t.supportChunk=r.MOZ_CHUNK,t.supportChunk}catch(e){t.supportChunk=r.UNSUPPORT}return r.UNSUPPORT};var e=t.prototype;return e.load=function(e,i){this._callbacks=i,this._context=e,this._progress=r.UNSUPPORT,e.progress&&"arraybuffer"===e.responseType&&(this._progress=t.isSupportChunk());var n=this._xhr=new XMLHttpRequest;n.open(e.requestMethod?e.requestMethod:"GET",this._context.url,!0),this._progress===r.MOZ_CHUNK?(n.responseType=r.MOZ_CHUNK,n.onprogress=this._onProgress,n.onload=this._onLoadEnd):(n.responseType=e.responseType||"arraybuffer",n.onload=this._onLoadEnd),n.onreadystatechange=this._onReadyStateChange,n.onerror=this._onError,n.withCredentials=!!e.credentials,e.range&&n.setRequestHeader("Range",e.range),e.headers&&e.headers.forEach((function(t){n.setRequestHeader(t.header,t.value)})),n.send(e.requestBody)},e.abort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},e.destroy=function(){this._callbacks=null,this.abort()},t}();a.supportChunk=r.UNKNOW;var s=i("./src/types/core.ts"),u=i("./src/utils/browser.ts"),c=i("./src/utils/log.ts");function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var f=new RegExp("^(http|https)://"),d={isLive:!1,box:s.MediaBox.flv,alwaysSeekKeyframe:!1,lazyLoadMaxDuration:90,lazyLoadRecoverDuration:60,webWorker:!0,appendErrorMaxRetry:3,credentials:!1,streamingMux:!0,autoPlaybackRate:!0,autoPlaybackRateConf:void 0,enableSoftwareAES:!0,startPlayBufferSec:0,startFromSec:0,startFromKeyframe:!0,defaultSpts:-5e3,lazyLoad:!1,kwaiKernelLog:c.LOG_LEVEL.LEVEL_ERROR,retryWithBackup:!0,resourceBuffer:!0,resourceBufferSize:500,ntp:!0,ensureAudio:!0,dbCache:!0,adaptive:!0,autoRecoverMedia:!0,abrSpeedTest:!0,initMseOnDemand:!1,stretchShortVideoTrack:!1,maxBufferHole:.5,maxAudioFramesDrift:5,forceKeyFrameOnDiscontinuity:!1,maxRetry:3,connectionTimeout:1e4,transmissionTimeout:3e4,retryDelay:2e3,maxFragFailSec:11,flvLoadEndError:!0,flvPreloadTimeout:18e3,catchUpPausedLive:!0,manifestLoadingMaxRetry:3,manifestConnectionTimeout:1e4,manifestTransmissionTimeout:1e4,manifestLoadingRetryDelay:1,levelLoadingMaxRetry:3,levelConnectionTimeout:1e4,levelTransmissionTimeout:1e4,levelLoadingRetryDelay:100,emeEnabled:!0,widevineLicenseUrl:"",playreadyLicenseUrl:"",fairplayLicenseUrl:"",keyLoadingMaxRetry:3,keyConnectionTimeout:1e4,keyTransmissionTimeout:5e3,keyLoadingRetryDelay:300,sdpConnectionTimeout:1e4,peerConnectionTimeout:1e4,peerConnectionMaxRetry:5,peerConnectionRetryDelay:3e3},h={maxRetry:1,retryDelay:100,connectionTimeout:1e4,levelConnectionTimeout:1e4,manifestConnectionTimeout:1e4},p={startDelay:10,interval:.6,rule:[{rate:1.25,lower:27,upper:Number.MAX_SAFE_INTEGER},{rate:1.1,lower:17,upper:21},{rate:1,lower:5,upper:11}]},_=function(){function t(){}return t.isStreamingSupport=function(t){return t&&"flv"===t.box&&t.isLive?o.isSupport()||a.isSupportChunk()===r.MOZ_CHUNK:o.isSupport()||a.isSupportChunk()},t.processConfig=function(e){var i=e.box===s.MediaBox.hls?l({},d,h):l({},d);return l(i,e),i.startPlayBufferSec=Math.min(5,Math.max(0,i.startPlayBufferSec)),t.setSrc(i),this._initPlayBackRateRule(i),window.Worker||(i.webWorker=!1),i.isLive&&(i.startFromSec=0),i.lazyLoad=!(i.isLive&&i.box===s.MediaBox.flv),t.detectStreamingMux(i),i},t.detectStreamingMux=function(e){e.streamingMux=!(!e.streamingMux||!t.isStreamingSupport(e)||u.default.msie||u.default.safari||u.default.msedge);var i=u.default.safari&&!e.isLive||u.default.opera&&u.default.version.major<37;e.gopRemux=e.streamingMux&&i},t.setSrc=function(t,e){if(void 0===e&&(e=null),e&&(t.src=e),"string"==typeof t.src&&!f.test(t.src))try{var i=JSON.parse(t.src);i&&(t.src=i)}catch(t){}},t._initPlayBackRateRule=function(t){t.autoPlaybackRate=t.isLive&&t.autoPlaybackRate;var e=t.autoPlaybackRateConf;if(e){var i=e.rule;if(i&&Array.isArray(i)&&((i=i.filter((function(t){return t.upper>t.lower&&t.rate>0}))).sort((function(t,e){return e.rate-t.rate})),i.length>1))return e.rule=i,void(t.autoPlaybackRateConf=e)}else{var r=-t.defaultSpts/1e3,n={startDelay:r,interval:.6,rule:[{rate:1.5,lower:r+7,upper:Number.MAX_SAFE_INTEGER},{rate:1.25,lower:r+4,upper:r+6},{rate:1.1,lower:r+1,upper:r+3},{rate:1,lower:0,upper:r}]};t.autoPlaybackRateConf=t.adaptive&&t.box===s.MediaBox.flv?n:p}},t}(),v=10,m=100,g=101,y=102,E=103,w=104,A=105,b=107,S=108,T=111,x=i("./src/core/kernel-errors.ts"),L=i("./src/core/kernel-events.ts");function C(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=function(){function t(t){this._video=void 0,this._mse=void 0,this._streamTime=0,this._localTime=0,this._video=t}var e,i,r,n=t.prototype;return n.attachVideo=function(t){this._video=t},n.attachMSE=function(t){this._mse=t},n.isTimeinBuffered=function(t){if(this._video)for(var e=this._video.buffered,i=0;i<e.length;i++)if(t>=e.start(i)&&t<e.end(i))return!0;return!1},n.bufferedSec=function(){return this._video&&this._video.buffered.length>0?Math.max(0,this._video.buffered.end(this._video.buffered.length-1)-this._video.currentTime):0},n.bufferedSecByType=function(t){return this._mse&&this._video&&this._mse.bufferedEndByType(t)>0?this._mse.bufferedEndByType(t)-this._video.currentTime:0},n.mseBufferedSecByType=function(t){return this._mse?this._mse.bufferedByType(t):{start:0,end:0}},n.mediaBufferedSec=function(){return this._video&&this._video.buffered&&this._video.buffered.length?{start:this._video.buffered.start(0),end:this._video.buffered.end(this._video.buffered.length-1)}:{start:0,end:0}},n.bufferedEnd=function(){return this._video&&this._video.buffered.length?this._video.buffered.end(this._video.buffered.length-1):0},n.bufferSliceNum=function(){return this._video?this._video.buffered.length:0},n.bufferSliceNumByType=function(t){return this._mse?this._mse.bufferSliceNumByType(t):0},n.pendingNum=function(){return this._mse?this._mse.pendingNum():0},n.pendingSecByType=function(t){return this._mse?this._mse.pendingSecByType(t):0},n.currentBuffer=function(t){if(this._video)for(var e=this._video.buffered,i=0;i<e.length;i++){var r=e.start(i),n=e.end(i);if(r<=t&&t<n)return{start:r,end:n}}},n.nextBuffer=function(t){if(this._video)for(var e=this._video.buffered,i=0;i<e.length;i++){var r=e.start(i),n=e.end(i);if(r>t)return{start:r,end:n}}},n.updateStreamTime=function(t,e){this._streamTime=t,this._localTime=e},n.getLocalTime=function(t){if(this._streamTime)return t-this._streamTime+this._localTime},n.getStreamTime=function(t){if(this._streamTime)return t+1e3*(this._streamTime-this._localTime)},e=t,(i=[{key:"hasStreamTime",get:function(){return!!this._streamTime}},{key:"video",get:function(){return this._video}},{key:"mse",get:function(){return this._mse}},{key:"mseReadyState",get:function(){return this._mse?this._mse.readyState:"closed"}},{key:"videoReadyState",get:function(){return this._video?this._video.readyState:0}},{key:"currentTime",get:function(){return this._video?this._video.currentTime:0}}])&&C(e.prototype,i),r&&C(e,r),t}(),D={METADATA:"metadata",MEDIA_INFO:"mediaInfo",HEARTBEAT:"heartbeat",PERFORMANCE:"performance",DOWNLOAD:"download",REALTIME_BEACON:"realtimeBeacon",DISCONTINUITY:"discontinuity"},O=i("./node_modules/webworkify-webpack/index.js"),R=i.n(O),k=function(){function t(){}return t.prepareWorker=function(){if(!1!==this._isSupported&&!this._w)try{this._w=R()(/*! ../demux/demuxer-worker */"./src/demux/demuxer-worker.ts"),this._isSupported=!0}catch(t){this._isSupported=!1}},t.getWorker=function(){this._w||t.prepareWorker();var e=this._w;return this._w=void 0,e},t.clear=function(){this._w&&(this._w.terminate(),this._w=void 0)},t}();k._isSupported=void 0,k._w=void 0;var N=k,M=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},P=(Number.MAX_SAFE_INTEGER,i("./node_modules/url-toolkit/src/url-toolkit.js"));function U(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var B,F=function(){function t(t,e){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=void 0,this.baseuri=t,this.reluri=e}var e,i,r;return e=t,(i=[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(P.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}])&&U(e.prototype,i),r&&U(e,r),t}();function K(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}!function(t){t.AUDIO="audio",t.VIDEO="video"}(B||(B={}));var j=function(){function t(){var t;this._url="",this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((t={})[B.AUDIO]=!1,t[B.VIDEO]=!1,t),this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.sn=0,this.levelkey=void 0,this.level=0,this.start=0,this.cc=0,this.maxStartPTS=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.deltaPTS=void 0,this.dropped=void 0,this.backtracked=void 0,this.type=void 0,this.loader=void 0,this.title=null,this.urlId=void 0,this.data=void 0}var e,i,r,n=t.prototype;return n.setByteRange=function(t,e){var i=t.split("@",2),r=[];1===i.length?r[0]=e?e.byteRangeEndOffset:0:r[0]=parseInt(i[1],10),r[1]=parseInt(i[0],10)+r[0],this._byteRange=r},n.addElementaryStream=function(t){this._elementaryStreams[t]=!0},n.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},n.createInitializationVector=function(t){for(var e=new Uint8Array(16),i=12;i<16;i++)e[i]=t>>8*(15-i)&255;return e},n.setDecryptDataFromLevelKey=function(t,e){var i=t;return t&&t.method&&t.uri&&!t.iv&&((i=new F(t.baseuri,t.reluri)).method=t.method,i.iv=this.createInitializationVector(e)),i},e=t,(i=[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(P.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!=typeof t&&(t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!M(this.programDateTime))return null;var t=M(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}])&&K(e.prototype,i),r&&K(e,r),t}();function V(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var H=function(){function t(t){this.url=[],this.urlId=0,this.bitrate=0,this.maxBitrate=0,this.avgBitrate=0,this.qualityType="",this.qualityLabel="",this.id=0,this.codec="",this.audioCodec="",this.videoCodec="",this.hidden=!1,this.enableAdaptive=!0,this.default=!1,this.width=void 0,this.height=void 0,this.index=0,this.drmSchemaId="",this.drmToken="",this.url=[t],this.urlId=0}var e,i,r;return t.prototype.getKLevel=function(){return{width:this.width,height:this.height,bandwidth:this.bitrate,qualityLabel:this.qualityLabel,qualityType:this.qualityType,bitrate:this.bitrate,maxBitrate:this.maxBitrate,avgBitrate:this.avgBitrate}},e=t,(i=[{key:"currentUrl",get:function(){return this.url[this.urlId]||""}}])&&V(e.prototype,i),r&&V(e,r),t}();function q(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var G=function(t){var e,i,r,n,o;function a(e){var i;return(i=t.call(this,e)||this).startSN=0,i.endSN=0,i.fragments=[],i.initSegment=null,i.live=!0,i.needSidxRanges=!1,i.startTimeOffset=null,i.targetduration=0,i.totalduration=0,i.type=null,i.version=null,i.details=null,i.PTSKnown=!1,i.m3u8Slice=void 0,i.audioGroupIds=void 0,i.attrs=void 0,i.averagetargetduration=void 0,i.name=void 0,i.lang=void 0,i.groupId="",i.instreamId="",i.autoselect=void 0,i.forced=void 0,i}return i=t,(e=a).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,r=a,(n=[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||"number"!=typeof this.fragments[0].programDateTime||!M(this.fragments[0].programDateTime))}}])&&q(r.prototype,n),o&&q(r,o),a}(H),z=function(){function t(){}return t.verify=function(t){return!!(t&&t.hasOwnProperty("segments")&&Array.isArray(t.segments)&&t.segments.length>0)&&(t.segments.forEach((function(t){if(!t.url||!t.duration||!t.time)return!1})),!0)},t.parse=function(e,i){void 0===i&&(i="");var r=[],n={levels:r,withCredentials:!1,hasVideo:!0,hasAudio:!0};if(t.verify(e)){var o=new G("");r.push(o);var a=new G(""),u=e;n.withCredentials=!!u.withCredentials,void 0!==u.hasAudio&&(n.hasAudio=!!u.hasAudio),void 0!==u.hasVideo&&(n.hasVideo=!!u.hasVideo);var c=0,l=0,f=0;u.segments.forEach((function(t,e){var r=new j;r.sn=e,"string"==typeof t.startUtcTime?r.programDateTime=parseInt(t.startUtcTime):"number"==typeof t.startUtcTime&&(r.programDateTime=t.startUtcTime),"string"==typeof t.duration?r.duration=(parseFloat(t.duration)||0)/1e3:r.duration=(t.duration||0)/1e3,r.start=c,r.baseurl=i,r.relurl=t.url,c+=r.duration,e>0&&f!==t.periodId&&(r.tagList.push(["DIS"]),l++),r.cc=l,f=t.periodId,a.fragments.push(r)})),a.live=!1,a.type=s.LevelType.MAIN,a.startSN=0,a.endSN=a.fragments.length-1,a.totalduration=c,o.details=a}return n},t}(),W={400:"01",401:"02",403:"03",404:"04",other4xx:"05",serverError:"06",timeoutOpen:"07",timeoutIO:"08",200:"09",206:"09"};function X(t,e,i){if(void 0===i&&(i=0),t>=100)return t;var r="00";return"timeout"===e?r=i?W.timeoutIO||r:W.timeoutOpen||r:W.hasOwnProperty(i)?r=W[i]||r:/^4\d{2}$/.test(i.toString())?r=W.other4xx||r:/^5\d{2}$/.test(i.toString())&&(r=W.serverError||r),parseInt(t+r,10)}var Y,Q=["x-ks-cache","kwaisign","x-ks-request-id","x-ks-client-ip"],J=255,Z=10;function $(t){var e=[];return"string"==typeof t?t.trim().split(/[\r\n]+/).forEach((function(t){var i=t.split(": "),r=i.shift(),n=i.join(":");r&&e.push([r,n])})):t&&t.forEach((function(t,i){t.split(",").forEach((function(t){e.push([i,t])}))})),e}function tt(t){var e=$(t),i=[];return e&&(i=[],e.forEach((function(t){-1!==Q.indexOf(t[0].toLowerCase())&&i.push(t[0]+": "+t[1].slice(0,J))}))),i.length?(i.slice(0,Z),i):null}function et(){performance&&("function"==typeof performance.clearResourceTimings?performance.clearResourceTimings():"function"==typeof performance.webkitClearResourceTimings&&performance.webkitClearResourceTimings())}function it(){return(it=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function rt(t,e,i,r,n){void 0===n&&(n=!1);var o={url:e.url,startTime:i.tsload,spendTime:i.tload?Math.round(i.tload-i.tstart):Math.round(performance.now()-i.tstart),httpResponseTime:i.tfirst?Math.round(i.tfirst-i.tstart):0,status:t,httpStatusCode:i.code,retry:i.retry,errorCode:0,errorMessage:"",loaderId:i.id,byteLength:i.total||i.loaded||0,resourceType:e.type||"",preload:n,cacheHit:!!i.cacheHit,cacheFail:!!i.cacheFail};r&&(o.qualityType=r);var a=e.frag;if(a&&(o.slice=!0,o.slicePlayStartTime=Math.round(1e3*a.start),o.slicePlayDuration=Math.round(1e3*a.duration),o.sliceIndex=a.sn,o.sliceLevelIndex=a.level),t===Y.FAIL&&(o.errorCode=X(x.ErrorDetails.LOAD_ERROR,i.text,i.code)),i.text&&(o.errorMessage=i.text),e.responseHeader){var s=tt(e.responseHeader);s&&(o.customHeader=s)}o.rangeStart=e.rangeStart,o.rangeEnd=e.rangeEnd;var u=function(t){if(performance&&"function"==typeof performance.getEntriesByName){var e=performance.getEntriesByName(t,"resource");if(e.length){var i=e[e.length-1],r={};return i.redirectStart&&(r.redirect=i.redirectEnd-i.redirectStart),r.dns=i.domainLookupEnd-i.domainLookupStart,r.tcp=i.connectEnd-i.connectStart,r.request=i.requestStart-i.connectEnd,r.firstResponse=i.responseStart-i.requestStart,i.responseStart>0?r.response=i.responseEnd-i.responseStart:r.response=i.responseEnd-i.fetchStart,r.duration=i.duration||0,r}}return null}(e.url);return u&&it(o,u),o}function nt(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}!function(t){t.FAIL="FAIL",t.ABORT="ABORT",t.SUCCESS="SUCCESS"}(Y||(Y={}));var ot=function(){function t(){this.timeout=6048e5}var e,i,r,n=t.prototype;return n.write=function(e,i){if(t.available)try{localStorage.setItem(e,JSON.stringify({value:i,time:Date.now()}))}catch(t){}},n.read=function(e){if(t.available)try{var i=localStorage.getItem(e);if(i){var r=JSON.parse(i),n=r.value,o=r.time,a=void 0===o?0:o;if(Date.now()-a<this.timeout)return n}}catch(t){}},e=t,r=[{key:"available",get:function(){if(void 0===t._available)try{localStorage.setItem("alg","test"),t._available=!0}catch(e){t._available=!1}return t._available}}],(i=null)&&nt(e.prototype,i),r&&nt(e,r),t}();ot._available=void 0;var at=ot;function st(){return(st=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ut(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ct,lt={beacon:!1,predictStep:5,targetBuffer:10,duration:5,smoothRatioToTarget:0,switchpanelty:2.5*1e-6,slidingWindowSize:3,kalmanR:Math.pow(.2,2),kalmanQ:4e-4,initBitrate:2e6,startBitrateLimit:!0,speedPredictRatio:1.5,speedPredictNum:3,algorithm:1,speedPredictRatioOnStart:3,lowProfileThreshold:4,lowProfileBitrate:25e5,lowProfileStartThreshold:5};!function(t){t[t.Default=0]="Default",t[t.Seek=1]="Seek"}(ct||(ct={}));var ft="algorithm-hls",dt=function(){function t(t){this._conf=void 0,this._bufferSize=0,this._lastBufferSize=0,this._pastThroughput=void 0,this._bitrates=[],this._qos={},this._storage=void 0,this._index=0,this._nextIndex=0,this._status=ct.Default,this._speedPredictCnt=0,this._playbackRate=1,this._lowProfile=!1,this._lowProfileIndex=0,this._lowProfileHistory=0,this._renderBlockCount=0,this._storage=new at;var e=st({},lt);this._conf=st(e,t)}var e,i,r,n=t.prototype;return n.setInfo=function(t){var e=this;this._bitrates=[],t.levels.forEach((function(t){e._bitrates.push(t.bitrate)})),this._index=Math.min(t.index,this._bitrates.length-1),c.Log.i(ft,"setInfo "+this._bitrates+", "+this._index),this._nextIndex=0,this._bufferSize=this._conf.duration,this._lastBufferSize=0,this._pastThroughput=new Array(this._conf.slidingWindowSize),this._pastThroughput[this._conf.slidingWindowSize-1]=0,this._status=ct.Default,this._lowProfileIndex=this._maxBitrateIndex(this._bitrates,this._conf.lowProfileBitrate)},n.bitrateInit=function(){var t=this,e=this._bitrateToIndex(this._bitrates,this._conf.initBitrate),i=this._storage.read("kwai_hls_adaptive");if(c.Log.i(ft,"storage read:"+i),void 0!==i&&i.bitrate>=0&&i.speed>0&&2===i.version){i.time&&i.lowProfile&&Date.now()-i.time<2592e5&&(this._lowProfileHistory=Math.min(parseInt(i.lowProfile),this._conf.lowProfileStartThreshold+1),this._lowProfileHistory>this._conf.lowProfileStartThreshold&&(this._lowProfile=!0,e=Math.min(e,this._lowProfileIndex)));var r=Math.min(i.bitrate,1024*i.speed/this._conf.speedPredictRatioOnStart),n=this._bitrates.reduce((function(e,i,n){return Math.abs(i-r)<Math.abs(t._bitrates[e]-r)?n:e}),0);e=this._conf.startBitrateLimit?Math.min(e,n):n}return e},n.onLevelLoad=function(t){t<this._bitrates.length&&t>=0&&(this._index=t)},n.onDownload=function(t){if(t.byteLength){var e=t.duration||t.spendTime,i=t.byteLength/e*7.8125;this._qos=st({cache:!1},t),c.Log.v(ft,"report download time:"+e+" bytes:"+t.byteLength+" buffered:"+t.buffered+" speed:"+i+" cache:"+this._qos.cache);var r=this._nextRateIndex(i,t.buffered/1e3);this._nextIndex=r,r!==this._nextIndex&&this._storage.write("kwai_hls_adaptive",{version:2,index:r,bitrate:this._bitrates[r],speed:this._qos&&this._qos.speed?this._qos.speed:0,lowProfile:Math.max(0,this._lowProfile?this._lowProfileHistory+1:this._lowProfileHistory-1),time:Date.now()}),this._qos.speed=i,this._qos.buffered=t.buffered,this._qos.nextBitrate=this._bitrates[this._nextIndex],this._qos.currentBitrate=this._bitrates[this._index]}},n.onSeek=function(t){c.Log.v(ft,"report seek buffered:"+t.buffered+" inBuffer:"+t.isInBuffer),t.isInBuffer?this._resetAlgorithm():this._qos.seek=1,(!t.isInBuffer||t.buffered/1e3<this._conf.targetBuffer)&&(c.Log.i(ft,"status change to seek."),this._status=ct.Seek,this._speedPredictCnt=this._conf.speedPredictNum)},n.onRatechange=function(t){t&&(this._playbackRate=t)},n.onWaiting=function(t){t.buffered>1e3&&this._index>this._lowProfileIndex&&(this._renderBlockCount++,this._renderBlockCount>this._conf.lowProfileThreshold&&(this._lowProfile=!0))},n.onDownloadEnabled=function(t){t||this._resetAlgorithm()},n._resetAlgorithm=function(){this._bufferSize=0,this._lastBufferSize=0,this._pastThroughput=new Array(this._conf.slidingWindowSize)},n._nextRateIndex=function(t,e){this._bufferSize=e,this._pastThroughput.shift(),this._pastThroughput.push(t),this._status===ct.Seek&&(e>=this._conf.targetBuffer||this._speedPredictCnt<=0)&&(this._speedPredictCnt=0,this._status=ct.Default,c.Log.i(ft,"status change to default. buffered:"+e+" step:"+this._speedPredictCnt));var i=-1;return this._status===ct.Seek?(this._speedPredictCnt--,this._lastBufferSize=this._bufferSize,i=this._nextRateBySpeed(t)):i=this._nextRateBySpeedAndBuffered(t,e),this._lowProfile&&(i=Math.min(i,this._lowProfileIndex)),i},n._nextRateBySpeed=function(t){var e=1024*t,i=this._bitrates[this._index];if(e<i||e>i*this._conf.speedPredictRatio)for(var r=this._bitrates.length-1;r>=0;r--)if(e>this._bitrates[r]*this._conf.speedPredictRatio)return r;return this._index},n._nextRateBySpeedAndBuffered=function(t,e){var i,r=1024*t,n=this._bitrates,o=n[this._index];for(i=n.length-1;i>0&&!(r>n[i]*this._playbackRate);i--);var a=n[i],s=this._index,u=e/this._playbackRate;return a>o?u>a*this._conf.duration/r&&(s=i):a<o&&u<o*this._conf.duration/r+this._conf.duration&&(s=i),c.Log.v(ft,"_nextRateBySpeedAndBuffered bitrateBySpeed:"+a+", nextBitrate:"+s+", bitrate:"+o+", remainingTime:"+u+", speed:"+r+", playbackRate:"+this._playbackRate),s},n._bitrateToIndex=function(t,e){return t.reduce((function(i,r,n){return(t[i]+r)/2>=e?i:n}),0)},n._maxBitrateIndex=function(t,e){return t.reduce((function(t,i,r){return i>e?t:r}),0)},e=t,(i=[{key:"nextIndex",get:function(){return this._nextIndex}},{key:"lowProfile",get:function(){return this._lowProfile}}])&&ut(e.prototype,i),r&&ut(e,r),t}();function ht(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pt={speedPredictRatioOnStart:6},_t=function(t){var e,i;function r(e,i){var r;return(r=t.call(this)||this)._config=void 0,r._media=void 0,r._algorithm=void 0,r._info=void 0,r._activity=!1,r._downloadEnd=void 0,r._downloadStartTime=0,r._index=0,r._availableList=void 0,r._orignList=[],r._abrList=[],r._abrInitLevel=0,r._config=e,r._media=i,r._downloadEnd=0,r}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n,o,a,s=r.prototype;return s.init=function(t){var e=this;return this._info=t,this._abrInitLevel=t.index,this._activity=!!(this._config.adaptive&&t.levels.length>1),t.levels.forEach((function(t,i){e._orignList.push({index:i,bitrate:t.bitrate,enableAdaptive:t.enableAdaptive})})),this._activity?(this._algorithm=new dt(this._config.hlsAdaptiveConfig||pt),this._updateAbrList(),this.emit(L.default.ABR_INFO,{lowProfile:this._algorithm.lowProfile?1:0})):this.active(!1),this._abrInitLevel||0},s.setAvailableAbrLevels=function(t){this._availableList=t,this._updateAbrList()},s.destory=function(){this._algorithm&&(this._algorithm=void 0)},s.onRatechange=function(t){this._algorithm&&this._algorithm.onRatechange(t)},s.onWaiting=function(){this._algorithm&&(this._algorithm.onWaiting({buffered:1e3*this._media.bufferedSec()}),this._algorithm.lowProfile&&this.emit(L.default.ABR_INFO,{lowProfile:this._algorithm.lowProfile?1:0}))},s.onDownload=function(t){if(this._algorithm&&this._info&&"number"==typeof t.slicePlayStartTime&&"number"==typeof t.slicePlayDuration&&M(t.slicePlayStartTime)&&M(t.slicePlayDuration)&&t.status===Y.SUCCESS){this._downloadEnd=t.slicePlayStartTime+t.slicePlayDuration;var e={buffered:this._downloadEnd-1e3*this._media.currentTime,duration:t.duration||0,spendTime:t.spendTime,byteLength:t.byteLength};this._algorithm.onDownload(e)}},s.onNewSource=function(t){this._algorithm&&this._info&&(this._downloadStartTime=this._downloadStartTime||performance.now(),this._info&&t.index>=0&&t.index<this._info.levels.length&&(this._index=t.index),this._algorithm.onLevelLoad(this._orignIndexToAbr(t.index)))},s.onSeek=function(t){this._algorithm&&this._info&&this._algorithm.onSeek({isInBuffer:t.isInBuffer,buffered:this._downloadEnd-1e3*this._media.currentTime})},s.active=function(t){this._activity=t},s.nextBitrateIndex=function(){if(this._activity&&this._info&&this._info.levels.length>1&&this._algorithm){var t=this._abrIndexToOrign(this._algorithm.nextIndex);if(t!==this._index&&t>=0&&t<this._info.levels.length)return t}return this._index},s.setDownloadEnabled=function(t){this._algorithm&&this._algorithm.onDownloadEnabled(t)},s._updateAbrList=function(){this._algorithm&&(this._generateAbrList(),this._algorithm.setInfo({levels:this._abrList,index:this._index}),this._abrInitLevel=this._abrIndexToOrign(this._algorithm.bitrateInit())||0)},s._generateAbrList=function(){var t=this,e=this._availableList;this._abrList=[],this._orignList.forEach((function(i,r){i.enableAdaptive&&(!e||e&&-1!==e.indexOf(r))&&t._abrList.push(i)})),this._abrList.sort((function(t,e){return t.bitrate-e.bitrate}))},s._abrIndexToOrign=function(t){var e=this._abrList[t];return e?e.index:0},s._orignIndexToAbr=function(t){var e=0;return this._abrList.forEach((function(i,r){i.index!==t||(e=r)})),e},n=r,(o=[{key:"autoLevelEnabled",get:function(){return!!this._activity}},{key:"abrInitLevel",get:function(){return this._abrInitLevel}}])&&ht(n.prototype,o),a&&ht(n,a),r}(n.EventEmitter),vt="LevelHelper";function mt(t,e,i){var r=t[e],n=t[i],o=n.startPTS;M(o)?i>e?(r.duration=o-r.start,r.duration<0&&c.Log.w(vt,"negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(n.duration=r.start-o,n.duration<0&&c.Log.w(vt,"negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):n.start=i>e?r.start+r.duration:Math.max(r.start-n.duration,0)}function gt(t,e,i,r,n,o){var a=i;if(M(e.startPTS)){var s=Math.abs(e.startPTS-i);M(e.deltaPTS)?e.deltaPTS=Math.max(s,e.deltaPTS):e.deltaPTS=s,a=Math.max(i,e.startPTS),i=Math.min(i,e.startPTS),r=Math.max(r,e.endPTS),n=Math.min(n,e.startDTS),o=Math.max(o,e.endDTS)}var u=i-e.start;e.start=e.startPTS=i,e.maxStartPTS=a,e.endPTS=r,e.startDTS=n,e.endDTS=o,e.duration=r-i;var c,l=e.sn;if(!t||l<t.startSN||l>t.endSN||"number"!=typeof l)return 0;var f=l-t.startSN,d=t.fragments;for(d[f]=e,c=f;c>0;c--)mt(d,c,c-1);for(c=f;c<d.length-1;c++)mt(d,c,c+1);return t.PTSKnown=!0,u}function yt(t,e){e.initSegment&&t.initSegment&&(e.initSegment=t.initSegment);var i,r=0;if(Et(t,e,(function(t,n){r=t.cc-n.cc,M(t.startPTS)&&(n.start=n.startPTS=t.startPTS,n.endPTS=t.endPTS,n.duration=t.duration,n.backtracked=t.backtracked,n.dropped=t.dropped,i=n),e.PTSKnown=!0})),e.PTSKnown){if(r){c.Log.v(vt,"discontinuity sliding from playlist, take drift into account");for(var n=e.fragments,o=0;o<n.length;o++)n[o].cc+=r}i?gt(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):function(t,e){var i=e.startSN-t.startSN,r=t.fragments,n=e.fragments;if(!(i<0||i>r.length))for(var o=0;o<n.length;o++)n[o].start+=r[i].start}(t,e),e.PTSKnown=t.PTSKnown}}function Et(t,e,i){if(t&&e)for(var r=Math.max(t.startSN,e.startSN)-e.startSN,n=Math.min(t.endSN,e.endSN)-e.startSN,o=e.startSN-t.startSN,a=r;a<=n;a++){var s=t.fragments[o+a],u=e.fragments[a];if(!s||!u)break;i(s,u,a)}}function wt(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var At=function(t){var e,i;function r(e){var i;return(i=t.call(this)||this)._protocol=s.Protocol.UNKNOWN,i._config=void 0,i._onManifestLoaded=function(t){i.emit(L.default.MANIFEST_PARSED,t)},i._config=e,i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n,o,a,u=r.prototype;return u.loadManifest=function(t){var e=z.parse(this._config.src,this._config.baseURL);this._onManifestLoaded({levels:e.levels,hasVideo:e.hasVideo,hasAudio:e.hasAudio})},u.loadLevel=function(t,e){void 0===e&&(e=s.LevelType.MAIN)},u.destroy=function(){},n=r,(o=[{key:"protocol",get:function(){return this._protocol}}])&&wt(n.prototype,o),a&&wt(n,a),r}(n.EventEmitter),bt=/^(\d+)x(\d+)$/,St=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,Tt=function(){function t(e){for(var i in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(i)&&(this[i]=e[i])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var i=new Uint8Array(e.length/2),r=0;r<e.length/2;r++)i[r]=parseInt(e.slice(2*r,2*r+2),16);return i}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.optionalFloat=function(t,e){var i=this[t];return i?parseFloat(i):e},e.enumeratedString=function(t){return this[t]},e.bool=function(t){return"YES"===this[t]},e.decimalResolution=function(t){var e=bt.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,i={};for(St.lastIndex=0;null!==(e=St.exec(t));){var r=e[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),i[e[1]]=r}return i},t}();function xt(){return window.MediaSource||window.WebKitMediaSource}var Lt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function Ct(t,e){return void 0===e&&(e=""),xt().isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var It=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,Dt=/#EXT-X-MEDIA:(.*)/g,Ot=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),Rt=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,kt=/\.(mp4|m4s|m4v|m4a)$/i;function Nt(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),"number"==typeof t.programDateTime&&M(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}var Mt,Pt,Ut=function(){function t(){}return t.findGroup=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];if(r.id===e)return r}},t.convertAVC1ToAVCOTI=function(t){var e,i=t.split(".");return i.length>2?(e=i.shift()+".",e+=parseInt(i.shift(),10).toString(16),e+=("000"+parseInt(i.shift(),10).toString(16)).substr(-4)):e=t,e},t.resolve=function(t,e){return Object(P.buildAbsoluteURL)(e,t,{alwaysNormalize:!0})},t.setCodecs=function(t,e){["video","audio"].forEach((function(i){var r=t.filter((function(t){return function(t,e){var i=Lt[e];return!!i&&!0===i[t.slice(0,4)]}(t,i)}));if(r.length){var n=r.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[i+"Codec"]=n.length>0?n[0]:r[0],t=t.filter((function(t){return-1===r.indexOf(t)}))}})),e.codec=t.join(",")},t.parseMasterPlaylist=function(e,i){var r,n=[];for(It.lastIndex=0;null!==(r=It.exec(e));){var o=new G(t.resolve(r[2],i)),a=o.attrs=new Tt(r[1]),s=a.decimalResolution("RESOLUTION");s&&(o.width=s.width,o.height=s.height),o.maxBitrate=a.decimalInteger("BANDWIDTH"),o.avgBitrate=a.decimalInteger("AVERAGE-BANDWIDTH"),o.bitrate=o.avgBitrate||o.maxBitrate,o.name=a.NAME,t.setCodecs([].concat((a.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=t.convertAVC1ToAVCOTI(o.videoCodec)),n.push(o)}return n},t.parseMasterPlaylistMedia=function(e,i,r,n){var o;void 0===n&&(n=[]);var a=[],s=0;for(Dt.lastIndex=0;null!==(o=Dt.exec(e));){var u=new Tt(o[1]);if(u.TYPE===r){var c=new G(u.URI?t.resolve(u.URI,i):"");if(c.attrs=u,c.index=c.id=s++,c.groupId=u["GROUP-ID"]||"",c.instreamId=u["INSTREAM-ID"]||"",c.name=u.NAME||u.LANGUAGE,c.type=r,c.default="YES"===u.DEFAULT,c.autoselect="YES"===u.AUTOSELECT,c.forced="YES"===u.FORCED,c.lang=u.LANGUAGE||"",n.length){var l=t.findGroup(n,c.groupId);c.audioCodec=l?l.codec:n[0].codec}a.push(c)}}return a},t.parseLevelPlaylist=function(t,e,i,r,n){var o,a,s,u=0,l=0,f=0,d=null,h=new j,p=null,_=new G(e);for(Ot.lastIndex=0;null!==(a=Ot.exec(t));){var v=a[1];if(v){h.duration=parseFloat(v);var m=(" "+a[2]).slice(1);h.title=m||null,h.tagList.push(m?["INF",v,m]:["INF",v])}else if(a[3]){if(M(h.duration)){var g=u++;h.type=r,h.start=l,h.levelkey=o,h.sn=g,h.level=i,h.cc=f,h.urlId=n,h.baseurl=e,h.relurl=(" "+a[3]).slice(1),Nt(h,d),_.fragments.push(h),d=h,l+=h.duration,h=new j}}else if(a[4]){var y=(" "+a[4]).slice(1);d?h.setByteRange(y,d):h.setByteRange(y)}else if(a[5])h.rawProgramDateTime=(" "+a[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]),null===p&&(p=_.fragments.length);else{if(!(a=a[0].match(Rt))||a.length<=0)break;for(s=1;s<a.length&&void 0===a[s];s++);var E=(" "+a[s+1]).slice(1),w=(" "+a[s+2]).slice(1);switch(a[s]){case"#":h.tagList.push(w?[E,w]:[E]);break;case"PLAYLIST-TYPE":_.type=E.toUpperCase();break;case"MEDIA-SEQUENCE":u=_.startSN=parseInt(E,10);break;case"TARGETDURATION":_.targetduration=parseFloat(E);break;case"VERSION":_.version=parseInt(E,10);break;case"EXTM3U":break;case"ENDLIST":_.live=!1;break;case"DIS":f++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(E,10);break;case"KEY":var A=new Tt(E),b=A.enumeratedString("METHOD"),S=A.URI,T=A.hexadecimalInteger("IV");b&&(o=new F(e,S),S&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(b)>=0&&(o.method=b,o.key=null,T&&(o.iv=T)));break;case"START":var x=new Tt(E).decimalFloatingPoint("TIME-OFFSET");M(x)&&(_.startTimeOffset=x);break;case"MAP":var L=new Tt(E);h.relurl=L.URI,L.BYTERANGE&&h.setByteRange(L.BYTERANGE),h.baseurl=e,h.level=i,h.type=r,h.sn="initSegment",_.initSegment=h,(h=new j).rawProgramDateTime=_.initSegment.rawProgramDateTime;break;default:c.Log.w("line parsed but not handled: "+a)}}}return(h=d)&&!h.relurl&&(_.fragments.pop(),l-=h.duration),_.totalduration=l,_.averagetargetduration=l/_.fragments.length,_.endSN=u-1,!_.initSegment&&_.fragments.length&&_.fragments.every((function(t){return kt.test(t.relurl)}))&&(c.Log.w("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(h=new j).relurl=_.fragments[0].relurl,h.baseurl=e,h.level=i,h.type=r,h.sn="initSegment",_.initSegment=h,_.needSidxRanges=!0),p&&function(t,e){for(var i=t[e],r=e-1;r>=0;r--){var n=t[r];i.programDateTime&&(n.programDateTime=i.programDateTime-1e3*n.duration),i=n}}(_.fragments,p),_},t}(),Bt=function(){function t(){}return t.verify=function(t){return!!(t&&t.adaptationSet&&t.adaptationSet.representation&&t.adaptationSet.representation.length)},t.parse=function(e){var i=[];return t.verify(e)&&e.adaptationSet.representation.forEach((function(t){if(t&&(t.url||t.m3u8)){var e=new G(t.baseUrl?Ut.resolve(t.url,t.baseUrl):t.url);e.bitrate=t.bandwidth,e.maxBitrate=t.bandwidth,e.bitrate=e.avgBitrate||e.maxBitrate,e.qualityType=t.qualityType||"",e.qualityLabel=t.qualityLabel||"",t.width&&t.height&&(e.width=t.width,e.height=t.height),Ut.setCodecs([].concat((t.codecs||"").split(/[ ,]+/)),e),e.audioCodec="",e.m3u8Slice=t.m3u8||t.m3u8Slice,e.totalduration=t.duration,t.backupUrl&&t.backupUrl.length&&(e.url=e.url.concat(t.backupUrl)),e.urlId=0,i.push(e)}})),{levels:i,def:0}},t}();function Ft(t){var e={};return(t||"").split(/[ ,]+/).forEach((function(t){0!==t.indexOf("avc1")&&0!==t.indexOf("hev1")||(e.video=t),0===t.indexOf("mp4a")&&(e.audio=t)})),e}!function(t){t[t.HLSTS=1]="HLSTS",t[t.MP4=2]="MP4",t[t.FLV=3]="FLV"}(Mt||(Mt={})),function(t){t[t.LongVideo=1]="LongVideo",t[t.ShortVideo=2]="ShortVideo",t[t.LiveGame=3]="LiveGame",t[t.LiveShow=4]="LiveShow",t[t.LivePlayBack=5]="LivePlayBack"}(Pt||(Pt={}));var Kt,jt,Vt=function(){function t(){}return t.verify=function(t){return!!(t&&t.adaptationSet&&t.adaptationSet.length)&&t.adaptationSet.reduce((function(t,e){return!!(t&&e.representation&&e.representation.length)}),!0)},t.parse=function(e,i){var r,n=[],o=[],a=[],u=!1,c=0;if(t.verify(e)){var l=e;l.adaptationSet.forEach((function(t){var e=t.duration/1e3;!c&&e&&(c=e);var f=t.drmSchemaId,d=t.drmToken;t.drmSchemaId&&(u=!0);var h=s.LevelType.MAIN;if(t.mimeType&&(-1!==t.mimeType.indexOf("video")||(h=-1!==t.mimeType.indexOf("audio")?s.LevelType.AUDIO:"text/vtt"===t.mimeType?s.LevelType.SUBTITLE:void 0)),h){var p=t.representation.map((function(n,p){var _;if(i===s.Protocol.HLS?((_=new G(n.url)).lang=t.language||"",_.default=n.defaultSelect,h===s.LevelType.MAIN?_.id=n.id||p:h===s.LevelType.AUDIO?_.id=n.id||o.length+p:h===s.LevelType.SUBTITLE&&(_.id=n.id||a.length+p),_.m3u8Slice=n.m3u8Slice,_.totalduration=e||c,_.maxBitrate=1024*(n.maxBitrate||0)):(_=new H(n.url)).maxBitrate=n.maxBitrate||0,_.bitrate=_.avgBitrate||_.maxBitrate,_.qualityType=n.qualityType||"",_.qualityLabel=n.qualityLabel||"",_.codec=n.codecs||"",_.codec){var v=Ft(_.codec);_.audioCodec=v.audio||"",_.videoCodec=v.video||""}return 1===l.adaptationSet.length&&(_.audioCodec=""),n.width&&n.height&&(_.width=n.width,_.height=n.height),_.hidden=n.hidden||!1,_.enableAdaptive=void 0===n.disableAdaptive||!n.disableAdaptive,_.default=n.defaultSelect||!1,_.index=p,_.drmSchemaId=n.drmSchemaId||f,_.drmToken=n.drmToken||d,_.drmSchemaId&&(u=!0),n.backupUrl&&n.backupUrl.length&&(_.url=_.url.concat(n.backupUrl)),_.urlId=0,h===s.LevelType.MAIN&&_.default&&void 0===r&&(r=p),_}));h===s.LevelType.MAIN?n=n.concat(p):h===s.LevelType.AUDIO?o=o.concat(p):h===s.LevelType.SUBTITLE&&(a=a.concat(p))}}))}return t.processingSubtitleType(a,c),{levels:n,def:r||0,audioTracks:o,subtitleTracks:a,drm:u}},t.processingSubtitleType=function(t,e){t.forEach((function(t,i){if(-1===t.currentUrl.indexOf(".m3u8")){t.live=!1,t.index=i,t.details=new G(""),t.totalduration=e;var r=new j;r.type=s.LevelType.SUBTITLE,r.start=0,r.sn=1,r.level=i,r.cc=0,r.url=t.currentUrl,r.duration=e,t.details.live=!1,t.details.targetduration=e,t.details.totalduration=e,t.details.endSN=1,t.details.fragments=[r]}}))},t}(),Ht=function(){function t(){}return t.parse=function(t){if(Bt.verify(t))return{levels:Bt.parse(t).levels,audioTracks:[],subtitleTracks:[]};if(Vt.verify(t)){var e=Vt.parse(t,s.Protocol.HLS);return{levels:e.levels,audioTracks:e.audioTracks,subtitleTracks:e.subtitleTracks,drm:e.drm}}return{levels:[],audioTracks:[],subtitleTracks:[]}},t.parseLevelSlice=function(t){if(t.m3u8Slice){var e=Ut.parseLevelPlaylist(t.m3u8Slice,t.url[0],t.index,s.LevelType.MAIN,0);return delete t.m3u8Slice,e}},t}(),qt=0,Gt="loader",zt=function(){var t=e.prototype;function e(){var t=this;this.context=void 0,this._loader=void 0,this._callbacks=null,this._config=void 0,this._loaderCallback=void 0,this._stats=void 0,this._retryDelay=0,this._loading=!1,this._aborted=!1,this._requestTimeout=void 0,this._transTimer=void 0,this._retryTimeout=void 0,this._rangeStart=void 0,this._continuedTransmissionRetry=!1,this._progressTime=0,this._loadInternal=function(){t._loading=!0,t._aborted=!1;var e=t._stats;e.code=0,e.tfirst=0,e.loaded=0,t._retryTimeout&&(clearTimeout(t._retryTimeout),t._retryTimeout=null),t.context.progress?t._loader=new(t._getInternalLoader(!!t._config.useFetch)):t._loader=new a,t._loader&&(e.id=t._loader.tag+"-"+qt,t._config.connectionTimeout&&(t._requestTimeout=setTimeout(t._onTimeout,t._config.connectionTimeout)),t.context.rangeEnd?t.context.range="bytes="+t.context.rangeStart+"-"+(t.context.rangeEnd-1):t.context.rangeStart&&(t.context.range="bytes="+t.context.rangeStart+"-"),e.tsload=Date.now(),e.tstart=performance.now(),t._loader.load(t.context,t._loaderCallback))},this._onConnect=function(e){t._requestTimeout&&(clearTimeout(t._requestTimeout),t._requestTimeout=null),t._startTransmissionTimer(),t._stats.code=e,t._stats.tfirst=Math.max(t._stats.trequest,performance.now()),t._callbacks&&t._callbacks.onConnect&&t._callbacks.onConnect(t.context,t._stats)},this._onProgress=function(e,i){var r=t._stats;if(t._progressTime=performance.now(),!t._continuedTransmissionRetry&&r.output>r.loaded){if(r.loaded+i.byteLength-r.output>0){var n=i.slice(r.output-r.loaded);r.loaded+=i.byteLength,t._callProgress(t.context,n,r)}}else r.loaded+=i.byteLength,t._callProgress(t.context,i,r)},this._onError=function(e){c.Log.i(Gt,e),t._stopTimer(),t._destroyLoader();var i=t._stats,r=t._config;t._loading=!1,i.fatal=!r.maxRetry||i.retry>=r.maxRetry||!r.maxRetry,i.text=e.message||"load error",t._callbacks&&t._callbacks.onError&&t._callbacks.onError(t.context,i),i.fatal||(t._stats.output&&t._stats.loaded>0?(t._rangeStart?t.context.rangeStart=t._rangeStart+t._stats.output:t.context.rangeStart=t._stats.output,t._continuedTransmissionRetry=!0):(t.context.rangeStart=t._rangeStart,t._continuedTransmissionRetry=!1),i.retry++,t._callbacks&&(t._retryDelay?(t._retryTimeout=setTimeout(t._loadInternal,t._retryDelay),t._retryDelay=2*t._retryDelay):t._loadInternal()))},this._onTimeout=function(){t._loading=!1,t._abortInternal();var e=new Error("timeout");t._onError(e)},qt++,this._loader=null,this._config={useFetch:!1,connectionTimeout:0,transmissionTimeout:0,maxRetry:0,retryDelay:0},this._loaderCallback={onConnect:this._onConnect,onProgress:this._onProgress,onEnd:this._onEnd.bind(this),onError:this._onError}}return t._getInternalLoader=function(t){if(void 0!==Kt)return Kt;if(Kt=null,u.default.msie||u.default.msedge){if(t)return o.isSupport()&&(Kt=o),Kt;a.isSupportChunk()?Kt=a:o.isSupport()&&(Kt=o)}else o.isSupport()?Kt=o:a.isSupportChunk()&&(Kt=a);return Kt},t.load=function(t,e,i){this._init(t,e,i),this._loadInternal()},t.destroy=function(){this._stopTimer(),this._abortInternal(),this._destroyLoader(),this._callbacks=null},t._init=function(t,e,i){this.context=t,this._rangeStart=t.rangeStart,this._callbacks=e,this._config=i||this._config,this._stats={id:"",trequest:performance.now(),retry:0,loaded:0,code:0,output:0,tfirst:0,tload:0,total:0,tsload:0,tstart:0,fatal:!1,text:""},this._config.retryDelay&&(this._retryDelay=this._config.retryDelay)},t._destroyLoader=function(){this._loader&&(this._loader.destroy(),this._loader=null)},t._abortInternal=function(){this._callbacks&&this._callbacks.onAbort&&!this._aborted&&this._loading&&this._callbacks.onAbort(this.context,this._stats),this._aborted=!0,this._loader&&this._loader.abort()},t.abort=function(){this._stopTimer(),this._abortInternal()},t._stopTimer=function(){this._requestTimeout&&(clearTimeout(this._requestTimeout),this._requestTimeout=null),this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),this._stopTransmissionTimer()},t._callProgress=function(t,e,i){this._stats.output+=e.byteLength,this._callbacks&&this._callbacks.onProgress&&this._callbacks.onProgress(t,e,i)},t._onEnd=function(t,e){this._stopTimer();var i=this._stats;i.total=e?i.loaded="string"==typeof e?e.length||0:e.byteLength||0:i.loaded,i.tload=Math.max(i.tfirst,performance.now()),this._loading=!1,i.output=0,this._callbacks&&this._callbacks.onEnd(t,e,i)},t._startTransmissionTimer=function(){var t=this;this._stopTransmissionTimer(),this._progressTime=performance.now();var e=this._config.transmissionTimeout||0;e&&(this._transTimer=setInterval((function(){performance.now()-t._progressTime>e&&t._onTimeout()}),1e3))},t._stopTransmissionTimer=function(){this._transTimer&&(clearInterval(this._transTimer),this._transTimer=null)},e}();function Wt(t){switch(t){case s.LevelType.MAIN:return jt.LEVEL;case s.LevelType.SUBTITLE:return jt.SUBTITLE_TRACK;case s.LevelType.AUDIO:return jt.AUDIO_TRACK;default:return jt.LEVEL}}!function(t){t.MANIFEST="manifest",t.LEVEL="level",t.AUDIO_TRACK="audioTrack",t.SUBTITLE_TRACK="subtitleTrack"}(jt||(jt={}));var Xt=function(t){var e,i;function r(e){var i;return(i=t.call(this)||this).loaders={},i.tag="PlaylistLoader",i._config=void 0,i._loadsuccess=function(t,e,r){if(i.emit(L.default.DOWNLOAD,rt(Y.SUCCESS,t,r)),t.isSidxRequest)i.emit(L.default.ERROR,{type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.UNSUPPORTED,fatal:!0,url:t.url,reason:"unsupport sidx",statusCode:r.code});else if(i._resetInternalLoader(t.type),"string"==typeof e){var n=e;if(0!==n.indexOf("#EXTM3U")){var o=n;return o.length>4096&&(o=o.slice(0,4096)),void i._handleManifestParsingError(t,o,r)}n.indexOf("#EXTINF:")>0||n.indexOf("#EXT-X-TARGETDURATION:")>0?i._handleTrackOrLevelPlaylist(t,e,r):i._handleMasterPlaylist(t,e,r)}else i.emit(L.default.ERROR,{type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:'expected responseType of "text" for PlaylistLoader',statusCode:r.code})},i._loaderror=function(t,e){i._handleNetworkError(t,e)},i._loadAbort=function(t,e){i.emit(L.default.DOWNLOAD,rt(Y.ABORT,t,e))},i._config=e,i.loaders={},i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,r.canHaveQualityLevels=function(t){return t===jt.LEVEL},r.mapContextToLevelType=function(t){switch(t.type){case jt.AUDIO_TRACK:return s.LevelType.AUDIO;case jt.SUBTITLE_TRACK:return s.LevelType.SUBTITLE;default:return s.LevelType.MAIN}},r.getResponseUrl=function(t){var e=t.responseUrl;return e&&0!==e.indexOf("data:")||(e=t.url),e};var n=r.prototype;return n._createInternalLoader=function(t){var e=new zt;return t.loader=e,this.loaders[t.type]=e,e},n._getInternalLoader=function(t){return this.loaders[t.type]},n._resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},n._destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this._resetInternalLoader(t)}},n.destroy=function(){this.removeAllListeners(),this._destroyInternalLoaders()},n.load=function(t){c.Log.d(this.tag,"Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var e,i,r,n,o=this._getInternalLoader(t);if(o){var a=o.context;if(a&&a.url===t.url)return c.Log.i(this.tag,"playlist request ongoing"),!1;c.Log.w(this.tag,"aborting previous loader for type: "+t.type),o.abort()}switch(t.type){case jt.MANIFEST:e=this._config.manifestLoadingMaxRetry,i=this._config.manifestConnectionTimeout,r=this._config.manifestTransmissionTimeout,n=this._config.manifestLoadingRetryDelay;break;default:e=this._config.levelLoadingMaxRetry,i=this._config.levelConnectionTimeout,r=this._config.levelTransmissionTimeout,n=this._config.levelLoadingRetryDelay}o=this._createInternalLoader(t),t.responseType=t.responseType||"text";var s={connectionTimeout:i,transmissionTimeout:r,maxRetry:e,retryDelay:n},u={onEnd:this._loadsuccess,onError:this._loaderror,onAbort:this._loadAbort};return c.Log.d(this.tag,"Calling internal loader delegate for URL: "+t.url),o.load(t,u,s),!0},n._handleMasterPlaylist=function(t,e,i){var n=e,o=r.getResponseUrl(t),a=Ut.parseMasterPlaylist(n,o);if(a.length){var u=a.map((function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}})),l=Ut.parseMasterPlaylistMedia(n,o,"AUDIO",u),f=Ut.parseMasterPlaylistMedia(n,o,"SUBTITLES",u);if(l.length){var d=!1;if(l.forEach((function(t){t.url||(d=!0)})),!1===d&&a[0].audioCodec&&!a[0].attrs.AUDIO){c.Log.v(this.tag,"audio codec signaled in quality level, but no embedded audio track signaled, create one");var h=new G("");h.type=s.LevelType.MAIN,h.name="main",h.id=-1,l.unshift(h)}}this.emit(L.default.MANIFEST_PARSED,{levels:a,audioTracks:l,subtitleTracks:f,url:o,stats:i})}else this._handleManifestParsingError(t,"no level found in manifest",i)},n._handleTrackOrLevelPlaylist=function(t,e,i){var n=t.id,o=t.level,a=t.type,s=r.getResponseUrl(t),u=M(n)?n:0,c=M(o)?o:u,l=r.mapContextToLevelType(t),f=Ut.parseLevelPlaylist(e,s,c,l,u);if(a===jt.MANIFEST){var d=new G(s);d.details=f,this.emit(L.default.MANIFEST_PARSED,{levels:[d],singleLevel:!0,url:s,stats:i})}if(f.needSidxRanges&&f.initSegment){var h=f.initSegment.url;this.load({url:h,isSidxRequest:!0,type:a,level:o,levelDetails:f,id:n,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",headers:this._config.headers})}else t.levelDetails=f,this._handlePlaylistLoaded(t,i)},n._handleManifestParsingError=function(t,e,i){this.emit(L.default.ERROR,{type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:e,statusCode:i.code})},n._handleNetworkError=function(t,e){var i,r;c.Log.i(this.tag,"A network error occured while loading a "+t.type+"-type playlist");var n=this._getInternalLoader(t);switch(t.type){case jt.MANIFEST:i=x.ErrorDetails.HLS_MANIFEST_LOAD_ERROR,r=!0;break;case jt.LEVEL:i=x.ErrorDetails.HLS_LEVEL_LOAD_ERROR,r=!1;break;case jt.AUDIO_TRACK:i=x.ErrorDetails.HLS_AUDIO_TRACK_LOAD_ERROR,r=!1;break;default:r=!1}this.emit(L.default.DOWNLOAD,rt(Y.FAIL,t,e)),e.fatal&&(n&&(n.abort(),this._resetInternalLoader(t.type)),this.emit(L.default.ERROR,{type:x.ErrorTypes.NETWORK_ERROR,details:i,fatal:r,url:t.url,reason:e.text,statusCode:e.code}))},n._handlePlaylistLoaded=function(t,e){var i=t.type,n=t.level,o=t.id,a=t.levelDetails;if(a&&a.targetduration)if(r.canHaveQualityLevels(t.type))this.emit(L.default.LEVEL_LOADED,{details:a,level:n||0,id:o||0,stats:e});else switch(i){case jt.AUDIO_TRACK:this.emit(L.default.AUDIO_TRACK_LOADED,{details:a,level:n||0,id:o,stats:e});break;case jt.SUBTITLE_TRACK:this.emit(L.default.SUBTITLE_TRACK_LOADED,{details:a,level:n||0,id:o,stats:e})}else this._handleManifestParsingError(t,"invalid target duration",e)},r}(n.EventEmitter);function Yt(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qt={hls:function(t){var e,i;function r(e){var i;return(i=t.call(this)||this)._protocol=s.Protocol.UNKNOWN,i._playlistLoader=void 0,i._config=void 0,i._onManifestLoaded=function(t){i.emit(L.default.MANIFEST_PARSED,t)},i._onLevelLoaded=function(t){i.emit(L.default.LEVEL_LOADED,t,s.LevelType.MAIN)},i._onAudioLevelLoaded=function(t){i.emit(L.default.AUDIO_TRACK_LOADED,t)},i._onSubtitleLevelLoaded=function(t){i.emit(L.default.SUBTITLE_TRACK_LOADED,t)},i._config=e,i._playlistLoader=new Xt(i._config),i._playlistLoader.on(L.default.MANIFEST_PARSED,i._onManifestLoaded),i._playlistLoader.on(L.default.LEVEL_LOADED,i._onLevelLoaded),i._playlistLoader.on(L.default.AUDIO_TRACK_LOADED,i._onAudioLevelLoaded),i._playlistLoader.on(L.default.SUBTITLE_TRACK_LOADED,i._onSubtitleLevelLoaded),i._playlistLoader.on(L.default.DOWNLOAD,(function(t){i.emit(L.default.DOWNLOAD,t)})),i._playlistLoader.on(L.default.ERROR,(function(t){i.emit(L.default.ERROR,t)})),"object"==typeof e.src&&(i._protocol=s.Protocol.KWAI_HLS),i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n,o,a,u=r.prototype;return u.loadManifest=function(t){this._protocol!==s.Protocol.KWAI_HLS?this._playlistLoader&&this._playlistLoader.load({url:this._config.src,type:jt.MANIFEST,level:0,id:null,credentials:this._config.credentials,headers:this._config.headers}):this._onManifestLoaded(Ht.parse(this._config.src))},u.loadLevel=function(t,e){if(void 0===e&&(e=s.LevelType.MAIN),t.m3u8Slice){var i=Ht.parseLevelSlice(t);if(i&&(t.totalduration&&(i.totalduration=t.totalduration),t.details=i,this.emit(L.default.LEVEL_UPDATED,e),!i.live))return}if(this._playlistLoader){var r=t.urlId,n=t.url[r];this._playlistLoader.load({url:n,type:Wt(e),level:t.index,id:r,credentials:this._config.credentials,headers:this._config.headers})}},u.destroy=function(){this._playlistLoader&&(this._playlistLoader.destroy(),this._playlistLoader=void 0)},n=r,(o=[{key:"protocol",get:function(){return this._protocol}}])&&Yt(n.prototype,o),a&&Yt(n,a),r}(n.EventEmitter),flv:At},Jt=i("./src/io/data-cache.ts"),Zt=i("./src/core/worker-cmd.ts");function $t(t){void 0===t&&(t=s.CodecType.h264);var e=xt(),i='video/mp4; codecs="avc1.42E01E,mp4a.40.2"';return t===s.CodecType.av1?i='video/mp4; codecs="av01.0.15M.10,mp4a.40.2"':t===s.CodecType.h265&&(i='video/mp4; codecs="hev1.1.6.L150.90,mp4a.40.2"'),e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported(i)}var te=i("./src/demux/demuxer-inline.ts");function ee(){return(ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ie(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var re=function(){function t(t,e,i,r){var n=this;this._id=void 0,this._eventEmitter=void 0,this._config=void 0,this._w=void 0,this._typeSupported=void 0,this._inlineEventEmitter=void 0,this._chunkIndex=void 0,this._seek=!1,this._demuxer=void 0,this._progressTime=0,this._transmuxData=void 0,this._ended=!1,this._onWorkMessage=function(t){var e=t.data;n._onMessage(t.data.event,e.data)},this._id=i,this._eventEmitter=t,this._config=e,this._w=r,this._typeSupported={mp4:!0,mpeg:!1,mp3:!1,h265:$t(s.CodecType.h265)},this._chunkIndex=0,this._transmuxData={audioCodec:"",videoCodec:"",duration:0,remuxId:1}}var e,i,r,o=t.prototype;return o.init=function(){var t=this._inlineEventEmitter=new n.EventEmitter,e=this._onMessage.bind(this);t.on(L.default.INIT_PTS_FOUND,(function(t){return e(L.default.INIT_PTS_FOUND,t)})),t.on(L.default.PARSING_INIT_SEGMENT,(function(t){return e(L.default.PARSING_INIT_SEGMENT,t)})),t.on(L.default.PARSED_DATA,(function(t){return e(L.default.PARSED_DATA,t)})),t.on(L.default.LOAD_END,(function(t){return e(L.default.LOAD_END,t)})),t.on(L.default.ERROR,(function(t){return e(L.default.ERROR,t)})),t.on(L.default.PARSING_DATA,(function(t){return e(L.default.PARSING_DATA,t)})),t.on(L.default.MEDIA_DEMUX,(function(t){return e(L.default.MEDIA_DEMUX,t)})),t.on(L.default.METADATA,(function(t){return e(L.default.METADATA,t)})),t.on(L.default.FLV_HEAD,(function(t){return e(L.default.FLV_HEAD,t)})),t.on(L.default.MP4_NOT_FASTSTART,(function(t){return e(L.default.MP4_NOT_FASTSTART,t)})),this._w?(this._w.addEventListener("message",this._onWorkMessage),this._w.postMessage({cmd:Zt.WorkerCmd.INIT,typeSupported:this._typeSupported,config:this._config,vendor:navigator.vendor})):this._demuxer=new te.default(t,this._typeSupported,this._config,navigator.vendor)},o.destroy=function(){this._w&&(this._w.postMessage({cmd:Zt.WorkerCmd.DESTROY}),this._w.removeEventListener("message",this._onWorkMessage),this._w.terminate()),this._inlineEventEmitter&&(this._inlineEventEmitter.removeAllListeners(),this._inlineEventEmitter=void 0)},o.trackInfo=function(t,e){this._transmuxData.hasVideo=t,this._transmuxData.hasAudio=e},o.reset=function(t){this._transmuxData.remuxId++,this._chunkIndex=0,this._seek=t,this._ended=!1},o.end=function(){this._ended||(this._ended=!0,this._w?this._w.postMessage({cmd:Zt.WorkerCmd.LOAD_END}):this._demuxer&&this._demuxer.end())},o.onFragProgress=function(t){this._demux(t,!1)},o.onFragLoaded=function(t){this._demux(t,!0)},o._demux=function(t,e){var i=t.context.frag,r=!1,n=i.start||0,o=!1,a=!0,s=null;if(this._transmuxData.progress=t.progress,t.data&&t.data.byteLength){var u=performance.now(),c={byteLength:t.data.byteLength,timeCost:performance.now()-(this._progressTime||t.stats.trequest)};this._progressTime=u,this._eventEmitter.emit(L.default.LOADER_CHUNK_ARRIVAL,c)}0===this._chunkIndex&&(r=!0,o=!1,a=!1),e?(this._progressTime=0,this._chunkIndex=0,s=t.data?new Uint8Array(t.data):new Uint8Array):(this._chunkIndex++,t.data&&(s=new Uint8Array(t.data))),s&&(this._push(s,i.decryptdata,t.initData,n,a,r,o,!this._seek||0===i.start,e),this._seek=!1)},o._onParsing=function(t){return!(t.extra&&t.extra.remuxId!==this._transmuxData.remuxId&&(c.Log.i("demuxer-base","parsing data expired"),1))},o._onParsed=function(t){return!(t.extra&&t.extra.remuxId!==this._transmuxData.remuxId&&(c.Log.i("demuxer-base","parsed expired"),1))},o._push=function(t,e,i,r,n,o,a,s,u){var c=this._transmuxData;this._w?this._w.postMessage({cmd:Zt.WorkerCmd.PUSH,data:t,decryptdata:e,initSegment:i,timeOffset:r||0,contiguous:n,trackSwitch:o,discontinuity:a,accurateTimeOffset:s,fragEnd:u,transmuxData:c},[t.buffer]):this._demuxer&&this._demuxer.push(t,e,i,r,n,o,a,s,u,ee({},c))},o._onMessage=function(t,e){switch(t){case L.default.PARSING_DATA:if(!this._onParsing(e))return;break;case L.default.PARSED_DATA:if(!this._onParsed(e))return;e&&(e.trackType=this._id)}this._eventEmitter.emit(t,e)},e=t,(i=[{key:"totalDuration",set:function(t){this._transmuxData.duration=t}},{key:"seek",set:function(t){this._seek=t}},{key:"id",get:function(){return this._id}}])&&ie(e.prototype,i),r&&ie(e,r),t}();function ne(){return(ne=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var oe=function(t){var e,i;function r(e,i,r,n){var o;return(o=t.call(this,e,i,r,n)||this)._frag=null,o._fragInfo=void 0,o._frag=null,o._fragInfo={},o}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n=r.prototype;return n.reset=function(e){t.prototype.reset.call(this,e),this._frag=null},n._demux=function(t,e){var i=t.context.frag,r=this._frag,n=!1,o=M(i.startDTS)?i.startDTS:i.start,a=!1,s=!0,u=null;if(this._transmuxData.progress=t.progress,t.data&&t.data.byteLength){var c=performance.now(),l={byteLength:t.data.byteLength,timeCost:performance.now()-(this._progressTime||t.stats.trequest)};this._progressTime=c,this._eventEmitter.emit(L.default.LOADER_CHUNK_ARRIVAL,l)}if(0===this._chunkIndex){this._fragInfo={},n=!(r&&i.level===r.level),a=!(r&&i.cc===r.cc);var f=r&&i.sn===r.sn+1;s=!(n||!f),this._config.isLive&&(a=a||!f),r&&t.remuxContiguous&&(s||(o=M(r.endDTS)?r.endDTS:r.start+r.duration),s=!0)}e?(this._progressTime=0,this._chunkIndex=0,this._frag=t.context.frag,u=t.data?new Uint8Array(t.data):new Uint8Array,this._frag=i):(this._chunkIndex++,t.data&&(u=new Uint8Array(t.data))),u&&(this._push(u,i.decryptdata,t.initData,o,s,n,a,!this._seek||0===t.context.frag.start,e),this._seek=!1)},n._onParsing=function(t){var e=this;if(t.extra&&t.extra.remuxId!==this._transmuxData.remuxId)return c.Log.i("demuxer-multipart","parsing data expired"),!1;var i=this._fragInfo;return t.segments.forEach((function(t){var r=t.type;i.hasOwnProperty(r)?(i[r].endPTS=t.endPTS,i[r].endDTS=t.endDTS):(t.endPTS||t.endDTS||!e._frag||(t.endPTS=t.startPTS+e._frag.duration,t.endDTS=t.startDTS+e._frag.duration),i[r]={startDTS:t.startDTS,startPTS:t.startPTS,endPTS:t.endPTS,endDTS:t.endDTS})})),!0},n._onParsed=function(t){return t.extra&&t.extra.remuxId!==this._transmuxData.remuxId?(c.Log.i("demuxer-multipart","parsed expired"),!1):(t.info=ne({},this._fragInfo),t.frag=this._frag,this._fragInfo={},!0)},r}(re),ae={search:function(t,e){for(var i=0,r=t.length-1,n=null,o=null;i<=r;){var a=e(o=t[n=(i+r)/2|0]);if(a>0)i=n+1;else{if(!(a<0))return o;r=n-1}}return null},searchIndex:function(t,e){for(var i=0,r=t.length-1,n=null;i<=r;){var o=e(t[n=(i+r)/2|0]);if(o>0)i=n+1;else{if(!(o<0))return n;r=n-1}}return-1}};function se(t,e){return e?ae.searchIndex(e,(function(e){return t<e.start?-1:t>e.start+e.duration?1:0})):-1}var ue=function(t){var e,i;function r(e,i){var r;return(r=t.call(this)||this)._loaders=void 0,r._config=void 0,r._loaderConfig=void 0,r._decryptkey=void 0,r._decrypturl=void 0,r._loadEnd=function(t,e,i){if(e&&e instanceof ArrayBuffer){var n=t.frag;r._decryptkey=n.decryptdata.key=new Uint8Array(e),r._loaders[n.type]=null,r.emit(L.default.HLS_KEY_LOADED,{frag:n})}else r.emit(L.default.ERROR,{type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.HLS_KEY_LOAD_ERROR,fatal:!0,reason:"key empty",statusCode:i.code})},r._loadError=function(t,e){var i=t.frag.loader;e.fatal&&(i&&i.abort(),r._loaders[t.frag.type]=null,r.emit(L.default.ERROR,{type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.HLS_KEY_LOAD_ERROR,fatal:!0,reason:e.text,statusCode:e.code}))},r._config=e,r._loaderConfig=i,r._loaders={},r._decryptkey=null,r._decrypturl=null,r}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n=r.prototype;return n.destroy=function(){for(var t in this._loaders){var e=this._loaders[t];e&&e.destroy()}this._loaders={}},n.load=function(t){var e=t.type,i=this._loaders[e],r=t.decryptdata,n=null;if(r&&(n=r.uri),!n||n===this._decrypturl&&null!==this._decryptkey)this._decryptkey&&(r&&(r.key=this._decryptkey),this.emit(L.default.HLS_KEY_LOADED,{frag:t}));else{var o=this._loaderConfig;i&&(c.Log.w("KeyLoader","abort previous key loader for type:"+e),i.abort()),t.loader=this._loaders[e]=new zt,this._decrypturl=n,this._decryptkey=null;var a={url:n,frag:t,responseType:"arraybuffer",credentials:this._config.credentials,headers:this._config.headers},s=o,u={onEnd:this._loadEnd,onError:this._loadError};t.loader.load(a,u,s)}},r}(n.EventEmitter);function ce(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var le="initSegment",fe=function(){function t(t,e,i,r,n,o,a,u){var c=this;void 0===u&&(u=!1),this._eventEmitter=void 0,this._type=void 0,this._config=void 0,this._levels=void 0,this._index=void 0,this._next=void 0,this._pos=0,this._failPos=-1,this._demuxer=void 0,this._loadEnabled=!0,this._newSource=!0,this._startSN=0,this._fragLoadFailSec=0,this._demuxing=!1,this._loader=void 0,this._initFragLoader=void 0,this._keyLoader=void 0,this._remuxContiguous=!1,this._media=void 0,this._fragAlign=void 0,this._callback=void 0,this._loadConfig=void 0,this._keyLoadConfig=void 0,this._streamingMux=!0,this._parallelStartCache=void 0,this._preload=!1,this._preloadData=void 0,this._tryLoadNext=function(){c._next!==c._index&&(c._index=c._next);var t=c.level;if(t){if(c._fragAlign&&t.details){var e=c._fragAlign.frag,i=t.details.fragments[c._pos];i&&c._pos===c._fragAlign.pos&&e&&M(e.startPTS)&&gt(t.details,i,e.startPTS,e.endPTS,e.startDTS,e.endDTS)}if(c._loadEnabled&&!c._loader&&!c._demuxing){if(c._isLevelEnd())return void c._demuxer.end();var r=c._nextFragment();r&&(t.details&&t.details.initSegment&&!t.details.initSegment.data&&c._loadFrag(t.details.initSegment),c._loadFrag(r))}}},this._fragParsed=function(t){if(t.trackType===c._type){for(var e in c._demuxing=!1,c._remuxContiguous=!1,c._eventEmitter.emit(L.default.MUX_INFO,t),t.info){var i=t.info[e];if(i&&i.endPTS&&i.endDTS){var r=t.frag,n=c._levels[r.level].details;n&&gt(n,r,i.startPTS,i.endPTS,i.startDTS,i.endDTS)}}c._fragAlign&&(c._fragAlign=void 0),c._isLevelEnd()?c._demuxer.end():c._type===s.LevelType.MAIN&&c._eventEmitter.emit(L.default.ABR_NEXT,{startSec:c._getFragStartByPos(c._pos)}),c._tryLoadNext()}},this._tryStartDemux=function(){if(c._parallelStartCache){var t=c._levels[c._parallelStartCache.context.frag.level]||{};if(c._isReady(c._parallelStartCache.context.frag,t)){var e=c._parallelStartCache.data.get(c._parallelStartCache.data.unreadLen);e&&c._startDemux(c._parallelStartCache.context,e.buffer,c._parallelStartCache.stats,c._parallelStartCache.progress),c._parallelStartCache=void 0}}},this._onProgress=function(t,e,i){c._levels[t.frag.level],t.frag&&t.frag.sn===le||e instanceof ArrayBuffer&&c._preprocessed(t,e,i,!0)},this._onEnd=function(t,e,i){c._failPos=-1,c._fragLoadFailSec=0,t.frag&&t.frag.sn===le?c._destroyInitLoader():c._destroyLoader();var r=c._levels[t.frag.level]||{},n=rt(Y.SUCCESS,t,i,r.qualityType,c._preload);c._eventEmitter.emit(L.default.DOWNLOAD,n),"string"!=typeof e&&(t.frag&&t.frag.sn===le&&e?(t.frag.data=new Uint8Array(e),c._demuxing=!1,c._tryStartDemux()):c._preprocessed(t,e,i,!1))},this._onError=function(t,e){c._demuxing=!1;var i=c._levels[t.frag.level]||{};c._eventEmitter.emit(L.default.DOWNLOAD,rt(Y.FAIL,t,e,i.qualityType,c._preload)),e.fatal&&(c._remuxContiguous=!1,c._failPos<0&&(c._failPos=Math.max(0,c._pos-1)),c._resetIO(),c._fragLoadFailSec+=t.frag.duration||0,t.frag.sn===le||404!==e.code||c._config.maxFragFailSec&&c._fragLoadFailSec>=c._config.maxFragFailSec||c._isLevelEnd()?c._eventEmitter.emit(L.default.ERROR,{type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.LOAD_ERROR,fatal:!0,reason:e.text,statusCode:e.code,url:t.url}):c._tryLoadNext())},this._onAbort=function(t,e){var i=c._levels[t.frag.level]||{};c._eventEmitter.emit(L.default.DOWNLOAD,rt(Y.ABORT,t,e,i.qualityType,c._preload))},this._type=t,this._eventEmitter=e,this._media=i,this._config=r,this._levels=n,this._next=this._index=o,this._callback={onProgress:this._onProgress,onEnd:this._onEnd,onError:this._onError,onAbort:this._onAbort},this._loadConfig={connectionTimeout:r.connectionTimeout,transmissionTimeout:r.transmissionTimeout,maxRetry:r.maxRetry,retryDelay:r.retryDelay},this._keyLoadConfig={connectionTimeout:r.keyConnectionTimeout,transmissionTimeout:r.keyTransmissionTimeout,maxRetry:r.keyLoadingMaxRetry,retryDelay:r.keyLoadingRetryDelay},this._eventEmitter.on(L.default.PARSED_DATA,this._fragParsed),this._demuxer=new oe(e,r,t,a),this._preload=u,this._preload?this.streamingMux(!1):this._demuxer.init()}var e,i,r,n=t.prototype;return n.levelUpdated=function(){if(this.level&&this.level.details){var t=this.level.details.startSN;M(this._startSN)&&this._startSN!==t&&(this._pos=Math.max(0,this._pos-(t-this._startSN))),this._startSN=t,this._demuxer.totalDuration=this.level.details.totalduration,this.level.details.initSegment&&(this._config.streamingMux=!1),this._tryLoadNext()}},n.seek=function(t,e){void 0===e&&(e=!1),this._remuxContiguous=!1;var i=this.level;if(this._loadEnabled=!0,this._fragAlign=void 0,this._resetIO(),this._parallelStartCache=void 0,i&&i.details){var r=0===t?0:se(t,i.details.fragments);r>=0?this._pos=r:(this._pos=0,i.details.fragments.length&&t>=i.details.fragments[0].start&&(this._pos=i.details.fragments.length-1)),this._reset(!0),e&&(t=i.details.fragments[this._pos].start,this._eventEmitter.emit(L.default.SEEK_KEYFRAME,{keyFrameSec:t})),this._tryLoadNext()}return t},n.destroy=function(){this._resetIO(),this._demuxer&&this._demuxer.destroy(),this._keyLoader&&(this._keyLoader.destroy(),this._keyLoader=void 0),this._fragAlign=void 0},n.nextBackup=function(t){if(this._levels)for(var e=0;e<this._levels.length;e++){var i=this._levels[e];if(i.urlId>=i.url.length-1)return!1;i.urlId++,delete i.m3u8Slice,i.details=null}return this._resetIO(),this._newSource=!0,this._failPos>=0&&(this._pos=this._failPos),this._reset(!0),!0},n.streamingMux=function(t){this._streamingMux=t},n.usePreload=function(){this._preloadData&&(this._demuxer.init(),this._demuxer.onFragLoaded(this._preloadData),this._preloadData=void 0,this._preload=!1)},n.trackInfo=function(t,e){this._demuxer.trackInfo(t,e)},n._fragAlignStart=function(t){return t.maxStartPTS||t.startPTS||t.start},n._getFragByPos=function(t){if(this.level.details)return this.level.details.fragments[t]},n._getFragStartByPos=function(t){var e=this._getFragByPos(t);return e?this._fragAlignStart(e):0},n._reset=function(t){this._demuxing=!1,this._demuxer.reset(t)},n._resetIO=function(){this._parallelStartCache=void 0,this._destroyLoader(),this._destroyInitLoader()},n._destroyLoader=function(){this._loader&&(this._loader.destroy(),this._loader=void 0)},n._destroyInitLoader=function(){this._initFragLoader&&(this._initFragLoader.destroy(),this._initFragLoader=void 0)},n._loadKey=function(t){var e=this;this._keyLoader||(this._keyLoader=new ue({credentials:this._config.credentials,headers:this._config.headers},this._keyLoadConfig),this._keyLoader.on(L.default.HLS_KEY_LOADED,this._tryStartDemux),this._keyLoader.on(L.default.ERROR,(function(t){e._eventEmitter.emit(L.default.ERROR,t)}))),this._keyLoader.load(t)},n._isLevelEnd=function(){var t=this.level;return!!(t&&t.details&&!t.details.live&&this._pos>=t.details.fragments.length)},n._nextFragment=function(){var t=this.level,e=null;return t&&t.details&&this._pos<t.details.fragments.length&&(e=t.details.fragments[this._pos]),e&&(e.encrypted&&e.decryptdata&&this._loadKey(e),"number"==typeof e.sn&&this._pos++),e},n._loadFrag=function(t){if(t){var e={url:t.url,responseType:"arraybuffer",progress:this._streamingMux&&this._config.streamingMux,frag:t,type:"frag",credentials:this._config.credentials,headers:this._config.headers},i=t.byteRangeStartOffset,r=t.byteRangeEndOffset;if(M(i)&&M(r)&&(e.rangeStart=i,e.rangeEnd=r),this._loadConfig.cache=this._preload,t.sn===le)e.progress=!1,this._destroyInitLoader(),this._initFragLoader=new zt,this._initFragLoader.load(e,this._callback,this._loadConfig);else if(this._destroyLoader(),this._loader=new zt,this._loader.load(e,this._callback,this._loadConfig),this._demuxing=!0,this._type===s.LevelType.MAIN&&this._newSource){var n=t.start;this._eventEmitter.emit(L.default.NEW_SOURCE,{index:this._index,sync:n}),this._newSource=!1}}},n._preprocessed=function(t,e,i,r){var n=this._levels[t.frag.level]||{};if(this._isReady(t.frag,n)){if(this._parallelStartCache){this._updateParallelStartCache(t,e,i,r);var o=this._parallelStartCache.data.get(this._parallelStartCache.data.unreadLen);this._parallelStartCache=void 0,o&&(e=o)}this._startDemux(t,e,i,r)}else this._parallelStartCache?this._updateParallelStartCache(t,e,i,r):(this._parallelStartCache={context:t,stats:i,data:new Jt.default,progress:r},e&&this._parallelStartCache.data.put(new Uint8Array(e)))},n._updateParallelStartCache=function(t,e,i,r){this._parallelStartCache&&(this._parallelStartCache.context=t,this._parallelStartCache.stats=i,this._parallelStartCache.progress=r,e&&this._parallelStartCache.data.put(new Uint8Array(e)))},n._isReady=function(t,e){return!(t.encrypted&&t.decryptdata&&!t.decryptdata.key||e.details&&e.details.initSegment&&!e.details.initSegment.data)},n._startDemux=function(t,e,i,r){var n=this._levels[t.frag.level]||{},o={context:t,data:e,initData:n.details&&n.details.initSegment?n.details.initSegment.data:void 0,stats:i,audioCodec:n.audioCodec,videoCodec:n.videoCodec,remuxContiguous:this._remuxContiguous||!(!n.details||!n.details.live),progress:r};r?this._demuxer.onFragProgress(o):this._preload?(this._preloadData=o,this._eventEmitter.emit(L.default.PRELOAD_COMPLETE)):this._demuxer.onFragLoaded(o)},e=t,(i=[{key:"downloadEnabled",set:function(t){!this._loadEnabled&&t?(this._loadEnabled=t,this._tryLoadNext()):this._loadEnabled=t},get:function(){return this._loadEnabled}},{key:"isNetworkInUse",get:function(){return!(!this._loadEnabled&&!this._loader)}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._levels[this._index]}},{key:"index",get:function(){return this._index},set:function(t){this._resetIO(),this._newSource=!0,this._index=this._next=t,this._fragAlign=void 0}},{key:"next",get:function(){return this._next},set:function(t){this._newSource=!0,this._next=t,this._remuxContiguous=!0}},{key:"manualNext",set:function(t){if(this._type===s.LevelType.MAIN){var e=this.level.details;if(e){var i=se(this._media.currentTime+(e.targetduration||5)/2,e.fragments)+1;if(i>0&&i<e.fragments.length){i<this._pos&&(this._resetIO(),this._reset(!1),this._pos=i,this._remuxContiguous=!1),this._newSource=!0,this._next=t;var r=e.fragments[this._pos],n=this._fragAlignStart(r);return this._eventEmitter.emit(L.default.LEVEL_SWITCHING,{type:this._type,startSec:n,level:t,smooth:!0}),(this._fragAlign&&this._fragAlign.frag.sn!==r.sn||!this._fragAlign)&&(this._fragAlign={level:this._next,pos:this._pos,frag:r,alignPTS:n}),this._eventEmitter.emit(L.default.BUFFER_FLUSHING,{startSec:this._fragAlign.alignPTS||n}),void this._tryLoadNext()}}this._eventEmitter.emit(L.default.LEVEL_SWITCH_FAILED,{smooth:!0,level:t})}}},{key:"type",get:function(){return this._type}},{key:"lastLoadedFrag",get:function(){var t=this._pos;return this._loader&&t--,this._getFragByPos(t)}}])&&ce(e.prototype,i),r&&ce(e,r),t}();function de(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var he=function(){function t(t,e,i){var r=this;this._eventEmitter=void 0,this._type=s.LevelType.SUBTITLE,this._levels=void 0,this._config=void 0,this._index=0,this._loader=void 0,this._loadEnabled=!0,this._pos=0,this._startSN=0,this._callback=void 0,this._loadConfig=void 0,this._fullyLoaded=[],this._tryLoadNext=function(){if(!(r._index<0)){var t=r.level;if(r._loadEnabled&&t&&!r._loader){var e=r._nextFragment();e&&r._loadFrag(e)}}},this._onEnd=function(t,e,i){r._destroyLoader();var n=r._levels[t.frag.level]||{},o=rt(Y.SUCCESS,t,i,n.qualityType);r._eventEmitter.emit(L.default.DOWNLOAD,o),e&&"string"!=typeof e&&(n.details&&1===n.details.fragments.length&&!n.details.live&&-1===r._fullyLoaded.indexOf(t.frag.level)&&r._fullyLoaded.push(t.frag.level),r._eventEmitter.emit(L.default.SUBTITLE_LOADED,{data:e,cc:t.frag.cc,start:t.frag.start})),r._tryLoadNext()},this._onError=function(t,e){var i=r._levels[t.frag.level]||{};r._eventEmitter.emit(L.default.DOWNLOAD,rt(Y.FAIL,t,e,i.qualityType)),r._destroyLoader(),r._tryLoadNext()},this._eventEmitter=t,this._config=e,this._levels=i,this._index=i.reduce((function(t,e,i){return e.default?i:t}),-1),this._callback={onEnd:this._onEnd,onError:this._onError},this._loadConfig={connectionTimeout:e.connectionTimeout,transmissionTimeout:e.transmissionTimeout,maxRetry:e.maxRetry,retryDelay:e.retryDelay}}var e,i,r,n=t.prototype;return n.levelUpdated=function(){if(this.level&&this.level.details){var t=this.level.details.startSN;M(this._startSN)&&this._startSN!==t&&(this._pos=Math.max(0,this._pos-(t-this._startSN))),this._startSN=t,this._tryLoadNext()}},n.seek=function(t){if(this._index<0)return 0;var e=this.level;if(-1!==this._fullyLoaded.indexOf(this._index))return t;if(this._loadEnabled=!0,e&&e.details){var i=0===t?0:se(t,e.details.fragments),r=e.details.fragments[i];this._loader&&r&&this._loader.context.frag.sn===r.sn&&this._loader.context.frag.level===r.level||(this._pos=i>=0?i:e.details.fragments.length-1,this._destroyLoader(),this._tryLoadNext())}return t},n._nextFragment=function(){var t=this.level;if(t&&t.details&&this._pos<t.details.fragments.length){var e=t.details.fragments[this._pos];if(e&&"number"==typeof e.sn)return this._pos++,e}},n._destroyLoader=function(){this._loader&&(this._loader.destroy(),this._loader=void 0)},n._loadFrag=function(t){if(t){var e={url:t.url,responseType:"arraybuffer",frag:t,type:"frag",credentials:this._config.credentials},i=t.byteRangeStartOffset,r=t.byteRangeEndOffset;M(i)&&M(r)&&(e.rangeStart=i,e.rangeEnd=r),this._destroyLoader(),this._loader=new zt,this._loader.load(e,this._callback,this._loadConfig)}},e=t,(i=[{key:"downloadEnabled",set:function(t){!this._loadEnabled&&t?(this._loadEnabled=t,this._tryLoadNext()):this._loadEnabled=t},get:function(){return this._loadEnabled}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._levels[this._index]}},{key:"index",get:function(){return this._index},set:function(t){this._destroyLoader(),this._index=t}},{key:"lastLoadedFrag",get:function(){var t=this._pos;if(this._loader&&t--,this.level&&this.level.details)return this.level.details.fragments[t]}}])&&de(e.prototype,i),r&&de(e,r),t}();function pe(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _e=.5,ve="hls",me=function(){function t(t,e,i,r){var n=this;void 0===r&&(r=!1),this._eventEmitter=void 0,this._config=void 0,this._abr=void 0,this._media=void 0,this._main=void 0,this._audio=void 0,this._timer=void 0,this._startTimeSec=void 0,this._seekKeyframe=void 0,this._levels=[],this._audioLevels=[],this._subtitleLevels=[],this._totalduration=0,this._preload=!1,this._manifestReady=!1,this._mediaProtocol=void 0,this._subtitle=void 0,this._subtitleStarted=!1,this._onManifestLoaded=function(t){if(c.Log.i(ve,"_onManifestLoaded",t),t.drm&&n._preload)n._eventEmitter.emit(L.default.ERROR,{type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.UNSUPPORTED,fatal:!0,reason:"drm no supported preload"});else{var e=[],i=!1,r=!1,o=u.default.chrome||u.default.firefox;if(t.levels.forEach((function(t){i=i||!!t.videoCodec,r=r||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),o&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=""),t.audioCodec=n._config.audioCodec||t.audioCodec,e.push(t)})),i&&r&&(e=e.filter((function(t){return!!t.videoCodec}))),(e=e.filter((function(t){var e=t.audioCodec,i=t.videoCodec;return(!e||Ct(e))&&(!i||Ct(i))}))).forEach((function(t,e){return t.index=e})),t.audioTracks&&(n._audioLevels=t.audioTracks.filter((function(t){return!t.audioCodec||Ct(t.audioCodec,"audio")})),n._audioLevels.forEach((function(t,e){return t.index=e})),n._audioLevels.length&&(n._audio=new fe(s.LevelType.AUDIO,n._eventEmitter,n._media,n._config,n._audioLevels,0,void 0,n._preload))),t.subtitleTracks&&t.subtitleTracks.length&&(n._subtitleLevels=t.subtitleTracks,n._subtitleLevels.forEach((function(t,e){return t.index=e})),n._subtitle||(n._subtitle=new he(n._eventEmitter,n._config,n._subtitleLevels))),e.length>0){var a=0;n._levels=e;var l,f,d=e.length>1&&!e[a].details&&n._abr&&n._abr.autoLevelEnabled;n._abr&&d&&(a=n._abr.init({levels:e,index:a})||0),n._main=new fe(s.LevelType.MAIN,n._eventEmitter,n._media,n._config,e,a,n._audio?void 0:N.getWorker(),n._preload),"boolean"==typeof t.hasVideo&&"boolean"==typeof t.hasAudio&&n._main.trackInfo(t.hasVideo,t.hasAudio),n._eventEmitter.emit(L.default.MANIFEST_PARSED,{drm:t.drm}),n._abr&&n._abr.autoLevelEnabled&&d&&(n._main.index=n._abr.abrInitLevel),n._manifestReady=!0,n._levels[n._main.index].details?(n._levelUpdated(s.LevelType.MAIN),null!=(l=n._levels[n._main.index].details)&&l.live&&n._loadLevel(n._main.index,s.LevelType.MAIN,!0)):n._loadLevel(n._main.index,s.LevelType.MAIN,!0),n._audio&&n._audioLevels.length&&(n._audioLevels[n._audio.index].details?(n._levelUpdated(s.LevelType.AUDIO),null!=(f=n._levels[n._main.index].details)&&f.live&&n._loadLevel(n._audio.index,s.LevelType.AUDIO,!0)):n._loadLevel(n._audio.index,s.LevelType.AUDIO,!0))}else i||r?n._eventEmitter.emit(L.default.ERROR,{type:x.ErrorTypes.MUX_ERROR,details:x.ErrorDetails.UNSUPPORTED,fatal:!0,reason:"no supported codec"}):n._eventEmitter.emit(L.default.ERROR,{type:x.ErrorTypes.MUX_ERROR,details:x.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,reason:"manifest parsing error"})}},this._onAudioLevelLoaded=function(t){n._onLevelLoaded(t,s.LevelType.AUDIO)},this._onSubtitleLevelLoaded=function(t){n._onLevelLoaded(t,s.LevelType.SUBTITLE)},this._onLevelLoaded=function(t,e){void 0===e&&(e=s.LevelType.MAIN);var i=t.level,r=n._getTrack(e);if(r&&r.level&&i===r.index){var o=r.level,a=t.details;if(a.live){var u=o.details,l=function(t,e,i){var r=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),n=r/2;return t&&e.endSN===t.endSN&&(r=n),i&&(r=Math.max(n,r-(window.performance.now()-i))),Math.round(r)}(o.details,t.details,t.stats?t.stats.trequest:0);u?a.endSN!==u.endSN&&(yt(u,a),o.details=a,n._levelUpdated(e)):(o.details=a,n._levelUpdated(e)),c.Log.v("live playlist, reload in "+Math.round(l)+" ms"),n._timer=setTimeout((function(t){return n._loadLevel(t,e)}),l,r.index)}else n._clearLevelTimer(),o.details&&yt(o.details,a),o.details=a,o.live=o.details.live,n._levelUpdated(e);e===s.LevelType.MAIN&&n._eventEmitter.emit(L.default.LEVEL_LOADED,{bitrate:r.level.bitrate,duration:n._totalduration})}},this._levelUpdated=function(t){void 0===t&&(t=s.LevelType.MAIN),n._startTimeSec>=0&&n.seek(n._startTimeSec,n._seekKeyframe);var e=n._getTrack(t);if(e&&e.level&&e.level.details){e.downloadEnabled=!0,n._totalduration=e.level.details.totalduration;var i=[],r=[];e.level.details.live||e.level.details.fragments.forEach((function(t){i.push(t.start),"number"==typeof t.programDateTime&&r.push(t.programDateTime)})),n._eventEmitter.emit(L.default.LEVEL_UPDATED,{type:t,duration:n._totalduration,times:i,utcs:r,targetduration:e.level.details.targetduration}),e.levelUpdated(),t!==s.LevelType.SUBTITLE||e.level.details.live||e.seek(n._media.currentTime)}},this._onInitPTSFound=function(t){},this._abrNext=function(t){if(n._abr&&n._abr.autoLevelEnabled&&n._main){var e=n._abr.nextBitrateIndex();e>=0&&e!==n._main.index&&(n._eventEmitter.emit(L.default.LEVEL_SWITCHING,{startSec:t.startSec,level:e,smooth:!0}),n.nextLevel=e)}},this._syncStream=function(t,e){var i=t.lastLoadedFrag,r=e.lastLoadedFrag;i?r&&(r.start+r.duration>i.start+i.duration-_e?e.downloadEnabled=!1:e.downloadEnabled=!0):e.downloadEnabled=!0},this._getTrack=function(t){return void 0===t&&(t=s.LevelType.MAIN),t===s.LevelType.MAIN?n._main:t===s.LevelType.AUDIO?n._audio:n._subtitle},this._getTrackLevels=function(t){return void 0===t&&(t=s.LevelType.MAIN),t===s.LevelType.MAIN?n._levels:t===s.LevelType.AUDIO?n._audioLevels:n._subtitleLevels},this._eventEmitter=t,this._config=e,this._media=i,this._preload=r,this._startTimeSec=e.startFromSec||-1,this._seekKeyframe=e.startFromKeyframe}var e,i,r,n=t.prototype;return n.init=function(){var t=this;this._eventEmitter.on(L.default.DOWNLOAD,(function(e){t._abr&&t._abr.onDownload(e),t._main&&(t._audio&&t._syncStream(t._main,t._audio),t._subtitle&&t._syncStream(t._main,t._subtitle))})),this._eventEmitter.on(L.default.BUFFER_FLUSHING,(function(e){t._audio&&t._audio.seek(e.startSec)})),this._initMultirate();var e=Qt[this._config.box];e?(this._mediaProtocol=new e(this._config),this._mediaProtocol.on(L.default.MANIFEST_PARSED,this._onManifestLoaded),this._mediaProtocol.on(L.default.LEVEL_LOADED,this._onLevelLoaded),this._mediaProtocol.on(L.default.LEVEL_UPDATED,this._levelUpdated),this._mediaProtocol.on(L.default.AUDIO_TRACK_LOADED,this._onAudioLevelLoaded),this._mediaProtocol.on(L.default.SUBTITLE_TRACK_LOADED,this._onSubtitleLevelLoaded),this._mediaProtocol.on(L.default.DOWNLOAD,(function(e){t._eventEmitter.emit(L.default.DOWNLOAD,e)})),this._mediaProtocol.on(L.default.ERROR,(function(e){!t.current||t._config.isLive||t.current.details&&t.current.details.live||(e.fatal=!0),t._eventEmitter.emit(L.default.ERROR,e)}))):this._eventEmitter.emit(L.default.ERROR,{type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.UNSUPPORTED,fatal:!0,reason:"unsupported"})},n.destroy=function(){this._mediaProtocol&&(this._mediaProtocol.destroy(),this._mediaProtocol=void 0),this._clearLevelTimer(),this._main&&(this._main.destroy(),this._main=void 0),this._audio&&(this._audio.destroy(),this._audio=void 0),this._abr&&(this._abr.removeAllListeners(),this._abr.destory(),this._abr=void 0)},n.loadSource=function(){this._mediaProtocol&&this._mediaProtocol.loadManifest(this._config.src)},n.setDownloadEnabled=function(t){void 0===t&&(t=!0),this._main&&(this._main.downloadEnabled=t),this._abr&&this._abr.setDownloadEnabled(t)},n.isSeekable=function(){return!this._config.isLive},n.seek=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),this._abr&&this._abr.onSeek({isInBuffer:i}),!i&&this._main){if(this._main.level.details&&!this._main.level.details.live){if(!this._audio)return this._main.seek(t,e),this._subtitle&&this._subtitle.seek(t),void(this._startTimeSec=-1);if(this._audio.level.details&&!this._audio.level.details.live){var r=this._main.seek(t,e);return this._audio.seek(r),this._subtitle&&this._subtitle.seek(r),void(this._startTimeSec=-1)}}this._startTimeSec=t,this._seekKeyframe=e}},n.nextBackup=function(){if(this._main){var t=this._main.nextBackup(this._media.currentTime);if(this._audio&&t&&(t=this._main.nextBackup(this._media.currentTime)),t)return this._main.downloadEnabled=!1,this._seekKeyframe=!1,this._loadLevel(this._main.index,s.LevelType.MAIN),this._audio&&(this._audio.downloadEnabled=!1,this._loadLevel(this._audio.index,s.LevelType.AUDIO)),!0}return!1},n.streamingMux=function(t){this._main&&this._main.streamingMux(t)},n.setAvailableAbrLevels=function(t){this._abr&&this._abr.setAvailableAbrLevels(t)},n.usePreload=function(){this._main&&this._main.usePreload(),this._audio&&this._audio.usePreload(),this._preload=!1},n._loadLevel=function(t,e,i){void 0===i&&(i=!1);var r=this._getTrackLevels(e);if(r.length){var n=r[t];n&&"object"==typeof n&&n.url.length>0&&this._mediaProtocol&&this._mediaProtocol.loadLevel(n,e)}},n._clearLevelTimer=function(){null!==this._timer&&(clearTimeout(this._timer),this._timer=null)},n._initMultirate=function(){var t=this;this._config.adaptive&&!this._abr&&(this._abr=new _t(this._config,this._media),this._abr.active(!0),this._abr.on(L.default.ABR_INFO,(function(e){t._eventEmitter.emit(L.default.ABR_INFO,e)})),this._eventEmitter.on(L.default.INIT_PTS_FOUND,this._onInitPTSFound),this._eventEmitter.on(L.default.ABR_NEXT,this._abrNext),this._eventEmitter.on(L.default.NEW_SOURCE,(function(e){t._abr&&t._abr.onNewSource(e)})),this._eventEmitter.on("mainNotify",(function(e){t._abr&&("ratechange"===e.type?t._abr.onRatechange(e.playbackRate):"waiting"===e.type&&t._abr.onWaiting()),"canplay"===e.type&&t._startSubtitle()})))},n._checkNextLevel=function(t,e){void 0===e&&(e=s.LevelType.MAIN);var i=this._getTrack(e);return!(!i||!i.levels||i.levels[t].details&&!i.levels[t].live||(i.downloadEnabled=!1,this._loadLevel(t,e),0))},n._abrActive=function(t){this._abr&&this._config.adaptive&&(t&&!this._abr.autoLevelEnabled&&this._eventEmitter.emit(L.default.LEVEL_SWITCHING,{startSec:this._media.currentTime,level:-1,smooth:!0}),this._abr.active(t))},n._startSubtitle=function(){!this._subtitleStarted&&this._subtitle&&(this._subtitle.index>=0&&(this._subtitleLevels[this._subtitle.index].details?this._levelUpdated(s.LevelType.SUBTITLE):this._loadLevel(this._subtitle.index,s.LevelType.SUBTITLE,!0)),this._subtitleStarted=!0)},e=t,(i=[{key:"levels",get:function(){return this._main?this._main.levels:[]}},{key:"protocol",get:function(){var t;return(null==(t=this._mediaProtocol)?void 0:t.protocol)||s.Protocol.UNKNOWN}},{key:"isNetworkInUse",get:function(){return!!this._main&&this._main.isNetworkInUse}},{key:"autoLevelEnabled",get:function(){return!!this._abr&&!!this._abr.autoLevelEnabled}},{key:"current",get:function(){if(this._main)return this._main.level}},{key:"mediaTrackNum",get:function(){return this._audio?2:1}},{key:"audioTrack",get:function(){var t;return(null==(t=this._audio)?void 0:t.index)||0},set:function(t){this._audio&&(t=Math.min(t,this._audio.levels.length-1),this._audio.index=t,this._manifestReady&&(this.seek(this._media.currentTime),this._checkNextLevel(t,s.LevelType.AUDIO),this._eventEmitter.emit(L.default.LEVEL_SWITCHING,{type:s.LevelType.AUDIO,startSec:this._media.currentTime,level:t,smooth:!1})))}},{key:"audioTracks",get:function(){return this._audio?this._audio.levels:[]}},{key:"subtitleTrack",get:function(){var t;return(null==(t=this._subtitle)?void 0:t.index)||0},set:function(t){this._subtitle&&(t=Math.min(t,this._subtitle.levels.length-1),this._subtitle.index=t,this._manifestReady&&t>=0&&(this._checkNextLevel(t,s.LevelType.SUBTITLE)||this._subtitle.seek(this._media.currentTime),this._eventEmitter.emit(L.default.LEVEL_SWITCHING,{type:s.LevelType.SUBTITLE,startSec:this._media.currentTime,level:t,smooth:!1})))}},{key:"subtitleTracks",get:function(){return this._subtitle?this._subtitle.levels:[]}},{key:"currentLevel",get:function(){return this._main?this._main.index:0},set:function(t){t>=0?(this._abrActive(!1),this._main&&(t=Math.min(t,this._main.levels.length-1),this._main.index=t,this._manifestReady&&(this.seek(this._media.currentTime),this._checkNextLevel(t),this._eventEmitter.emit(L.default.LEVEL_SWITCHING,{startSec:this._media.currentTime,level:t,smooth:!1})))):this._abrActive(!0)}},{key:"manualNextLevel",set:function(t){this._abrActive(t<0),this._manifestReady?this._main&&this._main.level.details&&t>=0&&(t=Math.min(t,this._main.levels.length-1),this._main.manualNext=t,this._checkNextLevel(t)||this.setDownloadEnabled(!0)):this.currentLevel=t}},{key:"nextLevel",get:function(){return this._main?this._main.next:0},set:function(t){this._main&&this._main.next!==t&&(this._main.next=t,this._checkNextLevel(t))}}])&&pe(e.prototype,i),r&&pe(e,r),t}(),ge=i("./node_modules/url-parse/index.js"),ye=i.n(ge);function Ee(t,e){if(void 0===e)return t;var i=new ye.a(t,!0);return e&&(i.query.kabr_spts=""+e),i.toString()}var we=function(){function t(){var t=this;this._context=void 0,this._result=void 0,this._callback=void 0,this._loader=void 0,this._loaderConf=void 0,this._loaderCallbacks=void 0,this._timer=void 0,this._startTime=0,this._testEnd=function(){t._stopTimer(),t._loader&&t._loader.destroy(),t._context&&t._result&&t._callback&&(t._result.firstPackageDuration=Math.round(t._result.firstPackageDuration),t._result.duration=Math.round(performance.now()-t._startTime),t._callback.onEnd(t._context,t._result))},this._onProgress=function(e,i,r){t._result&&(t._result.firstPackageDuration=r.tfirst?r.tfirst-r.trequest:0,t._result.loaded=r.loaded)},this._onLoaderError=function(e,i){t._result&&(t._result.succeeded=!1),t._testEnd()},this._onLoaderEnd=function(){t._testEnd()},this._loaderConf={connectionTimeout:0,transmissionTimeout:0,maxRetry:0,retryDelay:0,useFetch:!0},this._loaderCallbacks={onProgress:this._onProgress,onError:this._onLoaderError,onEnd:this._onLoaderEnd}}var e=t.prototype;return e.start=function(t,e){this._context=t,this._callback=e,this._result={loaded:0,duration:0,firstPackageDuration:0,succeeded:!0},this._startTime=performance.now(),this._loader&&this._loader.destroy();var i=Math.min(1e4,t.timeout);this._loaderConf.connectionTimeout=i;var r={url:t.url,progress:!0,responseType:"arraybuffer"};this._loader=new zt,this._startTimer(i),this._loader.load(r,this._loaderCallbacks,this._loaderConf)},e.cancel=function(){this._stopTimer(),this._loader&&this._loader.destroy()},e.destroy=function(){this.cancel()},e._startTimer=function(t){var e=this;this._timer=setTimeout((function(){return e._testEnd()}),t)},e._stopTimer=function(){clearTimeout(this._timer)},t}();function Ae(){return(Ae=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function be(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Se,Te={stableBufferDiffThresholdSecond:.15,stableBufferIntervalMs:2e3,speedTestTimeoutMs:500,generateSpeedGapMs:3e3,bufferCheckIntervalMs:500,smoothedSpeedUtilizationRatio:.8,smallSpeedToBitrateRatio:.7,enoughSpeedToBitrateRatio:.9,bufferLowerLimitSecond:.8,recentBufferedSize:16,smoothedSpeedRatio:.9,isSpeedFullyUsed:!1},xe=function(t){var e,i;function r(){var e;return(e=t.call(this)||this)._conf=void 0,e._pastBuffer=void 0,e._levels=void 0,e._current=0,e._next=0,e._stableBufferStartTime=performance.now(),e._speedTester=new we,e._generatedSpeed=0,e._lastCheckBuffer=0,e._lastSpeed=0,e._timer=void 0,e._autoLevelEnabled=!1,e._speedTestEnabled=!0,e}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n,o,a,s=r.prototype;return s.init=function(t,e,i){var r=this;this._conf=Ae({},Te),Ae(this._conf,i),c.Log.i("algorithm-simple","init",t,i,this._conf),this._levels=t.abrLevels.slice(0),this._next=t.abrDefault,this._pastBuffer=[0],e&&(this._timer=setInterval((function(){r._checkBuffer(e)}),this._conf.bufferCheckIntervalMs))},s._updateStableBuffer=function(t){var e=t-this._lastCheckBuffer,i=e/t,r=performance.now();return(e<-this._conf.stableBufferDiffThresholdSecond||i<-.2)&&(c.Log.v("algorithm-simple","bufferDiffDown: "+e.toFixed(2)+"s, diffRatio: "+i.toFixed(2)),this._stableBufferStartTime=Math.max(r,this._stableBufferStartTime)),e>this._conf.stableBufferDiffThresholdSecond&&r-this._stableBufferStartTime+this._conf.bufferCheckIntervalMs>this._conf.stableBufferIntervalMs&&(this._stableBufferStartTime=Math.max(r-2*this._conf.bufferCheckIntervalMs,this._stableBufferStartTime+2*this._conf.bufferCheckIntervalMs),c.Log.v("algorithm-simple","bufferDiffUp: "+e.toFixed(2)+"s")),this._lastCheckBuffer=t,r-this._stableBufferStartTime>this._conf.stableBufferIntervalMs},s._isSpeedFullyUsed=function(){return this._conf.isSpeedFullyUsed},s._checkBuffer=function(t){var e=t.bufferedSec(),i=this._updateStableBuffer(e);this._isSpeedFullyUsed()?i&&this._current+1<this._levels.length?this._generatedSpeed=this._levels[this._current+1].bitrate:this._generatedSpeed=0:i&&this._current+1<this._levels.length&&this._autoLevelEnabled&&this._speedTestEnabled&&(this._startTesting(t),this._stableBufferStartTime=performance.now()+this._conf.generateSpeedGapMs),this._pastBuffer.push(e),this._pastBuffer.length>this._conf.recentBufferedSize&&this._pastBuffer.shift()},s._startTesting=function(t){var e=this;c.Log.v("algorithm-simple","start speed testing on index: "+(this._current+1));var i=t.downloadSize(),r=this._levels[this._current+1].bitrate;this._speedTester.start({url:this._levels[this._current+1].url[this._levels[this._current+1].urlId],timeout:this._conf.speedTestTimeoutMs},{onEnd:function(n,o){var a=t.downloadSize()-i;if(o.succeeded&&o.duration>0&&o.firstPackageDuration>0){var s=8*(a+o.loaded)/o.duration;c.Log.v("algorithm-simple","testSpeed: "+s.toFixed(0)),s>=r&&(e._generatedSpeed=r)}c.Log.v("algorithm-simple","succeeded: "+o.succeeded+", firstPackageDuration: "+o.firstPackageDuration+", originalDownloadSize: "+a+", downloadSize: "+o.loaded+", downloadTime: "+o.duration)}})},s.setAvailableBitrates=function(t){},s.onGOP=function(t,e,i){var r=e/Math.max(i,.05)*8/1024;c.Log.v("algorithm-simple","buffered: "+t.toFixed(2)+", size: "+e+", time: "+i.toFixed(2)),this._next=this._nextRateIndex(r,t)},s.onLevelLoad=function(t){this._current=Math.max(0,t)},s.destroy=function(){this._speedTester.destroy(),clearInterval(this._timer)},s._quantization=function(t){for(var e=0,i=this._levels.length-1;i>=0;i--)if(t>=this._levels[i].bitrate){e=i;break}return e},s._nextRateIndex=function(t,e){var i=this._nextRateBySpeedAndBuffered(t,e);return i!=this._current&&(this._stableBufferStartTime=performance.now()+this._conf.generateSpeedGapMs),i<this._current?(this._speedTester.cancel(),this._generatedSpeed=0,this._lastSpeed=t,this._pastBuffer=[e]):this._lastSpeed=this._getSmoothedSpeed(t),i},s._getSmoothedSpeed=function(t){return this._lastSpeed>0?t*(1-this._conf.smoothedSpeedRatio)+this._lastSpeed*this._conf.smoothedSpeedRatio:t},s._getPredictedBuffer=function(t){return t+(t-Math.max.apply(Math,this._pastBuffer))},s._getBufferSpeed=function(t){var e=Math.max.apply(Math,this._pastBuffer);return(1+(t-e)/e)*this._levels[this._current].bitrate},s._isSpeedTooSmall=function(t){return t/this._levels[this._current].bitrate<this._conf.smallSpeedToBitrateRatio},s._isSpeedEnough=function(t){return t/this._levels[this._current].bitrate>this._conf.enoughSpeedToBitrateRatio},s._nextRateBySpeedAndBuffered=function(t,e){var i=this._getBufferSpeed(e),r=this._getSmoothedSpeed(t);c.Log.v("algorithm-simple","gopSpeed: "+t.toFixed(0)+", smoothedSpeed: "+r.toFixed(0));var n=this._getPredictedBuffer(e);c.Log.v("algorithm-simple","bufferSpeed: "+i.toFixed(0)+", predictedBuffered: "+n.toFixed(1));var o=this._current;return n<this._conf.bufferLowerLimitSecond||this._isSpeedTooSmall(i)?o=Math.min(this._current,this._quantization(i)):this._isSpeedEnough(i)&&(this._generatedSpeed>0?(c.Log.i("algorithm-simple","generatedSpeed used"),o=this._quantization(this._generatedSpeed),this._generatedSpeed=0):o=this._quantization(r*this._conf.smoothedSpeedUtilizationRatio),o=Math.min(this._current+1,Math.max(o,this._current))),o},n=r,(o=[{key:"autoLevelEnabled",set:function(t){this._autoLevelEnabled=t}},{key:"speedTestEnabled",set:function(t){this._speedTestEnabled=t}},{key:"nextLevel",get:function(){return c.Log.v("algorithm-simple","nextLevel: "+this._next),this._next}}])&&be(n.prototype,o),a&&be(n,a),r}(n.EventEmitter);!function(t){t.Kalman="kalman",t.Simple="simple"}(Se||(Se={}));var Le={simple:xe},Ce=function(){function t(){}return t.verify=function(t){return!!(t&&t.hasOwnProperty("version")&&t.hasOwnProperty("adaptationSet")&&t.adaptationSet.hasOwnProperty("representation")&&Array.isArray(t.adaptationSet.representation)&&t.adaptationSet.representation.length>0)&&(t.adaptationSet.representation.forEach((function(t){if(!t.url||!t.bitrate||!t.qualityType)return!1})),!0)},t.parse=function(e){var i,r=[];return t.verify(e)&&e.adaptationSet.representation.forEach((function(t,e){var n=new H(t.url);n.id=t.id||e,n.maxBitrate=t.bitrate||0,n.avgBitrate=t.averageBitrate||0,n.bitrate=t.averageBitrate||n.maxBitrate,n.qualityType=t.qualityType||"",n.qualityLabel=t.name||"",n.codec=t.codec||"",n.hidden=t.hidden||!1,n.enableAdaptive=void 0===t.enableAdaptive||!!t.enableAdaptive,n.default=t.defaultSelect||!1,n.index=e,r.push(n),n.default&&void 0===i&&(i=e)})),{levels:r,def:i||0}},t}();function Ie(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var De=function(){function t(t){var e;this._levels=[],this._abrLevels=[],this._default=void 0,this._availableList=void 0,this._availableList=void 0,Ce.verify(t)?e=Ce.parse(t):Vt.verify(t)?e=Vt.parse(t):z.verify(t)?e={levels:[new H("")],def:0}:t&&"string"==typeof t&&(e={levels:[new H(t)],def:0}),e&&(this._levels=e.levels,this._default=e.def),this._generateAbrList()}var e,i,r,n=t.prototype;return n.setAvailableAbrLevels=function(t){this._availableList=t,this._generateAbrList()},n.abrIndexToOrign=function(t){var e=this._abrLevels[t];return e?e.index:0},n.orignIndexToAbr=function(t){var e=0;return this._abrLevels.forEach((function(i,r){i.index!==t||(e=r)})),e},n._generateAbrList=function(){var t=this,e=this._availableList;e&&"number"==typeof this._default&&-1===e.indexOf(this._default)&&(this._default=0),this._abrLevels=[],this._levels.forEach((function(i,r){i.enableAdaptive&&(!e||e&&-1!==e.indexOf(r))&&t._abrLevels.push(i)})),this._abrLevels.sort((function(t,e){return t.bitrate-e.bitrate}))},e=t,(i=[{key:"levels",get:function(){return this._levels}},{key:"abrLevels",get:function(){return this._abrLevels}},{key:"default",get:function(){return this._default||0}},{key:"abrDefault",get:function(){var t=0;return this._abrLevels.forEach((function(e,i){if(e.default)return t=i})),t}}])&&Ie(e.prototype,i),r&&Ie(e,r),t}();function Oe(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Re,ke=function(){function t(t,e,i){var r;this._eventEmitter=void 0,this._config=void 0,this._media=void 0,this._smooth=void 0,this._downloadSizeTotal=0,this._downloadSize=0,this._downloadStartTime=0,this._keyCount=0,this._index=0,this._algorithm=void 0,this._autoLevelEnabled=!1,this._manifest=void 0,this._eventEmitter=t,this._config=e,this._media=i,this._manifest=new De(e.src),this._algorithm=(r=Se.Simple,Le[r]?new Le[r]:new Le[Se.Simple]),this._algorithm.speedTestEnabled=this._config.abrSpeedTest,this._autoLevelEnabled=!!e.adaptive&&this._manifest.abrLevels.length>0,this._algorithm.autoLevelEnabled=this._autoLevelEnabled}var e,i,r,n=t.prototype;return n.init=function(){var t=this;if(this._downloadSizeTotal=0,this._downloadSize=0,this._downloadStartTime=performance.now(),this._keyCount=0,this._manifest.levels){this._autoLevelEnabled&&(this._index=this._manifest.abrIndexToOrign(this._algorithm.nextLevel)),this._index=this._manifest.default,this._eventEmitter.emit(L.default.MANIFEST_PARSED,{});var e={bufferedSec:function(){return t._media.bufferedSec()},downloadSize:function(){return t._downloadSizeTotal}};this._algorithm.init(this._manifest,e,this._config.liveAdaptiveConfig)}},n.destory=function(){this._algorithm&&(this._algorithm.destroy(),this._algorithm.removeAllListeners())},n.setAvailableAbrLevels=function(t){this._manifest.setAvailableAbrLevels(t)},n.onLoaderChunk=function(t){this._downloadSize+=t,this._downloadSizeTotal+=t},n.onLevelLoad=function(t){this._manifest.levels.length&&t>=0&&t<this._manifest.levels.length&&(this._keyCount=0,this._downloadStartTime=performance.now(),this._downloadSize=0,this._index=t,this._algorithm.onLevelLoad(this._manifest.orignIndexToAbr(t)))},n.onKeyFrame=function(t){var e=this._manifest.levels;if(this._keyCount++,(this._algorithm||"number"==typeof this._smooth)&&this._keyCount>1&&e){var i=this._index,r=!1,n=performance.now();if(this._algorithm.onGOP(this._media.bufferedSec(),this._downloadSize,(n-this._downloadStartTime)/1e3),this._downloadSize=0,this._downloadStartTime=n,"number"==typeof this._smooth)i=this._smooth,this._smooth=void 0;else{if(!this._autoLevelEnabled||!this._algorithm)return;i=this._manifest.abrIndexToOrign(this._algorithm.nextLevel),r=!0}if(i!==this._index)return{url:this.getRequestUrl(i,t),level:i,auto:r}}},n.getRequestUrl=function(t,e){var i=this._config.src,r=this._manifest.levels[t];return r&&(i=r.currentUrl),this._config.box===s.MediaBox.flv?Ee(i,e||this._config.defaultSpts):i},e=t,(i=[{key:"autoLevelEnabled",set:function(t){this._autoLevelEnabled=t&&this._config.adaptive},get:function(){return this._autoLevelEnabled}},{key:"levels",get:function(){return this._manifest.levels}},{key:"nextLevel",get:function(){return"number"==typeof this._smooth?this._smooth:this._index},set:function(t){t>=0?(t=Math.min(this._manifest.levels.length-1,t),this._autoLevelEnabled=!1,this._smooth=t):-1===t&&(this._autoLevelEnabled=this._config.adaptive),this._algorithm.autoLevelEnabled=this._autoLevelEnabled}},{key:"currentLevel",get:function(){return this._index},set:function(t){t>=0?(t=Math.min(this._manifest.levels.length-1,t),this._autoLevelEnabled=!1,this._index=t):-1===t&&(this._autoLevelEnabled=this._config.adaptive),this._algorithm.autoLevelEnabled=this._autoLevelEnabled}}])&&Oe(e.prototype,i),r&&Oe(e,r),t}(),Ne=i("./src/demux/flv/flv.ts");!function(t){t[t.tagType=0]="tagType",t[t.tagSize=1]="tagSize",t[t.timestamp=2]="timestamp",t[t.frameType=3]="frameType",t[t.packetType=4]="packetType"}(Re||(Re={}));var Me=function(){function t(){this._pos=0,this._detectType=Re.tagType,this._tagSize=0,this._tagSizeLen=0,this._timestamp=0,this._timestampLen=0,this._tagType=0,this._frameType=0,this._keyframeList=[],this.reset()}var e=t.prototype;return e.reset=function(){c.Log.i("flv-key-detector","reset"),this._pos=Ne.FLV_HEAD_LEN,this._detectType=Re.tagType,this._tagSize=0,this._tagSizeLen=3,this._timestamp=0,this._timestampLen=4,this._tagType=0,this._frameType=0,this._keyframeList=[]},e.append=function(t){if(this._pos>t.byteLength)return this._pos-=t.byteLength,[];this._keyframeList=[];for(var e=this._pos,i=0;e<t.byteLength;)switch(this._detectType){case Re.tagType:this._tagType=t[e],this._tagSize=0,this._tagSizeLen=3,i=e,e++,this._detectType=Re.tagSize;break;case Re.tagSize:if(this._tagSize=this._tagSize+(t[e]<<8*(this._tagSizeLen-1)),this._tagSizeLen--,e++,this._tagSizeLen>0)break;this._tagType===Ne.FlvTagType.VIDEO?(this._timestamp=0,this._timestampLen=4,this._detectType=Re.timestamp):(e+=7+this._tagSize+4,this._detectType=Re.tagType);break;case Re.timestamp:this._timestamp+=1===this._timestampLen?t[e]<<24:t[e]<<8*(this._timestampLen-2),this._timestampLen--,e++,0===this._timestampLen&&(e+=3,this._frameType=0,this._detectType=Re.frameType);break;case Re.frameType:this._frameType=t[e]>>4,e++,this._detectType=Re.packetType;break;case Re.packetType:1===this._frameType&&1===t[e]&&this._keyframeList.push({timestamp:this._timestamp,pos:i}),e+=this._tagSize-1+4,this._detectType=Re.tagType}return this._pos=e-t.byteLength,this._keyframeList},t}(),Pe=function(){function t(){var t=this;this._callback=void 0,this._loader=void 0,this._loaderConf=void 0,this._loaderCallbacks=void 0,this._timer=void 0,this._conplete=function(e){t._stopTimer(),t._destroyLoader(),t._callback&&(e?t._callback({responseHeader:e.responseHeader}):t._callback({}))},this._onLoaderError=function(e){t._conplete(e)},this._onLoaderEnd=function(e){t._conplete(e)},this._onLoaderProgress=function(e){t._conplete(e)},this._onLoaderConnect=function(e){t._conplete(e)},this._loaderConf={connectionTimeout:0,transmissionTimeout:0,maxRetry:0,retryDelay:0,useFetch:!1},this._loaderCallbacks={onConnect:this._onLoaderConnect,onProgress:this._onLoaderProgress,onError:this._onLoaderError,onEnd:this._onLoaderEnd}}var e=t.prototype;return e.start=function(t,e){this._destroyLoader(),this._callback=e,this._loaderConf.connectionTimeout=1e4;var i={url:t,progress:!1,responseType:"arraybuffer"};this._loader=new zt,this._startTimer(1e4),this._loader.load(i,this._loaderCallbacks,this._loaderConf)},e.cancel=function(){this._stopTimer(),this._destroyLoader()},e.destroy=function(){this.cancel()},e._destroyLoader=function(){this._loader&&this._loader.destroy()},e._startTimer=function(t){var e=this;this._timer=setTimeout((function(){return e._conplete()}),t)},e._stopTimer=function(){clearTimeout(this._timer)},t}(),Ue=1048576,Be="media-loader",Fe=function(){function t(t,e){var i=this;this._callback=void 0,this._config=void 0,this._context=void 0,this._contentLen=0,this._loader=void 0,this._internalCallback=void 0,this._loaderConfig=void 0,this._firstReq=!0,this._ended=!1,this._pos=void 0,this._nextRangeStart=0,this._downloadEnabled=!0,this._currentReqLen=0,this._streamingMux=!1,this._headerReq=void 0,this._onLoaderConnect=function(t,e){i._getContentLen(t)},this._onLoaderProgress=function(t,e,r){"string"!=typeof e&&(i._currentReqLen+=e.byteLength,i._getContentLen(t),!t.rangeEnd&&i._currentReqLen>=Ue&&!i._config.isLive&&(i._destroyLoader(),i._nextRangeStart=i._currentReqLen,i._request()),i._callback.onProgress&&i._callback.onProgress(t,e,r))},this._onLoaderAbort=function(t,e){},this._onLoaderError=function(t,e){i._callback.onError&&i._callback.onError(t,e)},this._onLoaderEnd=function(t,e,r){i._getContentLen(t),"string"!=typeof e&&(!i._config.isLive&&e&&i._callback.onProgress&&i._callback.onProgress(t,e,r),i._ended||i._config.isLive?i._callback.onEnd(t,null,r):i._request())},this._onHeaderReqEnded=function(t){!i._contentLen&&t&&(i._contentLen=i._getContentLenFromHeader(t.responseHeader),c.Log.i(Be,"get content length by header req: "+i._contentLen)),i._headerReq&&i._headerReq.destroy()},this._callback=t,this._config=e,this._internalCallback={onConnect:this._onLoaderConnect,onEnd:this._onLoaderEnd,onError:this._onLoaderError,onAbort:this._onLoaderAbort,onProgress:this._onLoaderProgress},this._loaderConfig={connectionTimeout:this._config.connectionTimeout,transmissionTimeout:this._config.transmissionTimeout,maxRetry:this._config.isLive?0:this._config.maxRetry,retryDelay:this._config.isLive?0:this._config.retryDelay,useFetch:this._config.isLive}}var e=t.prototype;return e.load=function(t){this._destroyLoader(),this._firstReq=!0,this._streamingMux=this._config.box===s.MediaBox.flv&&this._config.isLive||this._config.streamingMux,this._context=t,this._context.progress=this._streamingMux,this._context.responseType="arraybuffer",this._context.credentials=this._config.credentials,this._context.headers=this._config.headers,this._request()},e.seek=function(t){this._destroyLoader(),this._pos=t,this._ended=!1,this._request()},e.destroy=function(){this._destroyLoader(),this._headerReq&&this._headerReq.destroy()},e.ended=function(){return this._ended},e.streamingMux=function(t){this._streamingMux=t},e.setDownloadEnabled=function(t){void 0===t&&(t=!0),this._downloadEnabled!==t&&(this._downloadEnabled=t,this._request())},e._request=function(){if(this._downloadEnabled&&!this._ended&&this._context){this._destroyLoader(),this._pos&&(this._nextRangeStart=this._pos.position,this._context.frag.start=this._pos.time,this._pos=void 0);var t=this._context;this._config.isLive||(this._context.progress=this._streamingMux,this._firstReq&&t.progress?this._firstReq=!1:(this._firstReq&&(this._firstReq=!1,this._headerReq=new Pe,this._headerReq.start(t.url,this._onHeaderReqEnded),c.Log.i(Be,"start header req")),t.rangeStart=this._nextRangeStart,t.rangeEnd=(1+(this._nextRangeStart/Ue|0))*Ue,this._nextRangeStart=t.rangeEnd,t.rangeEnd&&this._contentLen&&t.rangeEnd>this._contentLen&&(this._ended=!0))),this._currentReqLen=0,this._loader=new zt,this._loader.load(t,this._internalCallback,this._loaderConfig)}},e._destroyLoader=function(){this._loader&&(this._loader.destroy(),this._loader=void 0)},e._getContentLen=function(t){this._config.isLive||this._contentLen||t.rangeStart||t.rangeEnd||(this._contentLen=this._getContentLenFromHeader(t.responseHeader),c.Log.i(Be,"get content length: "+this._contentLen))},e._getContentLenFromHeader=function(t){var e=0;return t&&$(t).forEach((function(t){"content-length"===t[0].toLowerCase()&&(e=parseInt(t[1]))})),e},t}(),Ke=i("./src/types/remux.ts"),je=i("./src/utils/keyframes-utils.ts");function Ve(){return(Ve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function He(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var qe="single",Ge=function(){function t(t,e,i,r){var n=this;void 0===r&&(r=!1),this._eventEmitter=void 0,this._config=void 0,this._media=void 0,this._preload=void 0,this._loader=void 0,this._loaderCallbacks=void 0,this._multirate=void 0,this._baseTimeSec=0,this._ready=!1,this._protocol=s.Protocol.UNKNOWN,this._remuxContiguous=!0,this._flvKeyDetector=void 0,this._metadata=void 0,this._appendFLVHead=!1,this._demuxerType=Ke.DemuxerType.UNKNOWN,this._flvHead=void 0,this._startTimeSec=-1,this._faststart=!0,this._loadEndCallbackonMeta=!1,this._demuxer=void 0,this._onProgress=function(t,e,i){if(e instanceof ArrayBuffer){var r;if(n._multirate&&n._multirate.onLoaderChunk(e.byteLength),n._flvKeyDetector)for(var o=n._flvKeyDetector.append(new Uint8Array(e)),a=0;a<o.length;a++){if(n._media.hasStreamTime||n._media.updateStreamTime(o[a].timestamp/1e3,0),n._multirate&&(r=n._multirate.onKeyFrame(o[a].timestamp))){var s=new Uint8Array(o[a].pos);s.set(new Uint8Array(e).subarray(0,o[a].pos)),e=s.buffer;var u=Ve({},r);u.smooth=!0,u.timestamp=o[a].timestamp,u.startSec=n._baseTimeSec||n._media.currentTime,n._eventEmitter.emit(L.default.LEVEL_SWITCHING,u),n._baseTimeSec=n._media.getLocalTime(o[a].timestamp/1e3)||0;break}n._eventEmitter.emit(L.default.KEY_FRAME)}n._appendFLVHead&&(n._demuxerType===Ke.DemuxerType.FLV&&(e=n._onFlvSeekFirstChunk(e)),n._appendFLVHead=!1);var c={context:t,data:e,stats:i,remuxContiguous:n._remuxContiguous,progress:!0};r?(n._demuxer.onFragLoaded(c),n._flvKeyDetector&&n._flvKeyDetector.reset(),n._load(r.url,r.level)):n._demuxer.onFragProgress(c)}},this._onAbort=function(t,e){n._onDownload(Y.ABORT,t,e)},this._onLoaderError=function(t,e){if(n._onDownload(Y.FAIL,t,e),e.fatal){var i={type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.LOAD_ERROR,fatal:!0,reason:e.text,statusCode:e.code,url:t.url};n._eventEmitter.emit(L.default.ERROR,i)}},this._onLoaderEnd=function(t,e,i){n._demuxer.onFragLoaded({context:t,data:null,stats:i,remuxContiguous:n._remuxContiguous,progress:!0}),n._onDownload(Y.SUCCESS,t,i),n._metadata?n._demuxer.end():n._loadEndCallbackonMeta=!0},this._onMetadata=function(t){n._metadata=Ve({},t),n._startTimeSec>0||!n._faststart?(n.seek(n._startTimeSec),n._startTimeSec=-1):n._loadEndCallbackonMeta&&n._demuxer.end(),n._loadEndCallbackonMeta=!1},this._onMediaDemux=function(t){c.Log.i(qe,"demuxer: "+t.type),t.type&&(n._demuxerType=t.type,t.type!==Ke.DemuxerType.FLV&&n._flvKeyDetector&&(n._flvKeyDetector=void 0))},this._onFlvHead=function(t){n._flvHead=t.head},this._onNotFaststart=function(t){c.Log.i(qe,"not faststart",t.pos),n._loader.seek({position:t.pos,time:0}),n._demuxer.reset(!0),n._faststart=!1,n._loadEndCallbackonMeta=!1},this._eventEmitter=t,this._config=e,this._media=i,this._preload=r,this._startTimeSec=e.startFromSec||-1,this._loaderCallbacks={onProgress:this._onProgress,onError:this._onLoaderError,onEnd:this._onLoaderEnd,onAbort:this._onAbort},this._loader=new Fe(this._loaderCallbacks,e),this._demuxer=new re(this._eventEmitter,e,s.LevelType.MAIN,this._config.webWorker?N.getWorker():void 0),this._demuxer.init(),this._eventEmitter.on(L.default.METADATA,this._onMetadata),this._eventEmitter.on(L.default.MEDIA_DEMUX,this._onMediaDemux),this._eventEmitter.on(L.default.FLV_HEAD,this._onFlvHead),this._eventEmitter.on(L.default.MP4_NOT_FASTSTART,this._onNotFaststart)}var e,i,r,n=t.prototype;return n.init=function(){"object"==typeof this._config?(Ce.verify(this._config.src)||Vt.verify(this._config.src))&&(this._protocol=s.Protocol.ABR_FLV):this._protocol=s.Protocol.FLV,this._multirate||(this._multirate=new ke(this._eventEmitter,this._config,this._media),this._multirate.levels.length>1&&this._config.box===s.MediaBox.flv&&this._config.isLive&&(this._flvKeyDetector=new Me),this._multirate.init(),this._preload&&(this._multirate.autoLevelEnabled=!1)),this._ready=!0},n.destroy=function(){this._eventEmitter.off(L.default.METADATA,this._onMetadata),this._eventEmitter.off(L.default.MEDIA_DEMUX,this._onMediaDemux),this._eventEmitter.off(L.default.FLV_HEAD,this._onFlvHead),this._eventEmitter.off(L.default.MP4_NOT_FASTSTART,this._onNotFaststart),this._loader&&this._loader.destroy(),this._multirate&&this._multirate.destory(),this._demuxer.destroy()},n.loadSource=function(){var t=this._multirate;if(t){var e=t.levels[t.currentLevel];e?this._load(this._config.isLive?Ee(e.currentUrl,this._config.defaultSpts):e.currentUrl,t.currentLevel):this._eventEmitter.emit(L.default.ERROR,{type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.PARSING_ERROR,fatal:!0,reason:"manifest parse error"})}else this._load(this._config.src)},n.setDownloadEnabled=function(t){void 0===t&&(t=!0),this._loader.setDownloadEnabled(t)},n.isSeekable=function(){return!(!this._metadata||!this._metadata.keyframes||this._config.isLive)},n.seek=function(t,e,i){var r;void 0===e&&(e=!1),void 0===i&&(i=!1),c.Log.i(qe,"seek: "+t+" "+e+" "+i);var n=null==(r=this._metadata)?void 0:r.keyframes;if((n||t<s.UNSEEKABLE_START_TIME_THRESHOLD)&&!i){this.setDownloadEnabled(!0);var o=n?je.default.getPosByTime(n,t):{time:0,position:0};o&&(this._loader.seek(o),this._baseTimeSec=o.time,this._demuxer.reset(!0),this._appendFLVHead=o.position>0,e&&this._eventEmitter.emit(L.default.SEEK_KEYFRAME,{keyFrameSec:o.time}))}else c.Log.w(qe,"no keyframe index"),this._eventEmitter.emit(L.default.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.CANNOT_SEEK,fatal:!1,reason:"can not seek"})},n.nextBackup=function(){return!1},n.streamingMux=function(t){this._loader.streamingMux(t)},n.setAvailableAbrLevels=function(t){},n.usePreload=function(){},n._load=function(t,e){void 0===e&&(e=0),this._multirate&&this._multirate.onLevelLoad(e);var i=this._multirate?this._multirate.levels[e]:void 0;this._config.audioCodec=this._config.audioCodec||(i?i.audioCodec:""),this._eventEmitter.emit(L.default.NEW_SOURCE,{sync:this._baseTimeSec,index:e});var r={url:t,frag:{start:this._baseTimeSec}};this._loader.load(r)},n._onDownload=function(t,e,i){var r=rt(t,e,i,this.levels[this.currentLevel].qualityType);this._eventEmitter.emit(L.default.DOWNLOAD,r)},n._onFlvSeekFirstChunk=function(t){if(this._flvHead){var e=new Uint8Array(t.byteLength+this._flvHead.length);return e.set(this._flvHead),e.set(new Uint8Array(t),this._flvHead.length),e.buffer}return t},e=t,(i=[{key:"levels",get:function(){return this._multirate?this._multirate.levels:[]}},{key:"protocol",get:function(){return s.Protocol.FLV}},{key:"isNetworkInUse",get:function(){return!0}},{key:"autoLevelEnabled",get:function(){return!!this._multirate&&this._multirate.autoLevelEnabled}},{key:"current",get:function(){if(this._multirate)return this._multirate.levels[this._multirate.currentLevel]}},{key:"mediaTrackNum",get:function(){return 1}},{key:"currentLevel",get:function(){return this._multirate?this._multirate.currentLevel:0},set:function(t){var e=this._multirate;if(e){var i=t>=0||t!==e.currentLevel;e.currentLevel=t;var r=e.levels[e.currentLevel];if(i&&r&&this._ready){var n=this._config.isLive?Ee(r.currentUrl,this._config.defaultSpts):r.currentUrl;this._flvKeyDetector&&this._flvKeyDetector.reset(),this._baseTimeSec=this._media.currentTime,this._eventEmitter.emit(L.default.LEVEL_SWITCHING,{level:e.currentLevel,startSec:this._baseTimeSec,smooth:!1,auto:!1}),this._demuxer.reset(!0),this._load(n,e.currentLevel)}}}},{key:"manualNextLevel",set:function(t){this.nextLevel=t}},{key:"nextLevel",get:function(){return this._multirate?this._multirate.nextLevel:0},set:function(t){this._ready||(this.currentLevel=t);var e=this._multirate;e&&(-1===t&&this._eventEmitter.emit(L.default.LEVEL_SWITCHING,{level:-1,startSec:this._media.currentTime,smooth:!0,auto:!0}),e.nextLevel=t)}}])&&He(e.prototype,i),r&&He(e,r),t}();function ze(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var We=function(t){var e,i;function r(e,i,r){var o;return void 0===r&&(r=!1),(o=t.call(this)||this)._config=void 0,o._eventEmitter=void 0,o._trans=void 0,o._media=void 0,o._initSegments={main:void 0,audio:void 0},o._initSegmentReady=!1,o._loadEnd=0,o._mediaSegmentsBuffer=[],o._isMultipart=!1,o._onMessage=function(t,e){switch(t){case L.default.PARSING_INIT_SEGMENT:var i=o._getInitSegment(e);if(i){if(o.emit(L.default.PARSING_INIT_SEGMENT,i),!o._initSegmentReady)for(;o._mediaSegmentsBuffer.length;)o.emit(L.default.PARSING_DATA,o._mediaSegmentsBuffer.shift());o._initSegmentReady=!0}break;case L.default.PARSING_DATA:e.segments.forEach((function(t){t.type===s.TrackType.AUDIO&&o._media.updateStreamTime(t.streamDTS,t.startDTS)})),o._initSegmentReady?o.emit(t,e):o._mediaSegmentsBuffer.push(e);break;case L.default.MANIFEST_PARSED:o._initSegmentReady=1===o._trans.mediaTrackNum,o.emit(t,e);break;case L.default.ERROR:o._config.retryWithBackup&&o._trans.nextBackup()?o.emit(L.default.USE_BACKUP):o.emit(t,e);break;case L.default.LOAD_END:o._loadEnd++,o._loadEnd>=o._trans.mediaTrackNum&&o.emit(t,e);break;default:o.emit(t,e)}},o._config=e,o._eventEmitter=new n.EventEmitter,o._media=i,o._isMultipart="hls"===e.box||"flv"===e.box&&z.verify(e.src),o._isMultipart?o._trans=new me(o._eventEmitter,o._config,i,r):o._trans=new Ge(o._eventEmitter,o._config,i,r),o}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var o,a,u,c=r.prototype;return c.init=function(){var t=this;this._bindEvents(this._eventEmitter),this._trans.init(),this.on("mainNotify",(function(e){t._eventEmitter.emit("mainNotify",e)}))},c.destroy=function(){var t=this._trans;t&&t.destroy(),this._eventEmitter&&this._eventEmitter.removeAllListeners()},c.loadSource=function(){this._trans.loadSource()},c.setDownloadEnabled=function(t){void 0===t&&(t=!0),this._trans.setDownloadEnabled(t)},c.seek=function(t,e,i){void 0===i&&(i=!1),this._trans.seek(t,e,i)},c.heartbeat=function(){},c.getCurrentUrl=function(){var t=this._trans.current;return t?t.currentUrl:""},c.isSeekable=function(){return!this._config.isLive},c.setAvailableAbrLevels=function(t){this._trans.setAvailableAbrLevels(t)},c.streamingMux=function(t){this._trans.streamingMux(t)},c.usePreload=function(){this._trans.usePreload()},c._bindEvents=function(t){var e=this._onMessage;t.on(L.default.PARSING_INIT_SEGMENT,(function(t){return e(L.default.PARSING_INIT_SEGMENT,t)})),t.on(L.default.PARSING_DATA,(function(t){return e(L.default.PARSING_DATA,t)})),t.on(L.default.ERROR,(function(t){return e(L.default.ERROR,t)})),t.on(L.default.LEVEL_UPDATED,(function(t){return e(L.default.LEVEL_UPDATED,t)})),t.on(L.default.LEVEL_SWITCH_FAILED,(function(t){return e(L.default.LEVEL_SWITCH_FAILED,t)})),t.on(L.default.LEVEL_SWITCHING,(function(t){return e(L.default.LEVEL_SWITCHING,t)})),t.on(L.default.SUBTITLE_LOADED,(function(t){return e(L.default.SUBTITLE_LOADED,t)})),t.on(L.default.MANIFEST_PARSED,(function(t){return e(L.default.MANIFEST_PARSED,t)})),t.on(L.default.LOAD_END,(function(t){return e(L.default.LOAD_END,t)})),t.on(L.default.BUFFER_FLUSHING,(function(t){return e(L.default.BUFFER_FLUSHING,t)})),t.on(L.default.SEEK_KEYFRAME,(function(t){return e(L.default.SEEK_KEYFRAME,t)})),t.on(L.default.PRELOAD_COMPLETE,(function(t){return e(L.default.PRELOAD_COMPLETE,t)})),t.on(L.default.LOADER_CHUNK_ARRIVAL,(function(t){return e(L.default.LOADER_CHUNK_ARRIVAL,t)})),t.on(L.default.MEDIA_DEMUX,(function(t){return e(L.default.MEDIA_DEMUX,t)})),t.on(L.default.MUX_INFO,(function(t){return e(L.default.MUX_INFO,t)})),t.on(L.default.ABR_INFO,(function(t){return e(L.default.ABR_INFO,t)})),t.on(L.default.NEW_SOURCE,(function(t){return e(L.default.NEW_SOURCE,t)})),t.on(L.default.DOWNLOAD,(function(t){return e(L.default.DOWNLOAD,t)})),t.on(L.default.DISCONTINUITY,(function(t){return e(L.default.DISCONTINUITY,t)})),t.on(L.default.KEY_FRAME,(function(t){return e(L.default.KEY_FRAME,t)})),t.on(L.default.METADATA,(function(t){return e(L.default.METADATA,t)}))},c._resetInitSegments=function(){this._initSegments.audio=this._initSegments.main=void 0,this._initSegmentReady=1===this._trans.mediaTrackNum,this._loadEnd=0},c._getInitSegment=function(t){var e=t;if(1===this._trans.mediaTrackNum);else{if(t.tracks.hasOwnProperty("video")?this._initSegments.main=t.tracks.video:this._initSegments.audio=t.tracks.audio,!this._initSegments.main||!this._initSegments.audio)return;e={tracks:{video:this._initSegments.main,audio:this._initSegments.audio}}}return this._trans.current&&(e.manifestAudioCodec=this._trans.current.audioCodec,e.manifestVideoCodec=this._trans.current.videoCodec),e},o=r,(a=[{key:"levels",get:function(){return this._trans.levels}},{key:"autoLevelEnabled",get:function(){return this._trans.autoLevelEnabled}},{key:"nextLevel",get:function(){return this._trans.nextLevel},set:function(t){this._resetInitSegments(),this._trans.manualNextLevel=t}},{key:"currentLevel",get:function(){return this._trans.currentLevel},set:function(t){this._resetInitSegments(),this._trans.currentLevel=t}},{key:"protocol",get:function(){return this._trans.protocol}},{key:"isNetworkInUse",get:function(){return this._trans.isNetworkInUse}},{key:"audioTrack",get:function(){return this._trans.audioTrack||0},set:function(t){this._resetInitSegments(),void 0!==typeof this._trans.audioTrack&&(this._trans.audioTrack=t)}},{key:"audioTracks",get:function(){return this._trans.audioTracks||[]}},{key:"subtitleTrack",get:function(){return"number"==typeof this._trans.subtitleTrack?this._trans.subtitleTrack:-1},set:function(t){void 0!==typeof this._trans.subtitleTrack&&(this._trans.subtitleTrack=t)}},{key:"subtitleTracks",get:function(){return this._trans.subtitleTracks||[]}},{key:"isMultipart",get:function(){return this._isMultipart}}])&&ze(o.prototype,a),u&&ze(o,u),r}(n.EventEmitter);function Xe(){return(Xe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Ye(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qe,Je=function(){function t(){var t=this;this._trans=void 0,this._eQueue=[],this._src=void 0,this._timeout=void 0,this._config=void 0,this._level=void 0,this._events=[L.default.NEW_SOURCE,L.default.LOADER_CHUNK_ARRIVAL,L.default.KEY_FRAME],this._onEvents=function(e){return function(i){t._eQueue.push({type:e,data:i})}},this._preloadError=function(){t.destroy()},this._onManifestParsed=function(e){"number"==typeof t._level&&t._trans&&(t._trans.currentLevel=t._level),t._eQueue.push({type:L.default.MANIFEST_PARSED,data:e})}}var e,i,r,n=t.prototype;return n.start=function(t,e,i,r){var n=this;if(this._level=r,this._trans&&this.destroy(),t=t||i.src,this._config=i=Xe({},i),t&&i.isLive){_.setSrc(i,t),this._src=i.src;var o=new We(i,e,!0);this._trans=o,o.on(L.default.ERROR,this._preloadError),this._events.forEach((function(t){o.on(t,n._onEvents(t))})),o.on(L.default.MANIFEST_PARSED,this._onManifestParsed),o.init(),o.loadSource()}this._startTimeout()},n.check=function(t){if(t&&this._src&&this._config){if("string"==typeof t)return t===this._src;try{return JSON.stringify(t)===JSON.stringify(this._src)}catch(t){}}return!1},n.destroy=function(){this._eQueue=[],this._trans&&(this._trans.destroy(),this._trans.removeAllListeners(),this._trans=void 0),this._stopTimeout()},n.use=function(){var t=this;this._eQueue.forEach((function(e){t._trans&&t._trans.emit(e.type,e.data)})),this._eQueue=[],this._trans=void 0,this._stopTimeout()},n._startTimeout=function(){var t,e=this;this._stopTimeout(),this._timeout=setTimeout((function(){c.Log.i("preload-flv","timeout"),e.destroy()}),(null==(t=this._config)?void 0:t.flvPreloadTimeout)||3e3)},n._stopTimeout=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0)},e=t,(i=[{key:"trans",get:function(){return this._trans}}])&&Ye(e.prototype,i),r&&Ye(e,r),t}(),Ze=function(){function t(t,e){this._media=void 0,this._config=void 0,this._startDelay=5e3,this._enabled=!1,this._lastTickTime=0,this._media=t,this._config=e}var e=t.prototype;return e.start=function(){this._enabled=!0,this._lastTickTime=performance.now(),this._startDelay=this._config.startDelay?1e3*this._config.startDelay:this._startDelay},e.stop=function(){this._enabled=!1},e.tick=function(){if(this._enabled&&this._media.video&&!this._media.video.paused){if(this._startDelay>0){var t=performance.now();return this._startDelay-=t-this._lastTickTime,void(this._lastTickTime=t)}this._nextPlayBackRate(this._media.bufferedSec(),this._media.video)}},e._nextPlayBackRate=function(t,e){var i=1,r=this._config.rule,n=0;for(n=0;n<r.length&&!(e.playbackRate>=r[n].rate);n++);var o=n<r.length-1?r[n+1]:null,a=n>0?r[n-1]:null;i=r[n].rate,a&&t>a.lower&&(i=a.rate),o&&t<o.upper&&(i=o.rate),e.playbackRate!==i&&(c.Log.i("playback-rate-manager","auto change playback rate from "+e.playbackRate+" to "+i),e.playbackRate=i)},t}();function $e(){return($e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ti(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.NONE=0]="NONE",t[t.WAITING=1]="WAITING",t[t.SEEK=2]="SEEK",t[t.SELECT_BITRATE=3]="SELECT_BITRATE",t[t.INIT=4]="INIT",t[t.LOADING=5]="LOADING"}(Qe||(Qe={}));var ei,ii,ri=function(t){var e,i;function r(e,i){var r;if((r=t.call(this)||this)._video=void 0,r._error=void 0,r._monitor=void 0,r._hbTimer=void 0,r._stat=Qe.INIT,r._mediaInfo=void 0,r._levelSwitchId=0,r._startLevel=void 0,r._nextLevel=[],r._nextAudio=void 0,r._playingLevel=0,r._eventHandlers=void 0,!e)throw new Error("video is null");return r._video=e,r._monitor=i,r._eventHandlers={loadedmetadata:r._onVideoLoadedmetadata.bind(ti(r)),loadeddata:r._onVideoLoadeddata.bind(ti(r)),canplay:r._onVideoCanplay.bind(ti(r)),seeking:r._onVideoSeeking.bind(ti(r)),seeked:r._onVideoSeeked.bind(ti(r)),waiting:r._onVideoWaiting.bind(ti(r)),playing:r._onVideoPlaying.bind(ti(r)),pause:r._onVideoPause.bind(ti(r)),play:r._onVideoPlay.bind(ti(r)),error:r._onVideoError.bind(ti(r)),ended:r._onVideoEnded.bind(ti(r)),ratechange:r._onVideoRatechange.bind(ti(r)),durationchange:r._onVideoDurationchange.bind(ti(r)),timeupdate:r._onVideoTimeupdate.bind(ti(r)),progress:r._onVideoProgress.bind(ti(r))},r._bindVideoEvents(),r}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n=r.prototype;return n.destroy=function(){this._stopHeartbeat(),this._unbindVideoEvents(),this.removeAllListeners()},n.getError=function(){return this._error},n.getMediaInfo=function(){return $e({},this._mediaInfo)},n.setStartLevel=function(t){},n.getStartLevel=function(){return 0},n.getAudioTracks=function(){return[]},n.setAudioTrack=function(t){},n.getAudioTrack=function(){return 0},n.getSubtitleTracks=function(){return[]},n.setSubtitleTrack=function(t){},n.getSubtitleTrack=function(){return 0},n.getAutoLevelEnabled=function(){return!1},n._bindVideoEvents=function(){if(this._video)for(var t in this._eventHandlers)this._video.addEventListener(t,this._eventHandlers[t])},n._unbindVideoEvents=function(){if(this._video)for(var t in this._eventHandlers)this._video.removeEventListener(t,this._eventHandlers[t])},n._onVideoLoadedmetadata=function(t){},n._onVideoLoadeddata=function(){c.Log.i("kernel-base","loadeddata"),this.emit(L.default.LOADEDDATA)},n._onVideoCanplay=function(){c.Log.i("kernel-base","canplay "+!!this._stat),this.emit(L.default.CANPLAY)},n._onVideoSeeking=function(){this.emit(L.default.SEEKING)},n._onVideoSeeked=function(){this.emit(L.default.SEEKED)},n._onVideoWaiting=function(){},n._onVideoPlaying=function(){c.Log.i("kernel-base","playing"),this._error||(this._stat=Qe.NONE,this._startHeartbeat(),this.emit(L.default.PLAYING))},n._onVideoPause=function(){c.Log.i("kernel-base","pause"),this._video.ended||this.emit(L.default.PAUSE)},n._onVideoPlay=function(){c.Log.i("kernel-base","play",this._error),this.emit(L.default.PLAY)},n._onVideoError=function(t){},n._onVideoEnded=function(){c.Log.i("kernel-base","ended"),this.emit(L.default.ENDED),this._stopHeartbeat()},n._onVideoRatechange=function(){c.Log.v("kernel-base","ratechange "+this._video.playbackRate),this.emit(L.default.RATE_CHANGE,this._video.playbackRate)},n._onVideoDurationchange=function(){this.emit(L.default.DURATION_CHANGE,this._video.duration)},n._onVideoTimeupdate=function(){this.emit(L.default.TIMEUPDATE)},n._onVideoProgress=function(){this.emit(L.default.PROGRESS)},n._onError=function(t){this._error=t.details||x.ErrorDetails.UNKNOWN,c.Log.i("kernel-base","error",this._error,t),this.emit(L.default.ERROR,t)},n._heartbeat=function(){this.emit(L.default.HEARTBEAT)},n._startHeartbeat=function(){this._hbTimer||(this._hbTimer=setInterval(this._heartbeat.bind(this),1e3))},n._stopHeartbeat=function(){this._hbTimer&&(clearInterval(this._hbTimer),this._hbTimer=void 0)},r}(n.EventEmitter);!function(t){t.WIDEVINE="com.widevine.alpha",t.PLAYREADY="com.microsoft.playready",t.FAIRPLAY="com.apple.fairplay"}(ei||(ei={})),function(t){t.WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"}(ii||(ii={}));var ni="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):void 0;function oi(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ai="eme",si=function(t){var e,i;function r(e,i){var r;return(r=t.call(this)||this)._media=void 0,r._config=void 0,r._drmSystemOptions={audioRobustness:"SW_SECURE_CRYPTO",videoRobustness:"SW_SECURE_DECODE"},r._mediaKeysList=[],r._hasSetMediaKeys=!1,r._loader=void 0,r._loaderConfig=void 0,r._mediaKeysPromise=void 0,r._licenseServerUrl="",r._onMediaEncrypted=function(t){if(c.Log.i(ai,'Media is encrypted using "'+t.initDataType+'" init data type'),!r._mediaKeysPromise)return c.Log.e(ai,"Fatal: Media is encrypted but no CDM access or no keys have been requested"),void r.emit(L.default.ERROR,{type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0,reason:"media is encrypted but no CDM access or no keys have been requested"});var e=function(e){r._media.video&&(r._attemptSetMediaKeys(e),r._generateRequestWithPreferredKeySession(t.initDataType,t.initData))};r._mediaKeysPromise.then(e).catch(e)},r._onKeySessionMessage=function(t){var e=t.target;r._requestLicense(t.message,e)},r._onLoaderError=function(t,e){e.fatal&&r.emit(L.default.ERROR,{type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,reason:e.text,statusCode:e.code})},r._media=e,r._config=i,r._media.video&&r._media.video.addEventListener("encrypted",r._onMediaEncrypted),r._loaderConfig={useFetch:!1,maxRetry:r._config.keyLoadingMaxRetry,connectionTimeout:r._config.keyConnectionTimeout,transmissionTimeout:r._config.keyTransmissionTimeout,retryDelay:r._config.keyLoadingRetryDelay},r}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,r.getSupportedMediaKeySystemConfigurations=function(t,e,i){var r={audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.5"',robustness:i.audioRobustness||""},{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:i.audioRobustness||""}],videoCapabilities:[]};return e.forEach((function(t){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"',robustness:i.videoRobustness||""})})),[r]};var n,o,a,s=r.prototype;return s.onManifestParsed=function(t){var e=this,i=t.reduce((function(t,e){return t&&(e.drmSchemaId===ii.WIDEVINE||!e.drmSchemaId)}),!0),r="chrome"===u.default.name&&u.default.version.major>=68||u.default.firefox;if(i&&ni&&r){this._licenseServerUrl=t.reduce((function(t,e){return t||e.drmToken||""}),"");var n=ei.WIDEVINE,o=t.map((function(t){return t.videoCodec}));c.Log.i(ai,"on manifest parsed",n,o),this._attemptKeySystemAccess(ei.WIDEVINE,o)}else setTimeout((function(){return e.emit(L.default.ERROR,{type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_UNSUPPORTED,fatal:!0,reason:"DRM unsupported."})}),0)},s.reset=function(){var t,e=this;return c.Log.i(ai,"reset"),this._mediaKeysList.map((function(t){if(t.mediaKeysSession)return t.mediaKeysSession.removeEventListener("message",e._onKeySessionMessage),t.mediaKeysSession.close().catch((function(){}))})),this._mediaKeysList=[],this._hasSetMediaKeys=!1,null==(t=this._media.video)?void 0:t.setMediaKeys(null)},s.destory=function(){var t=this,e=this._media.video;if(e){e.removeEventListener("encrypted",this._onMediaEncrypted);var i=this._mediaKeysList;Promise.all(i.map((function(e){if(e.mediaKeysSession)return e.mediaKeysSession.removeEventListener("message",t._onKeySessionMessage),e.mediaKeysSession.close().catch((function(){}))}))).then((function(){if(e)return e.setMediaKeys(null)})).catch((function(){})),this.removeAllListeners()}},s._attemptSetMediaKeys=function(t){if(!this._media.video)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return c.Log.e(ai,"Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.emit(L.default.ERROR,{type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0,reason:"media is encrypted but no CDM access or no keys have been obtained yet"});c.Log.i(ai,"Setting keys for encrypted media"),this._media.video.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},s._generateRequestWithPreferredKeySession=function(t,e){var i=this,r=this._mediaKeysList[0];if(!r)return c.Log.e(ai,"Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.emit(L.default.ERROR,{type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0,reason:"media is encrypted but not any key-system access has been obtained yet"});if(r.mediaKeysSessionInitialized)c.Log.i(ai,"Key-Session already initialized but requested again");else{var n=r.mediaKeysSession;if(!n)return c.Log.e(ai,"Fatal: Media is encrypted but no key-session existing"),void this.emit(L.default.ERROR,{type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0,reason:"media is encrypted but no key-session existing"});if(!e)return c.Log.i(ai,"Fatal: initData required for generating a key session is null"),void this.emit(L.default.ERROR,{type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0,reason:"initData required for generating a key session is null"});c.Log.i(ai,'Generating key-session request for "'+t+'" init data type'),r.mediaKeysSessionInitialized=!0,n.generateRequest(t,e).then((function(){c.Log.d(ai,"Key-session generation succeeded")})).catch((function(t){c.Log.e(ai,"Error generating key-session request:",t),i.emit(L.default.ERROR,{type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1,reason:"error generating key-session request:"+t})}))}},s._attemptKeySystemAccess=function(t,e){var i=this,n=r.getSupportedMediaKeySystemConfigurations(t,e,this._drmSystemOptions);if(c.Log.i(ai,"Requesting encrypted media key-system access"),ni){var o=ni(t,n);this._mediaKeysPromise=o.then((function(e){var r={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};i._mediaKeysList.push(r);var n=Promise.resolve().then((function(){return e.createMediaKeys()})).then((function(t){return r.mediaKeys=t,i._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession()).addEventListener("message",i._onKeySessionMessage,!1)})),t}));return n.catch((function(t){c.Log.e(ai,"Failed to create media-keys:",t)})),n})),o.catch((function(e){c.Log.e(ai,'Failed to obtain key-system "'+t+'" access:',e)}))}else c.Log.i(ai,"no requestMediaKeySystemAccess")},s._getLicenseServerUrl=function(t){switch(t){case ei.WIDEVINE:if(!this._config.widevineLicenseUrl)break;return this._config.widevineLicenseUrl;case ei.PLAYREADY:if(!this._config.playreadyLicenseUrl)break;return this._config.playreadyLicenseUrl;case ei.FAIRPLAY:if(!this._config.fairplayLicenseUrl)break;return this._config.fairplayLicenseUrl}throw new Error('no license server URL configured for key-system "'+t+'"')},s._requestLicense=function(t,e){var i=this,r=this._mediaKeysList[0];if(!r)return c.Log.e(ai,"Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.emit(L.default.ERROR,{type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0,reason:"media is encrypted but no key-system access has been obtained yet"});this._disposeLoader();var n={onError:this._onLoaderError,onEnd:function(t,r){i._disposeLoader(),r instanceof ArrayBuffer&&e.update(r)}},o=this._loader=new zt,a={requestMethod:"POST",requestBody:t,url:this._licenseServerUrl||this._getLicenseServerUrl(r.mediaKeySystemDomain),responseType:"arraybuffer"};o.load(a,n,this._loaderConfig)},s._disposeLoader=function(){this._loader&&this._loader.destroy()},n=r,(o=[{key:"isActive",get:function(){return!(!this._media.video||!this._media.video.mediaKeys)}}])&&oi(n.prototype,o),a&&oi(n,a),r}(n.EventEmitter);function ui(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ci="mse",li=function(t){var e,i;function r(e){var i;return(i=t.call(this)||this)._config=void 0,i.video=void 0,i._sourceBuffer=void 0,i._mediaSource=null,i._mimeCodec=void 0,i._cleanUpTask=void 0,i._appendQueue=void 0,i._hasVideo=void 0,i._hasAudio=void 0,i._endOfData=!1,i._appendEnabled=void 0,i._duration=null,i._appendError=0,i._appendBufferError=!1,i._mseDuration=null,i._sbHandler={},i._souceBufferLocked=!1,i._sbAppendStarted=void 0,i._startBufSec=0,i._startBufTimer=void 0,i._onSourceOpen=function(){c.Log.i(ci,"MediaSource onSourceOpen"),i._mediaSource&&(i._mediaSource.removeEventListener("sourceopen",i._onSourceOpen),i._checkSourceBuffer(),i.refresh(),i.emit(L.default.MSE_OPEN))},i._onSourceEnded=function(){c.Log.i(ci,"MediaSource onSourceEnded")},i._onSourceClose=function(){c.Log.i(ci,"MediaSource onSourceClose"),i._mediaSource&&(i._mediaSource.removeEventListener("sourceopen",i._onSourceOpen),i._mediaSource.removeEventListener("sourceended",i._onSourceEnded),i._mediaSource.removeEventListener("sourceclose",i._onSourceClose))},i._onSourceBufferUpdateEnd=function(t){i._update(t),i._endOfData&&i._endOfStream(),i._updateDuration(),i.emit(L.default.MSE_UPDATE)},i._onSourceBufferError=function(t){c.Log.e(ci,"SourceBuffer Error: ",t),i.emit(L.default.ERROR,{type:x.ErrorTypes.MSE_ERROR,details:x.ErrorDetails.SOURCEBUFFER_ERROR,fatal:!0,reason:"source buffer error"})},i._startBufEnded=function(){c.Log.i(ci,"startPlayBufEnd"),i._removeStartBufTimer(),i._startBufSec=0,i.refresh()},i._config=e,i._hasVideo=!1,i._hasAudio=!1,i._appendQueue={video:[],audio:[]},i._sourceBuffer={},i._cleanUpTask={video:[],audio:[]},i._mimeCodec={},i._sbAppendStarted={},i._appendEnabled=!0,i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n,o,a,s=r.prototype;return s.attach=function(t){var e=this;this.video=t;var i=xt();if(i){var r=this._mediaSource=new i;this.video.src=URL.createObjectURL(r),this.video.load(),r.addEventListener("sourceopen",this._onSourceOpen),r.addEventListener("sourceended",this._onSourceEnded),r.addEventListener("sourceclose",this._onSourceClose),this._souceBufferLocked=!1}else setTimeout((function(){e.emit(L.default.ERROR,{type:x.ErrorTypes.MSE_ERROR,details:x.ErrorDetails.MEDIASOURCE_ERROR,fatal:!0,reason:"MediaSource is not support"})}),0)},s.trackInfo=function(t){t.hasAudio&&t.audioCodec&&(this._mimeCodec.audio='audio/mp4; codecs="'+t.audioCodec+'"'),t.hasVideo&&t.videoCodec&&(this._mimeCodec.video='video/mp4; codecs="'+t.videoCodec+'"'),this._hasAudio=this._hasAudio||t.hasAudio,this._hasVideo=this._hasVideo||t.hasVideo,this._checkSourceBuffer(),t.segments.length&&this.mediaSegment(t.segments)},s.updateDuration=function(t){this._duration=t,this._updateDuration()},s.setStartBufSec=function(t){c.Log.i(ci,"startPlayBufSec: "+t),this._removeStartBufTimer(),this._startBufSec=t,this._startBufTimer=setTimeout(this._startBufEnded,1e3*t)},s._updateDuration=function(){if(null!==this._duration&&this.video&&this._mediaSource&&this._sourceBuffer&&0!==this.video.readyState&&"open"===this._mediaSource.readyState){for(var t in this._sourceBuffer)if(this._sourceBuffer[t]&&this._sourceBuffer[t].updating)return;var e=this.video.duration;if(null===this._mseDuration&&(this._mseDuration=this._mediaSource.duration),this._config.isLive)this._mseDuration=this._mediaSource.duration=1/0;else if(this._duration!==this._mseDuration&&this._duration!==e||!M(e)){var i=!0;for(var r in this._sourceBuffer)i=i&&this.bufferedEndByType(r)<this._duration;i&&(this._mseDuration=this._mediaSource.duration=this._duration),this._duration=null}}},s._checkSourceBuffer=function(){var t=(this._hasAudio?1:0)+(this._hasVideo?1:0),e=(this._mimeCodec.audio?1:0)+(this._mimeCodec.video?1:0);if(c.Log.v(ci,"checkSourceBuffer",t,e,this._mimeCodec),this._mediaSource&&"open"===this._mediaSource.readyState&&t>0&&e>=t)for(var i in this._mimeCodec)this._mimeCodec[i]&&this._addSourceBuffer(i)},s._addSourceBuffer=function(t){var e=this;if(!this._sourceBuffer[t]&&!this._souceBufferLocked){try{this._mediaSource&&(this._sourceBuffer[t]=this._mediaSource.addSourceBuffer(this._mimeCodec[t]),this._sbAppendStarted[t]=!1)}catch(t){return c.Log.e(ci,t),void this.emit(L.default.ERROR,{type:x.ErrorTypes.MSE_ERROR,details:x.ErrorDetails.ADDSOURCEBUFFER_ERROR,fatal:!0,reason:t.message})}var i=this._sourceBuffer[t];this._sbHandler[t]={updateend:function(){e._onSourceBufferUpdateEnd(t)},error:function(t){e._onSourceBufferError(t)}},i.addEventListener("error",this._sbHandler[t].error),i.addEventListener("updateend",this._sbHandler[t].updateend),this._duration&&this._mediaSource&&(this._mediaSource.duration=this._duration)}},s._hasPendingData=function(){return!(!this._appendQueue||!(this._appendQueue.video&&this._appendQueue.video.length||this._appendQueue.audio&&this._appendQueue.audio.length))},s.refresh=function(){for(var t in this._sourceBuffer)this._update(t)},s._doAppend=function(t){if(this._appendQueue[t]&&this._appendQueue[t].length>0){if(!this._appendEnabled)return void(this._getBufferQueueSize()>209715200&&!this._appendBufferError&&(this._appendBufferError=!0,this.emit(L.default.ERROR,{type:x.ErrorTypes.MSE_ERROR,details:x.ErrorDetails.APPENDBUFFER_ERROR,fatal:!0,reason:"bufferfull"})));if(this._sourceBuffer[t]&&!this._sourceBuffer[t].updating&&!this._appendBufferError){var e=this._appendQueue[t].shift();this._appendBuffer(e)}}},s.mediaSegment=function(t){var e=this;t.forEach((function(t){var i=t.type;e._appendQueue[i].push(t),e._sourceBuffer[i]&&(e._souceBufferLocked=!0,e._update(i))}))},s.bufferedByType=function(t){var e=this._sourceBuffer[t];return e&&e.buffered.length>0?{start:e.buffered.start(0),end:e.buffered.end(e.buffered.length-1)}:{start:0,end:0}},s.bufferedEndByType=function(t){var e=this._sourceBuffer[t];return e&&e.buffered.length>0?e.buffered.end(e.buffered.length-1):0},s.bufferSliceNumByType=function(t){var e=this._sourceBuffer[t];return e?e.buffered.length:0},s.pendingSecByType=function(t){var e=this._appendQueue[t];return e?e.reduce((function(t,e){return t+e.endDTS-e.startDTS}),0):0},s.pendingNum=function(){var t=0;for(var e in this._appendQueue)t+=this._appendQueue[e].length;return t},s._calculateRemoveRange=function(t){var e=this.video;if(e&&!e.seeking){var i=e.currentTime;if(this._sourceBuffer[t]){var r=this._cleanUpTask[t],n=this._sourceBuffer[t].buffered;if(n.length>=1&&i-n.start(0)>=10){var o=i-5;if(r.length&&0===r[r.length-1].start&&r[r.length-1].end===o)return;r.push({start:0,end:o})}}}},s._cleanUpRange=function(t,e){try{for(var i=0;i<t.buffered.length;i++){var r=t.buffered.start(i),n=t.buffered.end(i),o=Math.max(r,e.start),a=Math.min(n,e.end);if(a>o)return t.remove(o,a),this.emit(L.default.MSE_REMOVE),!(e.end>n&&i<t.buffered.length-1&&(e.start=Math.max(e.start,a),1));if(!(e.end>a))break;e.start=Math.max(e.start,a)}return!0}catch(e){return!(t&&t.updating)}},s._appendBuffer=function(t){if(t&&this._sourceBuffer[t.type]&&this.video&&!this.video.error)try{this._sourceBuffer[t.type].appendBuffer(t.payload.buffer),this._sbAppendStarted[t.type]=!0}catch(o){if(c.Log.w(ci,o.code,o),22!==o.code)this._appendError?this._appendError++:this._appendError=1,this._appendError>this._config.appendErrorMaxRetry?(this._appendBufferError=!0,this.emit(L.default.ERROR,{type:x.ErrorTypes.MSE_ERROR,details:x.ErrorDetails.APPENDBUFFER_ERROR,fatal:!0,reason:o.message})):this._appendQueue[t.type].unshift(t);else{var e=this.video,i=this._config;this._appendEnabled=!1,this._appendQueue[t.type].unshift(t);var r=e.buffered.end(e.buffered.length-1)-e.currentTime;if(i.lazyLoadMaxDuration>30&&i.lazyLoad)i.lazyLoadMaxDuration=Math.max(i.lazyLoadMaxDuration/2,30),i.lazyLoadRecoverDuration=20;else{var n=e.currentTime-e.buffered.start(0);r<30?(this._calculateRemoveRange(t.type),this.hasCleanUpTask(t.type)&&this._cleanUp(t.type)):n<10&&this.emit(L.default.ERROR,{type:x.ErrorTypes.MSE_ERROR,details:x.ErrorDetails.APPENDBUFFER_ERROR,fatal:!0,reason:"bufferfull-appendError"})}c.Log.i(ci,"mse bufferfull"),this.emit(L.default.MSE_BUFFER_FULL)}}},s.flush=function(t,e,i){var r=0,n=Number.POSITIVE_INFINITY;for(var o in this._sbAppendStarted={},this._endOfData=!1,this._sourceBuffer)if(this._sbAppendStarted[o]=!1,(!i||i===o)&&this._sourceBuffer[o]){if(t){r=Math.max(r,t);for(var a=this._appendQueue[o].length-1;a>=0&&(!this._appendQueue[o][a].startPTS||this._appendQueue[o][a].startPTS>=t);a--)this._appendQueue[o].pop()}else this._appendQueue[o]=[];e&&(n=Math.min(n,e)),this._cleanUpTask[o].push({start:r,end:n}),this._cleanUp(o)}this._appendEnabled=!0},s.setAppendEnabled=function(t){!this._appendEnabled&&t?(this._appendEnabled=t,this.refresh()):this._appendEnabled=t},s.getAppendEnabled=function(){return this._appendEnabled},s.endOfData=function(){c.Log.i(ci,"data end"),this._endOfData=!0,!this._hasPendingData()&&(this._config.isLive||!this._config.isLive&&this._duration)&&this.video&&this.video.buffered.length&&this._endOfStream()},s.ended=function(){return this._endOfData},s._endOfStream=function(){var t=this._mediaSource;if(t&&"open"===t.readyState){for(var e in this._sourceBuffer){var i=this._sourceBuffer[e];if(i&&i.updating)return}try{c.Log.i(ci,"end of stream"),t.endOfStream()}catch(t){c.Log.e(ci,t),this.emit(L.default.ERROR,{type:x.ErrorTypes.MSE_ERROR,details:x.ErrorDetails.ENDOFSTREAM_ERROR,fatal:!0,reason:t.message})}}},s.destroy=function(){if(this._mediaSource){var t=this._mediaSource;if(this._endOfStream(),"closed"!==t.readyState)for(var e in this._sourceBuffer)this._sourceBuffer[e]&&this._sbHandler[e]&&(this._sourceBuffer[e].removeEventListener("error",this._sbHandler[e].error),this._sourceBuffer[e].removeEventListener("updateend",this._sbHandler[e].updateend),t.removeSourceBuffer(this._sourceBuffer[e]));t.removeEventListener("sourceopen",this._onSourceOpen),t.removeEventListener("sourceended",this._onSourceEnded),t.removeEventListener("sourceclose",this._onSourceClose),this._mediaSource=null}this._removeStartBufTimer(),this.removeAllListeners(),this._appendQueue={},this._mimeCodec={},this._sbAppendStarted={},this._cleanUpTask={},this._sourceBuffer={},this._sbHandler={}},s.hasCleanUpTask=function(t){var e=0;if(void 0===t)for(var i in this._cleanUpTask)e+=this._cleanUpTask[i].length;else this._cleanUpTask[t]&&(e=this._cleanUpTask[t].length);return e>0},s.hasSourceBuffer=function(){return!!Object.keys(this._sourceBuffer).length},s.hasTrackInfo=function(){return!!Object.keys(this._mimeCodec).length},s.hasSourceBufferAppendStarted=function(){if(Object.keys(this._sbAppendStarted).length){var t=!0;for(var e in this._sbAppendStarted)t=t&&this._sbAppendStarted[e];return t}return!1},s._getBufferQueueSize=function(){var t=0;for(var e in this._appendQueue)t+=this._appendQueue[e].reduce((function(t,e){return e.payload&&e.payload.byteLength?t+e.payload.byteLength:t}),0);return t},s.getBufferQueueSec=function(t){var e=this;return this._appendQueue?(t?[t]:Object.keys(this._appendQueue)).reduce((function(t,i){return e._appendQueue[i]&&e._appendQueue[i].length>0&&(0===Object.keys(e._sourceBuffer).length||e._sourceBuffer[i])?Math.max(t,e._appendQueue[i].reduce((function(t,e){var i=e.endDTS-e.startDTS;return i?t+i:t}),0)):t}),0):0},s._update=function(t){if(this.hasCleanUpTask(t)&&this._cleanUp(t),this._startBufSec>0){if(!this.hasTrackInfo())return;for(var e in this._sourceBuffer)if(this.pendingSecByType(e)<this._startBufSec)return;this._startBufEnded()}this._doAppend(t)},s._cleanUp=function(t){for(var e=this._cleanUpTask[t];e&&e.length;){var i=e[0],r=this._sourceBuffer[t];if(r){if(r.updating||!this._cleanUpRange(r,i))return;e.shift()}else e.shift()}this.refresh()},s._removeStartBufTimer=function(){this._startBufTimer&&(clearTimeout(this._startBufTimer),this._startBufTimer=void 0)},n=r,(o=[{key:"readyState",get:function(){return this._mediaSource?this._mediaSource.readyState:"closed"}}])&&ui(n.prototype,o),a&&ui(n,a),r}(n.EventEmitter),fi=i("./src/demux/video/color-space.ts"),di=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var t=["","lr","rl"],e=["start","middle","end","left","right"];function i(t,e){if("string"!=typeof e)return!1;if(!Array.isArray(t))return!1;var i=e.toLowerCase();return!!~t.indexOf(i)&&i}function r(t){return i(e,t)}function n(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)t[a]=o[a]}return t}function o(e,o,a){var s=this,u={enumerable:!0};s.hasBeenReset=!1;var c="",l=!1,f=e,d=o,h=a,p=null,_="",v=!0,m="auto",g="start",y=50,E="middle",w=50,A="middle";Object.defineProperty(s,"id",n({},u,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",n({},u,{get:function(){return l},set:function(t){l=!!t}})),Object.defineProperty(s,"startTime",n({},u,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",n({},u,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",n({},u,{get:function(){return h},set:function(t){h=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",n({},u,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",n({},u,{get:function(){return _},set:function(e){var r=function(e){return i(t,e)}(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");_=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",n({},u,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",n({},u,{get:function(){return m},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",n({},u,{get:function(){return g},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",n({},u,{get:function(){return y},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",n({},u,{get:function(){return E},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",n({},u,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",n({},u,{get:function(){return A},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");A=e,this.hasBeenReset=!0}})),s.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}(),hi=function(){function t(){}return t.prototype.decode=function(t,e){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))},t}(),pi=function(){function t(){this.values=Object.create(null)}var e=t.prototype;return e.set=function(t,e){this.get(t)||""===e||(this.values[t]=e)},e.get=function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},e.has=function(t){return t in this.values},e.alt=function(t,e,i){for(var r=0;r<i.length;++r)if(e===i[r]){this.set(t,e);break}},e.integer=function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},e.percent=function(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){var i=parseFloat(e);if(i>=0&&i<=100)return this.set(t,i),!0}return!1},t}();function _i(t,e,i,r){var n=r?t.split(r):[t];for(var o in n)if("string"==typeof n[o]){var a=n[o].split(i);2===a.length&&e(a[0],a[1])}}var vi=new di(0,0,""),mi="middle"===vi.align?"middle":"center";function gi(t,e,i){var r=t;function n(){var e=function(t){function e(t,e,i,r){return 3600*(0|t)+60*(0|e)+(0|i)+parseFloat(r||0)}var i=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return i?parseFloat(i[2])>59?e(i[2],i[3],0,i[4]):e(i[1],i[2],i[3],i[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=n(),o(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.substr(3),o(),e.endTime=n(),o(),function(t,e){var r=new pi;_i(t,(function(t,e){var n;switch(t){case"region":for(var o=i.length-1;o>=0;o--)if(i[o].id===e){r.set(t,i[o].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":n=e.split(","),r.integer(t,n[0]),r.percent(t,n[0])&&r.set("snapToLines",!1),r.alt(t,n[0],["auto"]),2===n.length&&r.alt("lineAlign",n[1],["start",mi,"end"]);break;case"position":n=e.split(","),r.percent(t,n[0]),2===n.length&&r.alt("positionAlign",n[1],["start",mi,"end","line-left","line-right","auto"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start",mi,"end","left","right"])}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");var n=r.get("line","auto");"auto"===n&&-1===vi.line&&(n=-1),e.line=n,e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align",mi);var o=r.get("position","auto");"auto"===o&&50===vi.position&&(o="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=o}(t,e)}var yi=function(){function t(){this.state="INITIAL",this.buffer="",this.decoder=new hi,this.regionList=[],this.cue=null,this.style="",this.oncue=void 0,this.onstyle=void 0,this.onparsingerror=void 0,this.onflush=void 0}var e=t.prototype;return e.parse=function(t){var e=this;function i(){var t=e.buffer,i=0;for(t=t.replace(/<br(?: \/)?>/gi,"\n");i<t.length&&"\r"!==t[i]&&"\n"!==t[i];)++i;var r=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),r}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var r="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var n=(r=i()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!n||!n[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var o=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(o?o=!1:r=i(),e.state){case"HEADER":/:/.test(r)?_i(r,(function(t,e){}),/:/):r||(e.state="ID");continue;case"NOTE":r||(e.state="ID");continue;case"STYLE":r?e.style+=r:(e.style&&(e.onstyle&&e.onstyle(e.style),e.style=""),e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){e.state="NOTE";break}if(/^STYLE($|[ \t])/.test(r)){e.state="STYLE";break}if(!r)continue;if(e.cue=new di(0,0,""),e.state="CUE",-1===r.indexOf("--\x3e")){e.cue.id=r;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{gi(r,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var a=-1!==r.indexOf("--\x3e");if(!r||a&&(o=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=r;continue;case"BADCUE":r||(e.state="ID")}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},e.flush=function(){try{if((this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state||"BADWEBVTT"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){this.onparsingerror&&this.onparsingerror(t)}return this.onflush&&this.onflush(),this},t}(),Ei=i("./src/utils/decode-utf8.ts"),wi=9e4;function Ai(t,e,i,r){void 0===i&&(i=1),void 0===r&&(r=!1);var n=t*e*i;return r?Math.round(n):n}var bi=i("./src/remux/mp4-remuxer.ts"),Si=/\r\n|\n\r|\n|\r/g,Ti=function(t,e,i){return void 0===i&&(i=0),t.substr(i,e.length)===e},xi=function(t){var e=parseInt(t.substr(-3)),i=parseInt(t.substr(-6,2)),r=parseInt(t.substr(-9,2)),n=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;if(!(M(e)&&M(i)&&M(r)&&M(n)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*i,e+=6e4*r,e+=36e5*n},Li=function(t){for(var e=5381,i=t.length;i;)e=33*e^t.charCodeAt(--i);return(e>>>0).toString()},Ci=function(t,e,i){var r=t[e],n=t[r.prevCC];if(!n||!n.new&&r.new)return t.ccOffset=t.presentationOffset=r.start,void(r.new=!1);for(;null!=(o=n)&&o.new;){var o;t.ccOffset+=r.start-n.start,r.new=!1,n=t[(r=n).prevCC]}t.presentationOffset=i};function Ii(t,e,i,r,n,o,a,s){var u,c,l=new yi,f=Object(Ei.decodeUTF8)(new Uint8Array(t)).trim().replace(Si,"\n").split("\n"),d=[],h=(void 0===(u=i)&&(u=1),Ai(e,wi,1/u)),p="",_="00:00.000",v=0,m=0,g=!0,y=!1;l.onstyle=function(t){p+=t},l.oncue=function(t){var e=r[n],i=r.ccOffset,a=(v-h)/9e4;if(null!=e&&e.new&&(void 0!==m?i=r.ccOffset=e.start:Ci(r,n,a)),a&&(i=a-r.presentationOffset),y){var s=t.endTime-t.startTime,u=Object(bi.PTSNormalize)(9e4*(t.startTime+i-m),9e4*o)/9e4;t.startTime=u,t.endTime=u+s}var c=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(c)),t.id||(t.id=function(t,e,i){return Li(t.toString())+Li(e.toString())+Li(i)}(t.startTime,t.endTime,c)),t.endTime>0&&d.push(t)},l.onparsingerror=function(t){c=t},l.onflush=function(){c?s(c):a(d,p)},f.forEach((function(t){if(g){if(Ti(t,"X-TIMESTAMP-MAP=")){g=!1,y=!0,t.substr(16).split(",").forEach((function(t){Ti(t,"LOCAL:")?_=t.substr(6):Ti(t,"MPEGTS:")&&(v=parseInt(t.substr(7)))}));try{m=xi(_)/1e3}catch(t){y=!1,c=t}return}""===t&&(g=!1)}l.parse(t+"\n")})),l.flush()}var Di="subtitle",Oi=function(t){var e,i;function r(e){var i;return(i=t.call(this)||this)._media=void 0,i._current=-1,i._list=[],i._listPos=0,i._vttCCs=void 0,i._styleNode=void 0,i._onTextTrackChange=function(){var t=i._list.reduce((function(t,e,i){return"showing"===e.track.mode?i:t}),-1);t!==i._current&&(i._current=t,c.Log.i(Di,"subtitle switching"),i.emit(L.default.SUBTITLE_TRACK_SWITCHED,{level:t}))},i._media=e,i._vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},i._media.video&&i._media.video.textTracks.addEventListener("change",i._onTextTrackChange),i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n=r.prototype;return n.addTracks=function(t){var e=this;t.forEach((function(t,i){var r=e._getTextTrack();r&&e._media.video&&(t.default?(e._current=i,r.mode="showing"):r.mode="hidden")}))},n.select=function(t){if(this._removeStyle(),t!==this._current){var e=this._list[t],i=this._list[this._current];i&&(i.track.mode="hidden"),e?(this._applyStyle(e.style),e.track.mode="showing",this._current=t):this._current=-1,this.emit(L.default.SUBTITLE_TRACK_SWITCHED,{level:this._current})}},n.reset=function(){c.Log.i(Di,"reset"),this._list.forEach((function(t){!function(t){var e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues){for(var i=t.cues.length;i--;)t.removeCue(t.cues[i]);"disabled"===e&&(t.mode=e)}}(t.track),t.track.mode="hidden"})),this._listPos=0,this._current=-1,this._vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._removeStyle()},n.parseVTTs=function(t,e,i){var r=this,n=this._list[this._current];n&&Ii(t,i,e,this._vttCCs,i,e,(function(t,e){t.forEach((function(t){!function(t,e){var i=t.mode;if("disabled"===i&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error("addCue is failed for: "+e)}catch(i){c.Log.d("[texttrack-utils]: "+i);var r=new self.TextTrackCue(e.startTime,e.endTime,e.text);r.id=e.id,t.addCue(r)}"disabled"===i&&(t.mode=i)}(n.track,t)})),e&&(n.style+=e,r._applyStyle(n.style))}),(function(t){}))},n.destroy=function(){this._media.video&&this._media.video.textTracks.removeEventListener("change",this._onTextTrackChange),this.reset(),this._list=[],this.removeAllListeners()},n._getTextTrack=function(){var t;if(this._listPos<this._list.length)t=this._list[this._listPos].track,this._listPos++;else{var e=this._media.video;e&&(t=e.addTextTrack("subtitles"),this._list.push({track:t,style:""}),this._listPos++)}return t},n._applyStyle=function(t){t&&(this._styleNode||(this._styleNode=document.createElement("style"),document.head.appendChild(this._styleNode)),this._styleNode.innerHTML=t)},n._removeStyle=function(){this._styleNode&&(this._styleNode.innerHTML="",document.head.removeChild(this._styleNode),this._styleNode=void 0)},r}(n.EventEmitter);function Ri(t,e){return t.reduce((function(i,r,n){return(t[i].bitrate+r.bitrate)/2>=e?i:n}),0)}var ki=function(){function t(t){this._media=void 0,this._lastPlayTime=void 0,this._lastCheckTime=0,this._waiting=!1,this._start=!1,this._media=t}var e=t.prototype;return e.check=function(){var t=this._media,e=performance.now();if(!t.paused&&!t.seeking&&!t.ended&&e-this._lastCheckTime>=100){if(this._lastCheckTime=e,!this._start)return"number"==typeof this._lastPlayTime&&Math.abs(t.currentTime-this._lastPlayTime)>.017&&(this._start=!0),void(this._lastPlayTime=t.currentTime);t.currentTime===this._lastPlayTime?this._waiting||(this._waiting=!0,this._customEvent(t,"waiting")):this._waiting&&(this._waiting=!1,this._customEvent(t,"playing")),this._lastPlayTime=t.currentTime}},e.reset=function(){this._lastPlayTime=void 0,this._start=!1,this._waiting=!1},e._customEvent=function(t,e){if(t&&t.dispatchEvent){var i=document.createEvent("CustomEvent");i.initCustomEvent(e,!0,!0,{}),t.dispatchEvent(i)}},t}();function Ni(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Mi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ni(Object(i),!0).forEach((function(e){Pi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ni(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Pi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ui(){return(Ui=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var Bi=function(t){var e,i;function r(e,i,r){var n;return(n=t.call(this,e.video,i)||this)._mse=void 0,n._trans=void 0,n._media=void 0,n._config=void 0,n._seekOnCanplay=!1,n._internalSeekFlag=!1,n._waitingHelper=void 0,n._audioCodecSwap=!1,n._audioCodec="",n._mainTimer=void 0,n._skipSeekEvent=!1,n._subtitle=void 0,n._nextLevelMinBuffer=1,n._loadStopped=!1,n._seekRollbackTime=0,n._recoverMediaErrorTime=0,n._eme=void 0,n._config=r,n._media=e,n._eme=new si(n._media,n._config),n._eme.on(L.default.ERROR,(function(t){n._onError(t)})),e instanceof HTMLVideoElement&&u.default.x5&&u.default.android&&(n._waitingHelper=new ki(n._video),n._monitor.waitTrigger=s.WaitingTrigger.CUSTOM),n._config.initMseOnDemand||n._initMSE(),n}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n=r.prototype;return n.load=function(t,e){void 0===t&&(t=void 0),t&&(this._config.src=t),this._startHeartbeat(),e&&"number"==typeof e.bitrateStart&&(this._config.bitrateStart=e.bitrateStart)},n.stopLoad=function(){c.Log.i("kernel-base-mse","call kernel stopLoad"),this._trans&&(this._onLoadEnd(!0),this._destroyTrans(),this._stopHeartbeat(),this._loadStopped=!0,this.emit(L.default.STOP_LOAD))},n.destroy=function(){this._stopMainTimer(),this._stopVideo(),this._subtitle&&this._subtitle.destroy(),this._eme.destory(),t.prototype.destroy.call(this)},n.resume=function(){c.Log.i("kernel-base-mse","call resume"),this._loadStopped&&(this._loadStopped=!1,this._load(!0)),this._video.paused&&this._video.play()},n.refresh=function(){(this._config.autoRecoverMedia||this._error!==x.ErrorDetails.VIDEO_ERROR||!this._recoverSwapRemuxType()&&!this._recoverSwapAudioCodec())&&this._reload(),this._error=void 0},n.isTimeinBuffered=function(t){return this._media.isTimeinBuffered(t)},n.setAvailableAbrLevels=function(t){this._trans&&t&&t.length&&this._trans.setAvailableAbrLevels(t)},n.getLevels=function(){return this._trans?this._trans.levels:[]},n.getStartLevel=function(){return void 0===this._startLevel?this._config.adaptive?-1:0:this._startLevel},n.setStartLevel=function(t){this._startLevel=t},n.getCurrentLevel=function(){return this._trans?this._trans.currentLevel:0},n.setCurrentLevel=function(t){c.Log.i("kernel-base-mse","set currentLevel",t),!this._verifyLevel(t)||t===this.getCurrentLevel()&&!this.getAutoLevelEnabled()||this._error?this.emit(L.default.LEVEL_SWITCH_FAILED):t<0?this.setNextLevel(-1):(this._stat!==Qe.INIT&&this._stat!==Qe.LOADING&&(this._monitor.selectBitrate(),this._stat=Qe.SELECT_BITRATE,this._seekOnCanplay=!0),this._mse&&(this._mse.flush(),this._checkStreamingMux()),this._trans&&(this._trans.currentLevel=t))},n.getNextLevel=function(){return this._trans?this._trans.nextLevel:0},n.setNextLevel=function(t){c.Log.i("kernel-base-mse","set nextLevel",t),this._verifyLevel(t)&&!this._error?this._media.bufferedSec()<this._nextLevelMinBuffer&&t>=0?this.setCurrentLevel(t):this._trans&&(this._trans.nextLevel=t):this.emit(L.default.LEVEL_SWITCH_FAILED)},n.getAutoLevelEnabled=function(){return this._trans?this._trans.autoLevelEnabled:this._config.adaptive},n.getAudioTracks=function(){return this._trans?this._trans.audioTracks:[]},n.setAudioTrack=function(t){this._trans&&t!==this._trans.audioTrack&&this._trans.audioTracks.length>1&&(this._trans.audioTrack=t,this._stat!==Qe.INIT&&this._stat!==Qe.LOADING&&(this._stat=Qe.SELECT_BITRATE,this._seekOnCanplay=!0),this._mse&&(this._mse.flush(),this._checkStreamingMux()))},n.getAudioTrack=function(){var t;return(null==(t=this._trans)?void 0:t.audioTrack)||0},n.getSubtitleTracks=function(){return this._trans?this._trans.subtitleTracks:[]},n.setSubtitleTrack=function(t){this._trans&&t!==this._trans.subtitleTrack&&this._trans.subtitleTracks.length>=1&&this._subtitle&&this._subtitle.select(t)},n.getSubtitleTrack=function(){var t;return(null==(t=this._trans)?void 0:t.subtitleTrack)||0},n._onVideoPlay=function(){this._error||this._trans||this.load(),t.prototype._onVideoPlay.call(this)},n._onVideoEnded=function(){this._seekRollbackTime=0,this._internalSeekFlag=!1,this._skipSeekEvent=!1,t.prototype._onVideoEnded.call(this)},n._checkStreamingMux=function(t){void 0===t&&(t=0),this._config.streamingMux&&this._trans&&(t>11?this._trans.streamingMux(!1):this._trans.streamingMux(!0))},n._initMSE=function(){var t=this;(this._mse&&(this._mse.hasTrackInfo()||this._video.error)||this._eme.isActive)&&(c.Log.i("kernel-base-mse","rebuild mse"),URL.revokeObjectURL(this._video.src),this._destroyMSE(),this._eme.isActive&&(this._video.src="",this._eme.reset())),this._mse?this._mse.flush():(this._mse=new li(this._config),this._mse.attach(this._video),this._media.attachMSE(this._mse)),this._mse.on(L.default.ERROR,(function(e){t._onError(e)})),this._mse.on(L.default.MSE_BUFFER_FULL,this._onMSEBufferFull.bind(this)),this._mse.on(L.default.MSE_UPDATE,(function(){t.emit(L.default.MSE_UPDATE),t._stat!==Qe.NONE&&t._media.isTimeinBuffered(t._video.currentTime)&&t._video.readyState>=3?(t._onVideoCanplay(),c.Log.v("kernel-base-mse","canplay polyfill")):t._seekOnCanplay&&t._detectSeekOnCanplay()})),this._mse.on(L.default.MSE_REMOVE,(function(){t.emit(L.default.MSE_REMOVE)})),this._mse.on(L.default.MSE_OPEN,(function(){t.emit(L.default.MSE_OPEN)}))},n._verifyLevel=function(t){return!(!(this._trans&&this._trans.levels.length>0&&t<this._trans.levels.length&&this._mse&&this._video)||this._video.ended)},n._onMSEBufferFull=function(){this.emit(L.default.MSE_BUFFER_FULL)},n._detectSeekOnCanplay=function(){this._seekOnCanplay&&this._mse&&!this._mse.hasCleanUpTask()&&this._media.isTimeinBuffered(this._video.currentTime+.001)&&(c.Log.i("kernel-base-mse","seek on canplay "+this._video.currentTime+" + 0.001"),this._seekOnCanplay=!1,this._internalSeek(this._video.currentTime+.001))},n._internalSeek=function(t){this._internalSeekFlag=!0;try{this._video.currentTime=t}catch(t){}},n._initTrans=function(){this._config.webWorker&&N.prepareWorker(),this._trans=new We(this._config,this._media),this._trans&&(this._transmuxerEvent(this._trans),this._trans.init()),this._waitingHelper&&this._waitingHelper.reset()},n._transmuxerEvent=function(t){var e=this,i=this._mse;t.on(L.default.PARSING_DATA,this._onParsingData.bind(this)),t.on(L.default.PARSING_INIT_SEGMENT,(function(t){if(e._nextLevel.length){var r=e._nextLevel[e._nextLevel.length-1];r.init=!0,e.emit(L.default.LEVEL_SWITCHED,{bitrate:r.bitrate,level:r.level,smooth:r.smooth,auto:r.auto,id:r.id})}if(e._nextAudio){var n=e._nextAudio;e.emit(L.default.AUDIO_TRACK_SWITCHED,{level:n.level,smooth:n.smooth,auto:n.auto,id:n.id})}var o=t.tracks.video,a=t.tracks.audio,s={segments:[],hasVideo:!!o,hasAudio:!!a};for(var u in t.tracks){var c=t.tracks[u];if(Ui(s,c.metadata),c.initSegment){var l={payload:c.initSegment,startPTS:0,endPTS:0,startDTS:0,endDTS:0,type:u,streamDTS:0,framesInfo:[]};s.segments.push(l)}}s.videoCodec=o?o.codec:null,s.audioCodec=a?a.codec:null,e._audioCodec=t.manifestAudioCodec||s.audioCodec;var f=Ui({},s);f.colorSpace=Object(fi.getColorStr)(f.colorInfo),delete f.segments,delete f.colorInfo,e.emit(L.default.PARSING_INIT_SEGMENT,f),e._mediaInfo=f,i&&i.trackInfo(s),e._startMainTimer()})),t.on(L.default.ERROR,(function(t){e._onError(t)})),t.on(L.default.LOAD_END,this._onLoadEnd.bind(this)),t.on(L.default.SUBTITLE_LOADED,(function(t){e._subtitle&&e._subtitle.parseVTTs(t.data,t.start,t.cc)})),t.on(L.default.LEVEL_SWITCH_FAILED,(function(t){t&&t.smooth?e.setCurrentLevel(t.level):e.emit(L.default.LEVEL_SWITCH_FAILED)})),t.on(L.default.LEVEL_SWITCHING,(function(i){if(i.type!==s.LevelType.SUBTITLE){if(i.id=e._levelSwitchId,e._levelSwitchId++,i.auto=t.autoLevelEnabled,!i.smooth&&e._mse&&(e._mse.flush(),e._checkStreamingMux()),i.type===s.LevelType.AUDIO)return e.emit(L.default.AUDIO_TRACK_SWITCHING,{track:i.level,smooth:i.smooth,auto:i.auto,id:i.id}),void(e._nextAudio=i);i.bitrate=i.level<0?-1:t.levels[i.level].bitrate,e.emit(L.default.LEVEL_SWITCHING,{bitrate:i.bitrate,level:i.level,smooth:i.smooth,auto:i.auto,id:i.id}),-1===i.level?e.emit(L.default.LEVEL_SWITCHED,{bitrate:i.bitrate,level:i.level,smooth:i.smooth,auto:i.auto,id:i.id}):(i.smooth?e._nextLevel=e._nextLevel.sort((function(t,e){return t.startSec-e.startSec})).filter((function(t){return t.startSec<i.startSec-.5})):e._nextLevel=[],e._nextLevel.push(i))}})),t.on(L.default.BUFFER_FLUSHING,(function(t){e._mse&&e._mse.flush(t.startSec,e._video.duration)})),t.on(L.default.METADATA,(function(i){"number"==typeof i.duration&&e._mse&&(delete i.keyframes,t.isMultipart||e._mse.updateDuration(i.duration)),e.emit(L.default.METADATA,i)})),t.on(L.default.MANIFEST_PARSED,(function(i){if(c.Log.i("kernel-base-mse","manifest parsed"),"number"!=typeof e._playingLevel){var r,n=void 0,o=e._config.bitrateStart;if("number"==typeof o&&o>=0)r=Ri(t.levels,o),n=o>=0?r:-1;"number"==typeof e._startLevel&&(n=e._startLevel),"number"==typeof n&&(-1===n&&t.autoLevelEnabled||(t.currentLevel=n)),e._playingLevel=t.currentLevel,t.subtitleTracks.length&&e._initSubtitle(),e._config.emeEnabled&&i.drm&&e._eme.onManifestParsed(e.getLevels()),c.Log.i("kernel-base-mse",L.default.MANIFEST_PARSED,i),e.emit(L.default.MANIFEST_PARSED,Mi(Mi({},i),{},{currentLevel:t.currentLevel,protocol:t.protocol,auto:t.autoLevelEnabled}))}else t.currentLevel=e._playingLevel})),t.on(L.default.LEVEL_UPDATED,(function(t){!e._config.isLive&&t.duration&&e._mse&&e._mse.updateDuration(t.duration),c.Log.i("kernel-base-mse",L.default.LEVEL_UPDATED,t),t.type===s.LevelType.AUDIO?e.emit(L.default.AUDIO_TRACK_UPDATED,t):t.type===s.LevelType.MAIN&&e.emit(L.default.LEVEL_UPDATED,t)})),t.on(L.default.SEEK_KEYFRAME,(function(t){e._skipSeekEvent=!0;try{e._internalSeek(t.keyFrameSec)}catch(t){}})),t.on(L.default.PRIV_NAL,(function(t){e.emit(L.default.PRIV_NAL,t)})),t.on(L.default.LOADER_CHUNK_ARRIVAL,(function(t){e.emit(L.default.LOADER_CHUNK_ARRIVAL,t)})),t.on(L.default.MEDIA_DEMUX,(function(t){e.emit(L.default.MEDIA_DEMUX,t)})),t.on(L.default.KEY_FRAME,(function(t){e.emit(L.default.KEY_FRAME,t)})),t.on(L.default.MUX_INFO,(function(t){e.emit(L.default.MUX_INFO,t)})),t.on(L.default.LOST_FRAMES,(function(t){e.emit(L.default.LOST_FRAMES,t)})),t.on(L.default.USE_BACKUP,(function(t){e.emit(L.default.USE_BACKUP,t)})),t.on(L.default.ABR_INFO,(function(t){e.emit(L.default.ABR_INFO,t)})),t.on(L.default.NEW_SOURCE,(function(t){e.emit(L.default.NEW_SOURCE,t)})),t.on(L.default.DISCONTINUITY,(function(t){e.emit(L.default.DISCONTINUITY,t)})),t.on(L.default.DOWNLOAD,(function(t){e.emit(L.default.DOWNLOAD,t)}))},n._destroyTrans=function(){this._trans&&(this._trans.destroy(),this._trans.removeAllListeners(),this._trans=void 0)},n._destroyMSE=function(){this._mse&&(this._mse.removeAllListeners(),this._mse.destroy(),this._mse=void 0)},n._reload=function(){c.Log.i("kernel-base-mse","reload"),this._config.startFromSec=this._video.currentTime,this._trans&&(this._startLevel=this._trans.currentLevel),this._nextLevel=[],this._internalSeekFlag=!1,this._stopVideo(),this._initMSE(),this._destroyTrans(),this._initTrans(),this._trans&&this._trans.loadSource(),this._startHeartbeat(),this._video.play()},n._startMainTimer=function(){this._mainTimer||(this._mainTimer=setInterval(this._mainLoop.bind(this),200))},n._stopMainTimer=function(){this._mainTimer&&(clearInterval(this._mainTimer),this._mainTimer=void 0)},n._stopVideo=function(){this._video&&(URL.revokeObjectURL(this._video.src),this._video.hasOwnProperty("src")&&(this._video.src=""),this._video.removeAttribute("src"),this._destroyTrans(),this._destroyMSE())},n._mainLoop=function(){var t=this._video;if(this._waitingHelper&&this._monitor.firstFrameLoaded&&this._waitingHelper.check(),(this._stat===Qe.WAITING&&!t.seeking||this._stat===Qe.LOADING||this._stat===Qe.INIT||this._stat===Qe.SEEK||this._stat===Qe.SELECT_BITRATE)&&this._mse&&!this._mse.hasCleanUpTask()&&!t.ended&&this._mse.hasSourceBufferAppendStarted()){var e=t.currentTime,i=this._media.currentBuffer(e),r=void 0;if(!i||i.end-e<1){var n=this._media.nextBuffer(e);n&&(c.Log.i("kernel-base-mse","try fix block-A"),r=n.start)}else this._video.buffered.length>1&&i.end-e>1&&(c.Log.i("kernel-base-mse","try fix block-B"),r=i.start);r&&(r+=u.default.safari?.3:.001,this._internalSeek(r),c.Log.i("kernel-base-mse","jump to "+r))}this._nextLevel.length&&this._checkLevelChange()},n._checkLevelChange=function(){var t=this._nextLevel[0];t&&this._video.currentTime>=t.startSec&&this._media.isTimeinBuffered(this._video.currentTime)&&(t.init||this.emit(L.default.LEVEL_SWITCHED,{bitrate:t.bitrate,level:t.level,smooth:t.smooth,auto:t.auto,id:t.id}),this.emit(L.default.LEVEL_SWITCH_PLAYING,{bitrate:t.bitrate,level:t.level,smooth:t.smooth,auto:t.auto,id:t.id}),this._playingLevel=t.level,this._nextLevel.shift())},n._load=function(t){void 0===t&&(t=!1),c.Log.i("kernel-base-mse","_load start sec:",this._config.startFromSec),this._mediaInfo=void 0,this._loadStopped=!1,this._error=void 0,this._internalSeekFlag=!1,this._stat=Qe.LOADING,this._nextLevel=[],this._stopMainTimer(),this.emit(L.default.LOAD,this._config.src,t),this._subtitle&&this._subtitle.reset(),this._trans&&this._destroyTrans(),this._initMSE(),this._config.startPlayBufferSec&&!t&&this._mse&&this._mse.setStartBufSec(this._config.startPlayBufferSec),this._startHeartbeat(),this._initTrans(),this._trans&&this._trans.loadSource()},n._onParsingData=function(t){this._media.mse&&this._media.mse.mediaSegment(t.segments),this.emit(L.default.PARSING_DATA,t)},n._onLoadEnd=function(t){void 0===t&&(t=!1),this._mse&&this._mse.endOfData(),this.emit(L.default.LOAD_END,{internal:t})},n._onVideoCanplay=function(){t.prototype._onVideoCanplay.call(this),this._stat!==Qe.NONE&&(this._stat=Qe.NONE,this._trans&&this._trans.emit("mainNotify",{type:"canplay"}),this._detectSeekOnCanplay(),this._checkLevelChange(),this._video.paused||this._onVideoPlaying(),this._config.webWorker&&N.prepareWorker())},n._onVideoSeeked=function(){this._mediaInfo&&t.prototype._onVideoSeeked.call(this)},n._onVideoTimeupdate=function(){this._video.seeking||(this._seekRollbackTime=this._video.currentTime),t.prototype._onVideoTimeupdate.call(this)},n._onVideoWaiting=function(){this._stat=this._stat||Qe.WAITING;var t=this._media.bufferedSec(),e=!this._video.seeking&&this._stat===Qe.WAITING;e&&this._trans&&this._trans.emit("mainNotify",{type:"waiting"}),this.emit(L.default.WAITING,e,t)},n._onVideoError=function(t){if(c.Log.e("kernel-base-mse","video error",t),!this._error&&this._mediaInfo){if(this._config.autoRecoverMedia){var e=performance.now();if((!this._recoverMediaErrorTime||e-this._recoverMediaErrorTime>3e3)&&this._recoverSwapRemuxType())return void(this._recoverMediaErrorTime=e);if(this._recoverSwapAudioCodec())return}var i="video error";this._video&&this._video.error&&(i+=" code:"+this._video.error.code+" message:"+this._video.error.message),this._onError({type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.VIDEO_ERROR,fatal:!0,reason:i})}},n._onVideoRatechange=function(){this._trans&&this._trans.emit("mainNotify",{type:"ratechange",playbackRate:this._video.playbackRate}),t.prototype._onVideoRatechange.call(this)},n._heartbeat=function(){t.prototype._heartbeat.call(this),this._trans&&this._trans.heartbeat()},n._onError=function(e){e.fatal&&((e.details===x.ErrorDetails.VIDEO_ERROR||this._video.error)&&this._destroyMSE(),this._stopMainTimer()),t.prototype._onError.call(this,e)},n._recoverSwapRemuxType=function(){var t,e=this._config.gopRemux,i=this._config.streamingMux;return this._config.box===s.MediaBox.flv&&this._config.isLive?this._config.gopRemux=!0:this._config.streamingMux=!1,(e!==this._config.gopRemux||i!==this._config.streamingMux)&&(c.Log.i("kernel-base-mse","recover swap remux type"),this.emit(L.default.RETRY,{type:s.RetryType.CODEC,message:"change remux type. video error: "+(null==(t=this._video.error)?void 0:t.code)}),this._reload(),!0)},n._recoverSwapAudioCodec=function(){var t;return!(this._audioCodecSwap||!this._audioCodec||(-1!==this._audioCodec.indexOf("mp4a.40.5")?this._audioCodec="mp4a.40.2":this._audioCodec="mp4a.40.5",this._config.audioCodec=this._audioCodec,this._audioCodecSwap=!0,this.emit(L.default.RETRY,{type:s.RetryType.CODEC,message:"change audio codec: "+this._audioCodec+". video error: "+(null==(t=this._video.error)?void 0:t.code)}),c.Log.i("kernel-base-mse","recover swap audio codec"),this._reload(),0))},n._initSubtitle=function(){var t=this;this._trans&&(this._subtitle||(this._subtitle=new Oi(this._media),this._subtitle.on(L.default.SUBTITLE_TRACK_SWITCHED,(function(e){t._trans&&(t._trans.subtitleTrack=e.level,t.emit(L.default.SUBTITLE_TRACK_SWITCHED,e))}))),this._subtitle.addTracks(this._trans.subtitleTracks))},r}(ri),Fi=function(t){var e,i;function r(e,i,r){var n;return(n=t.call(this,e,i,r)||this)._flvLiveRetry=0,n._flvLiveRetryTimer=void 0,n._liveEnd=!1,n._playbackRateManager=void 0,n._catchUpLive=!0,n._preloader=void 0,n._config.autoPlaybackRateConf&&(n._playbackRateManager=new Ze(n._media,n._config.autoPlaybackRateConf)),n._catchUpLive=!!n._config.catchUpPausedLive,n}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n=r.prototype;return n.load=function(e,i){void 0===e&&(e=void 0),t.prototype.load.call(this,e,i),c.Log.i("kernel-mse-live","load");var r=!!this._trans;this._stat!==Qe.INIT&&this._monitor.reset(r),this._playingLevel=void 0,this._checkPreload(e)||(c.Log.i("kernel-mse-live","preload miss"),this._load()),this._preloader&&this._preloader.destroy()},n.refresh=function(){this._liveEnd||(t.prototype.refresh.call(this),this._flvLiveRetry=0)},n.liveEnd=function(){c.Log.i("kernel-mse-live","liveEnd",this._config.isLive),this._config.isLive&&(this._liveEnd=!0,this._stopFlvLiveRetryTimer())},n.preload=function(t,e){var i;this._config.box===s.MediaBox.flv&&this._config.isLive&&(c.Log.i("kernel-mse-live","preload",e),this._preloader||(this._preloader=new Je),this._preloader.start(t,this._media,this._config,"number"==typeof e?e:null==(i=this._trans)?void 0:i.currentLevel),this._monitor.onPreload())},n.destroy=function(){this._stopFlvLiveRetryTimer(),this._preloader&&this._preloader.destroy(),t.prototype.destroy.call(this)},n.resume=function(){this._liveEnd||t.prototype.resume.call(this)},n.stopLoad=function(){t.prototype.stopLoad.call(this),this._stopFlvLiveRetryTimer(),this._preloader&&this._preloader.destroy(),this._playbackRateManager&&this._playbackRateManager.stop()},n._mainLoop=function(){this._playbackRateManager&&this._playbackRateManager.tick(),t.prototype._mainLoop.call(this)},n._onVideoPause=function(){t.prototype._onVideoPause.call(this),this._config.catchUpPausedLive&&(this._catchUpLive=!0)},n._onVideoPlaying=function(){!this._error&&this._config.isLive&&this._media.bufferedSec()>-this._config.defaultSpts/1e3+1&&this._catchUpLive&&(this._seekToLivePos(),this._catchUpLive=!1),t.prototype._onVideoPlaying.call(this)},n._onMSEBufferFull=function(){t.prototype._onMSEBufferFull.call(this),this._config.isLive&&this._video.paused&&(this.stopLoad(),this._initMSE())},n._seekToLivePos=function(){if(this._config.defaultSpts<0){var t=this._media.bufferedEnd()+this._config.defaultSpts/1e3;if(this._media.isTimeinBuffered(t))return this._internalSeek(t),!0}return!1},n._load=function(e){void 0===e&&(e=!1),t.prototype._load.call(this,e),this._liveEnd=!1,this._config.autoPlaybackRate&&this._playbackRateManager&&this._playbackRateManager.start()},n._onLoadEnd=function(e){void 0===e&&(e=!1),this._config.flvLoadEndError&&!this._liveEnd&&this._config.isLive&&this._config.box===s.MediaBox.flv&&!e?this._onError({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.LIVE_DISCONNECTED_ERROR,fatal:!0,reason:"live disconnected"}):t.prototype._onLoadEnd.call(this,e)},n._onVideoWaiting=function(){this._liveEnd&&this._config.box===s.MediaBox.flv&&this._config.isLive?this.stopLoad():t.prototype._onVideoWaiting.call(this)},n._onError=function(e){e.type===x.ErrorTypes.NETWORK_ERROR&&this._config.isLive&&this._config.box===s.MediaBox.flv&&this._flvLiveRetry<this._config.maxRetry?this._startFlvLiveRetryTimer(Math.max(this._config.retryDelay,1e3*this._media.bufferedSec()),e):t.prototype._onError.call(this,e)},n._initTrans=function(){this._stopFlvLiveRetryTimer(),t.prototype._initTrans.call(this)},n._startFlvLiveRetryTimer=function(t,e){var i=this;this._flvLiveRetryTimer||(this._flvLiveRetryTimer=setTimeout((function(t){c.Log.i("kernel-mse-live","live retry:"+i._flvLiveRetry),i._flvLiveRetry++,i.emit(L.default.RETRY,{type:s.RetryType.LIVE,message:"reason: "+(null==t?void 0:t.reason)+". retry: "+i._flvLiveRetry}),i._reload()}),t,e))},n._stopFlvLiveRetryTimer=function(){this._flvLiveRetryTimer&&(clearTimeout(this._flvLiveRetryTimer),this._flvLiveRetryTimer=void 0)},n._checkPreload=function(t){if(this._preloader&&this._preloader.check(t)&&this._preloader.trans){var e=this.getAutoLevelEnabled();return this._mediaInfo=void 0,this._loadStopped=!1,this._error=void 0,this._internalSeekFlag=!1,this._nextLevel=[],this._stopMainTimer(),this._stat=Qe.LOADING,this._destroyTrans(),this._initMSE(),this._trans=this._preloader.trans,this.emit(L.default.PRELOAD_HIT,this._trans.getCurrentUrl()),this._trans.removeAllListeners(),this._transmuxerEvent(this._trans),this._preloader.use(),this._trans.usePreload(e),this._startHeartbeat(),c.Log.i("kernel-mse-live","preload hit"),!0}return!1},r}(Bi);function Ki(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ji=function(t){var e,i;function r(e){var i;return(i=t.call(this)||this)._data=void 0,i._trans=void 0,i._eQueue=[],i._events=void 0,i._backupConf={retryWithBackup:!0},i._onEvents=function(t){return function(e){i._eQueue.push({type:t,data:e})}},i._onError=function(){i.destroy(),i.emit(L.default.PRELOAD_COMPLETE,!1),i.removeAllListeners()},i._data=e,i._events=[L.default.PARSING_DATA,L.default.PARSING_INIT_SEGMENT,L.default.LOAD_END,L.default.LEVEL_SWITCH_FAILED,L.default.LEVEL_SWITCHING,L.default.BUFFER_FLUSHING,L.default.METADATA,L.default.FLV_HEAD,L.default.MP4_NOT_FASTSTART,L.default.MANIFEST_PARSED,L.default.LEVEL_UPDATED,L.default.SEEK_KEYFRAME,L.default.PRIV_NAL,L.default.LOADER_CHUNK_ARRIVAL,L.default.MEDIA_DEMUX,L.default.KEY_FRAME,L.default.MUX_INFO,L.default.LOST_FRAMES,L.default.USE_BACKUP,L.default.ABR_INFO,L.default.NEW_SOURCE,L.default.DISCONTINUITY],i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n,o,a,s=r.prototype;return s.start=function(t,e){if(!this._trans){var i=this._data.config;this._data.auto=t,this._data.level=e,this._backupConf.retryWithBackup=i.retryWithBackup,i.retryWithBackup=!1,this._trans=new We(i,new I,!0),this._trans&&(this._trans.init(),this._trans.streamingMux(!1),this._bind(this._trans),this._trans.loadSource())}},s.destroy=function(){this._trans&&(this._trans.removeAllListeners(),this._trans.destroy(),this._trans=void 0),this._eQueue=[],this.removeAllListeners()},s.use=function(){var t=this;this._eQueue.forEach((function(e){t._trans&&t._trans.emit(e.type,e.data)})),this._trans=void 0},s._bind=function(t){var e=this;this._events.forEach((function(i){t.on(i,e._onEvents(i))})),t.on(L.default.PRELOAD_COMPLETE,(function(){e._data.config.retryWithBackup=e._backupConf.retryWithBackup,t.removeAllListeners(),e.emit(L.default.PRELOAD_COMPLETE,!0),e.removeAllListeners()})),t.on(L.default.DOWNLOAD,(function(t){e.emit(L.default.DOWNLOAD,t)})),t.on(L.default.ERROR,this._onError)},n=r,(o=[{key:"trans",get:function(){return this._trans}}])&&Ki(n.prototype,o),a&&Ki(n,a),r}(n.EventEmitter);function Vi(t){var e=new ye.a(t,!1);return""+e.origin+e.pathname}function Hi(t){if(t){if(Bt.verify(t))return Vi(t.adaptationSet.representation[0].url);if(Vt.verify(t))return Vi(t.adaptationSet[0].representation[0].url);if("string"==typeof t)return Vi(t)}return""}function qi(){return(qi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var Gi=50,zi="preload-m",Wi=function(t){var e,i;function r(e){var i;return(i=t.call(this)||this)._waiting=[],i._running=void 0,i._cache=[],i._active=!1,i._updateTimer=void 0,i._timeout=void 0,i._statCallback=void 0,i._onPreloadComplete=function(t){i._stopTimeout(),i._running&&(t?(c.Log.i(zi,"preload task done",i._waiting.length),i._cache.push(i._running),i._cache.length>Gi&&i._cache.shift(),i.emit(L.default.PRELOAD_COMPLETE)):i._running.app&&i._running.app.destroy()),i._running=void 0,i._delayUpdate()},i._onPreloadDownload=function(t){i.emit(L.default.DOWNLOAD,t)},i._statCallback=e,i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n=r.prototype;return n.check=function(t){var e=this._statCallback();if(e)for(var i=Hi(t),r=0;r<this._cache.length;r++)if(this._cache[r].data.id===i){if(!(performance.now()-this._cache[r].ts<72e5))return void this._cache.splice(r,1);var n=this._cache.splice(r,1)[0];if(n.data.auto&&e.abr||!n.data.auto&&!e.abr&&n.data.level===e.level)return n}},n.add=function(t,e){if(c.Log.i(zi,"add preload task"),t=qi({},t),_.setSrc(t,e),t.src){var i=Hi(t.src);if(!i)return;if(this._running&&this._running.data.id===i)return;for(var r=0;r<this._cache.length;r++)if(this._cache[r].data.id===i)return void this._cache.push(this._cache.splice(r,1)[0]);var n={data:{id:i,config:t},ts:performance.now()};this._waiting.push(n),this._delayUpdate()}},n.active=function(t){void 0===t&&(t=!1),this._active!==t&&(t?(this._active=t,this._delayUpdate()):(this._active=t,this._stopUpdateTimer()))},n.clean=function(){this._waiting=[],this._running&&(this._running.app&&this._running.app.destroy(),this._running=void 0),this._active=!1},n.destroy=function(){this.clean(),this._cache.forEach((function(t){t.app&&t.app.destroy()})),this._cache=[],this._stopUpdateTimer(),this.removeAllListeners()},n.hasCache=function(){return this._cache.length>0},n._delayUpdate=function(){var t=this;this._active&&!this._updateTimer&&(this._stopUpdateTimer(),this._updateTimer=setTimeout((function(){t._updateTimer=void 0,t._update()}),1e3))},n._stopUpdateTimer=function(){this._updateTimer&&(clearTimeout(this._updateTimer),this._updateTimer=void 0)},n._update=function(){if(!this._running&&this._waiting.length&&this._active){var t=this._statCallback(),e=this._running=this._waiting.shift();e&&t&&(this._startTimeout(),e.app=new ji(e.data),e.app.on(L.default.PRELOAD_COMPLETE,this._onPreloadComplete),e.app.on(L.default.DOWNLOAD,this._onPreloadDownload),e.app.start(t.abr,t.level),c.Log.i(zi,"preload task start"))}},n._startTimeout=function(){var t=this;this._timeout=setTimeout((function(){t._running&&t._running.app&&t._running.app.destroy(),t._running=void 0,t._delayUpdate(),t._stopTimeout()}),5e3)},n._stopTimeout=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0)},r}(n.EventEmitter),Xi="kernel-mse-vod",Yi=function(t){var e,i;function r(e,i,r){var n;return(n=t.call(this,e,i,r)||this)._preloader=void 0,n._seekWithLoad=function(){if(c.Log.i(Xi,"seek with load"),!n._config.isLive&&n._trans&&n._mse){var t=n._video.currentTime;if(!n._trans.isSeekable()&&t>=s.UNSEEKABLE_START_TIME_THRESHOLD)return c.Log.w(Xi,"seek disabled, rollback: "+n._seekRollbackTime),void n._internalSeek(n._seekRollbackTime);n._preloader&&n._preloader.active(!1),n.emit(L.default.SEEK_WITH_LOAD,t),n._stat=Qe.SEEK,n._nextLevel.length&&(n._nextLevel=n._nextLevel.slice(n._nextLevel.length-1),n._nextLevel[0].startSec=t),n._mse.flush(),n._seekOnCanplay=!0,n._trans.seek(t,u.default.msie||n._config.alwaysSeekKeyframe,!1)}},n._levelStat=function(){if(n._trans)return{abr:n._trans.autoLevelEnabled,level:n._trans.currentLevel}},!n._config.isLive&&(n._config.startFromSec>0||n._config.startFrom&&n._config.startFrom>0)&&(n._config.startFromSec=n._config.startFromSec||(n._config.startFrom||0)/1e3,n._internalSeek(n._config.startFromSec),n._skipSeekEvent=!0),n._nextLevelMinBuffer=3,n}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n=r.prototype;return n.load=function(e,i){void 0===e&&(e=void 0),t.prototype.load.call(this,e,i),c.Log.i(Xi,"load",i);var r=!!this._trans;this._stat!==Qe.INIT&&this._monitor.reset(r),this._playingLevel=void 0,this._preloader&&this._preloader.active(!1),i?"number"==typeof i.startFromSec&&(this._config.startFromSec=i.startFromSec):r&&(this._config.startFromSec=0),this._checkPreload()||(c.Log.i(Xi,"preload miss"),this._load()),this._preloader&&this._preloader.clean()},n.preload=function(t){var e=this;this._config.box!==s.MediaBox.hls||this._config.isLive||(!this._preloader&&Wi&&(this._preloader=new Wi(this._levelStat),this._preloader.on(L.default.PRELOAD_COMPLETE,(function(){return e.emit(L.default.PRELOAD_COMPLETE)})),this._preloader.on(L.default.DOWNLOAD,(function(t){return e.emit(L.default.DOWNLOAD,t)}))),this._preloader&&this._preloader.add(this._config,t))},n.destroy=function(){performance.onresourcetimingbufferfull=null,this._preloader&&this._preloader.destroy(),t.prototype.destroy.call(this)},n.getCurrentLevel=function(){return t.prototype.getCurrentLevel.call(this)},n.setCurrentLevel=function(e){t.prototype.setCurrentLevel.call(this,e),this._preloader&&this._preloader.active(!1)},n._onMSEBufferFull=function(){t.prototype._onMSEBufferFull.call(this),this._config.lazyLoad&&this._trans&&this._trans.setDownloadEnabled(!1)},n._heartbeat=function(){t.prototype._heartbeat.call(this),this._updateBufferControl(),this._trans&&this._preloader&&this._preloader.active(!this._trans.isNetworkInUse&&"closed"!==this._media.mseReadyState)},n._checkPreload=function(){if(!this._preloader||!this._preloader.hasCache()||!this._trans||this._config.startFromSec)return!1;var t=this._preloader.check(this._config.src);return!!(t&&t.app&&t.app.trans)&&(this._config=t.data.config,this._stat=Qe.LOADING,this._destroyTrans(),this._config.webWorker&&N.prepareWorker(),this._initMSE(),this._trans=t.app.trans,this.emit(L.default.PRELOAD_HIT,this._trans.getCurrentUrl()),this._transmuxerEvent(this._trans),t.app.use(),this._trans.usePreload(),this._startHeartbeat(),c.Log.i(Xi,"preload hit"),!0)},n._updateBufferControl=function(){if(this._trans&&this._mse){var t=this._media.bufferedSec(),e=this._mse.getBufferQueueSec(),i=!0;if(this._checkStreamingMux(t),(t<this._config.lazyLoadRecoverDuration||!this._config.lazyLoad&&!this._mse.getAppendEnabled())&&this._mse.setAppendEnabled(!0),t+e>=("closed"===this._media.mseReadyState?1:this._config.lazyLoadMaxDuration))i=!1;else{if(!(t+e<this._config.lazyLoadRecoverDuration))return;i=!0}this._config.lazyLoad&&this._trans&&(c.Log.v(Xi,"download: "+i+" buffered:"+t+" mse:"+e),this._trans.setDownloadEnabled(i)),this._media.pendingNum()&&this._mse.refresh()}},n._onVideoSeeking=function(){if(c.Log.i(Xi,"seek to "+this._video.currentTime+" internal:"+this._internalSeekFlag),this._mediaInfo&&!(this._video&&this._video.currentTime>=this._video.duration&&this._mse&&this._mse.ended())){this._checkStreamingMux();var t=this._internalSeekFlag;if(this._internalSeekFlag=!1,this._skipSeekEvent)this._skipSeekEvent=!1;else{this.emit(L.default.SEEKING,t);var e=this._video.currentTime;this._media.isTimeinBuffered(e)?t||(u.default.msedge||u.default.msie?(this._seekOnCanplay=!0,this._seekWithLoad()):this._trans&&"hls"===this._config.box&&this._trans.seek(e,!1,!0)):0===e&&this._video.buffered.length>0&&this._video.buffered.start(0)<1?t||this._internalSeek(this._video.buffered.start(0)):this._seekWithLoad()}}},n._onParsingData=function(e){t.prototype._onParsingData.call(this,e),this._updateBufferControl()},r}(Bi),Qi=function(){function t(){var t=this;this._timer=void 0,this._xhr=void 0,this._callbackFunc=void 0,this._onEnd=function(){t._detectEnd()},this._onReadystatechange=function(){t._xhr&&t._xhr.readyState>=2&&t._detectEnd()},this._detectEnd=function(){t._xhr&&t._callbackFunc&&t._callbackFunc(t._xhr.status),t.stop()}}var e=t.prototype;return e.start=function(t,e){this._callbackFunc=e,this._xhr&&this.stop();var i=this._xhr=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=this._onReadystatechange,i.onerror=this._onEnd,i.onload=this._onEnd,i.send(),this._timer=setTimeout(this._detectEnd,1e3)},e.stop=function(){this._timer&&(clearTimeout(this._timer),this._timer=void 0),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=void 0),this._callbackFunc=void 0},t}(),Ji=function(t){var e,i;function r(e,i,r){var n;return(n=t.call(this,e.video,i)||this)._media=void 0,n._config=void 0,n._src=void 0,n._manifest=void 0,n._levels=[],n._index=0,n._protocol=s.Protocol.NATIVE,n._firstLoad=!0,n._startSec=0,n._httpStatusDetector=void 0,n._media=e,n._config=r,n._src=n._config.src,n}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n=r.prototype;return n.load=function(t,e){c.Log.i("kernel-native","load",t,e),this._src=t||this._src,this._levels=[],this._stat!==Qe.INIT&&this._monitor.reset(!this._firstLoad),this._firstLoad?(this._config.startFromSec=(null==e?void 0:e.startFromSec)||this._config.startFromSec||0,this._firstLoad=!1):this._config.startFromSec=(null==e?void 0:e.startFromSec)||0,this._load()},n.setAvailableAbrLevels=function(t){},n.isTimeinBuffered=function(t){return this._media.isTimeinBuffered(t)},n.resume=function(){},n.refresh=function(){this._startLoadLevel(this.getCurrentLevel(),this._video.currentTime),this._video.play()},n.stopLoad=function(){this.emit(L.default.STOP_LOAD),this._stopHeartbeat()},n.setCurrentLevel=function(t){if(this._levels.length){if(t>=0&&t<this._levels.length&&this._index!==t){this._index=t;var e=this._levels[this.getCurrentLevel()];if(e){this._stat=Qe.SELECT_BITRATE;var i=e.currentUrl,r=this._video.currentTime;return this._levelSwitchId++,this.emit(L.default.LEVEL_SWITCHING,{url:i,bitrate:e.bitrate,level:t,smooth:!1,auto:!1,id:this._levelSwitchId}),this._startLoadLevel(this.getCurrentLevel(),r),void this.emit(L.default.LEVEL_SWITCHED,{bitrate:e.bitrate,level:t,smooth:!1,auto:!1,id:this._levelSwitchId})}}this.emit(L.default.LEVEL_SWITCH_FAILED)}else this._index=t},n.getCurrentLevel=function(){return this._index},n.setNextLevel=function(t){this.setCurrentLevel(t)},n.getNextLevel=function(){return this._index},n.getLevels=function(){return this._levels},n.preload=function(t){},n.destroy=function(){this._httpStatusDetector&&(this._httpStatusDetector.stop(),this._httpStatusDetector=void 0),t.prototype.destroy.call(this),this._video.hasOwnProperty("src")&&(this._video.src=""),this._video.removeAttribute("src")},n._onVideoCanplay=function(){var e=this._levels[this._index];e&&this._stat===Qe.SELECT_BITRATE&&this.emit(L.default.LEVEL_SWITCH_PLAYING,{bitrate:e.bitrate,level:this._index,smooth:!1,auto:!1,id:this._levelSwitchId}),this._stat!==Qe.NONE&&(this._stat=Qe.NONE),t.prototype._onVideoCanplay.call(this)},n._onVideoWaiting=function(){this._stat=this._stat||Qe.WAITING;var t=this._media.bufferedSec(),e=!this._video.seeking&&this._stat===Qe.WAITING;this.emit(L.default.WAITING,e,t)},n._onVideoLoadedmetadata=function(){this._mediaInfo={width:this._video.videoWidth,height:this._video.videoHeight};var t=this._levels[this.getCurrentLevel()];if(t&&t.codec){var e=Ft(t.codec);this._mediaInfo.audioCodec=e.audio,this._mediaInfo.videoCodec=e.video}this._startSec&&this._video.currentTime.toFixed(4)!==this._startSec.toFixed(4)&&(this._video.currentTime=this._startSec,this._startSec=0),this.emit(L.default.PARSING_INIT_SEGMENT,this._mediaInfo)},n._onVideoSeeking=function(){var t=this._video.currentTime;this.emit(L.default.SEEKING),this.isTimeinBuffered(t)||this.emit(L.default.SEEK_WITH_LOAD,t)},n._onVideoError=function(t){var e,i=this,r="video error";this._video&&this._video.error&&(r+=" code:"+this._video.error.code+" message:"+this._video.error.message);var n={type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.VIDEO_ERROR,fatal:!0,url:this._video.src,reason:r},o=null==(e=this._video.error)?void 0:e.code;2===o||4===o?(this._httpStatusDetector||(this._httpStatusDetector=new Qi),this._httpStatusDetector.start(this._video.src,(function(t){c.Log.i("kernel-native","video error check http status code:",t),(2===o||4===o&&t>0)&&(t<200||t>299)?i._onError({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.LOAD_ERROR,fatal:!0,url:i._video.src,statusCode:t,reason:r}):i._onError(n)}))):this._onError(n)},n._load=function(t){var e;void 0===t&&(t=!1),c.Log.i("kernel-native","_load"),this._mediaInfo=void 0,this._error=void 0,this._stat=Qe.LOADING,this._protocol="object"==typeof this._src?s.Protocol.KWAI_MP4:s.Protocol.NATIVE,this.emit(L.default.LOAD,this._config.src,t),this._manifest=new De(this._src),(e=this._manifest.levels).length?("number"==typeof this._startLevel&&this._startLevel>=0&&this._startLevel<e.length&&(this._index=this._startLevel),this._levels=e,this._protocol===s.Protocol.KWAI_MP4&&this.emit(L.default.MANIFEST_PARSED,{currentLevel:this._index,protocol:this._protocol,auto:!1}),this._startLoadLevel(this._index,this._config.startFromSec),this._startHeartbeat()):this._onError({type:x.ErrorTypes.MUX_ERROR,details:x.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,reason:"manifest parsing error"})},n._startLoadLevel=function(t,e){void 0===e&&(e=0);var i=this._levels[t];if(i){c.Log.i("kernel-native","level",t,e);var r=i.currentUrl;this.emit(L.default.NEW_SOURCE,{sync:e,index:t}),this._video.src=r,this._startSec=e}},r}(ri);function Zi(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $i=function(){function t(){this._prevVideoTimestamp=0,this._prevAudioTimestamp=0,this._prevVideoReceived=0,this._prevAudioReceived=0,this._result=void 0,this._result=this._newInfo()}var e,i,r,n=t.prototype;return n.reset=function(){this._result=this._newInfo(),this._prevVideoTimestamp=0,this._prevAudioTimestamp=0,this._prevVideoReceived=0,this._prevAudioReceived=0},n.parse=function(t){var e=this,i=this._result,r=0,n=0,o="",a="",s="",u="";i.totalReceive=0,t.forEach((function(t){if("inbound-rtp"===t.type){if("video"===t.mediaType){var c=t.timestamp-e._prevVideoTimestamp;e._prevVideoTimestamp&&(r=(t.bytesReceived-e._prevVideoReceived)/c),e._prevVideoReceived=t.bytesReceived,e._prevVideoTimestamp=t.timestamp,i.key=t.keyFramesDecoded,i.videoPacketsLost=t.packetsLost,a=t.codecId,u=t.trackId}else if("audio"===t.mediaType){var l=t.timestamp-e._prevAudioTimestamp;e._prevAudioReceived&&(n=(t.bytesReceived-e._prevAudioReceived)/l),e._prevAudioReceived=t.bytesReceived,i.audioPacketsLost=t.packetsLost,o=t.codecId,s=t.trackId}i.totalReceive+=t.bytesReceived,e._prevAudioTimestamp=t.timestamp}})),i.audioDataRate=Math.round(7.8125*n),i.videoDataRate=Math.round(7.8125*r),i.speed=1e3*(r+n),t.forEach((function(t){"codec"===t.type?t.id===a?i.videoCodec=t.mimeType:t.id===o&&(i.audioCodec=t.mimeType,i.audioChannelCount=t.channels,i.audioSampleRate=t.clockRate):"track"===t.type&&(t.id===u?(i.width=t.frameWidth,i.height=t.frameHeight,i.videoAvgJitterBufferDelay=t.jitterBufferDelay/t.jitterBufferEmittedCount):t.id===s&&(i.audioAvgJitterBufferDelay=t.jitterBufferDelay/t.jitterBufferEmittedCount))}));var c=null,l=null;return t.forEach((function(e){"transport"===e.type&&(c=t.get(e.selectedCandidatePairId))})),c||t.forEach((function(t){"candidate-pair"===t.type&&t.selected&&(c=t)})),c&&c.remoteCandidateId&&(l=t.get(c.remoteCandidateId)),l&&(i.rtcRemoteAddress=l.address||l.ip||l.ipAddress,i.rtcRemotePort=l.port||l.portNumber),this._result=i,i},n._newInfo=function(){return{totalReceive:0,speed:0,rtcRemoteAddress:"",rtcRemotePort:0,width:0,height:0,audioCodec:"",videoCodec:"",audioChannelCount:0,audioSampleRate:0,videoDataRate:0,audioDataRate:0,key:0,audioPacketsLost:0,videoPacketsLost:0,audioAvgJitterBufferDelay:0,videoAvgJitterBufferDelay:0}},e=t,(i=[{key:"result",get:function(){return this._result}}])&&Zi(e.prototype,i),r&&Zi(e,r),t}();function tr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function er(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?tr(Object(i),!0).forEach((function(e){ir(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tr(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ir(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function rr(){return(rr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var nr,or=function(t){var e,i;function r(e,i,r){var n;return(n=t.call(this,e.video,i)||this)._media=void 0,n._pc=void 0,n._config=void 0,n._loaderConfig=void 0,n._stream=void 0,n._src=void 0,n._rtcStatParser=void 0,n._retrying=!1,n._retryTimer=null,n._retryCount=0,n.transmissionTimeoutTimer=null,n.transmissionTimeout=void 0,n.peerConnectionTimeout=void 0,n.peerConnectionMaxRetry=void 0,n.peerConnectionRetryDelay=void 0,n._manifest=void 0,n._levels=[],n._index=0,n._parseStats=function(t){n._pc&&n._pc.getStats(null).then((function(e){var i=n._rtcStatParser.parse(e);t(i)}),(function(t){return console.log(t)}))},n._media=e,n._config=r,n._loaderConfig={useFetch:!0,connectionTimeout:n._config.sdpConnectionTimeout||1e4,maxRetry:0,retryDelay:n._config.retryDelay||1e3},n.transmissionTimeout=n._config.transmissionTimeout||1e4,n.peerConnectionTimeout=r.peerConnectionTimeout||1e5,n.peerConnectionMaxRetry=r.peerConnectionMaxRetry||5,n.peerConnectionRetryDelay=r.peerConnectionRetryDelay||3e3,n._src=n._config.src,n._rtcStatParser=new $i,n}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n=r.prototype;return n.load=function(t,e){c.Log.i("kernel-rtc","load"),this._stat!==Qe.INIT&&this._monitor.reset(),this._src=t||this._src,this._manifest=new De(this._src),this._levels=this._manifest.levels,this._levels.length?this._load():this._onError({type:x.ErrorTypes.MUX_ERROR,details:x.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,reason:"manifest parsing error"})},n.setAvailableAbrLevels=function(t){},n.isTimeinBuffered=function(t){return!1},n.resume=function(){},n.destroy=function(){t.prototype.destroy.call(this),this._video&&(this._video.srcObject=null),this._disconnect(),this._stream=void 0,this._stopVideo()},n.refresh=function(t){this._disconnect(),this._load()},n.stopLoad=function(){this.emit(L.default.STOP_LOAD),this._pc&&(this._pc.close(),this._pc=null),this._stopRetry(),this._stopHeartbeat()},n.setCurrentLevel=function(t){},n.getCurrentLevel=function(){return this._index},n.setNextLevel=function(t){},n.getNextLevel=function(){return this._index},n.getLevels=function(){return this._levels},n.liveEnd=function(){},n._onVideoLoadedmetadata=function(){var t=this;this._parseStats((function(e){t._mediaInfo.width=e.width,t._mediaInfo.height=e.height,t._mediaInfo.audioCodec=e.audioCodec,t._mediaInfo.audioSampleRate=e.audioSampleRate,t._mediaInfo.channelCount=e.audioChannelCount,t._mediaInfo.videoCodec=e.videoCodec,t._mediaInfo.hasVideo=!!e.videoCodec,t._mediaInfo.hasAudio=!!e.audioCodec,t._mediaInfo.streamHost=e.rtcRemoteAddress,t._mediaInfo.streamPort=e.rtcRemotePort;var i=rr({},t._mediaInfo);t.emit(L.default.PARSING_INIT_SEGMENT,i)}))},n._heartbeat=function(){var t=this;this._parseStats((function(e){var i;e.speed||t.transmissionTimeoutTimer||"connected"!==(null==(i=t._pc)?void 0:i.connectionState)?e.speed&&(t.transmissionTimeoutTimer&&clearTimeout(t.transmissionTimeoutTimer),t.transmissionTimeoutTimer=null):t.transmissionTimeoutTimer=+setTimeout((function(){var e={type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.WEBRTC_TRANSMISSION_DATA_NULL,reason:"transmission timeout "+t.transmissionTimeout,fatal:!1,url:t._src};t._onError(e),t._retry(e.reason)}),t.transmissionTimeout),t.emit(L.default.HEARTBEAT,e)}))},n._onVideoCanplay=function(){this._stat!==Qe.NONE&&(this._stat=Qe.NONE),t.prototype._onVideoCanplay.call(this)},n._load=function(){var t=this;this._rtcStatParser.reset(),this._stat=Qe.LOADING,this.emit(L.default.LOAD,this._src),this.emit(L.default.NEW_SOURCE,{sync:0,index:0},this._levels[this._index]),this._pc&&this._pc.close(),this._createPeerConnection(),this._connect().catch((function(e){t._retry(null==e?void 0:e.reason)}))},n._stopVideo=function(){this._video&&(this._video.srcObject=null)},n._retry=function(t){var e=this;this._retrying=!0,this._pc&&this._pc.close(),this._stopRetry(),this._retryCount<this.peerConnectionMaxRetry&&(this.transmissionTimeoutTimer&&clearTimeout(this.transmissionTimeoutTimer),this._retryTimer&&clearTimeout(this._retryTimer),this._retryTimer=+setTimeout((function(){e._retryCount++,c.Log.i("kernel-rtc","retry",e._retryCount,t,e._src),e.emit(L.default.RETRY,{type:s.RetryType.RTC,message:"reason: "+t+". retry: "+e._retryCount}),e._retryTimer=null,e._createPeerConnection(),e._connect().then((function(){e._retryCount=0,e._retrying=!1}),(function(i){e._retryCount<e.peerConnectionMaxRetry?e._retry(t):e._onError(er(er({},i),{},{fatal:!0,url:e._src}))}))}),this.peerConnectionRetryDelay))},n._stopRetry=function(){this._retryTimer&&(clearTimeout(this._retryTimer),this._retryTimer=null)},n.fetchAnwserSdp=function(t){var e=this,i=new zt,r={url:this._src,responseType:"text",requestBody:t,requestMethod:"POST",headers:[{header:"Content-type",value:"application/json"}]};return new Promise((function(t,n){i.load(r,{onEnd:function(r,n){if("string"==typeof n){var o=JSON.parse(n);e.emit(L.default.LEVEL_UPDATED),t(o.sdp)}i.destroy()},onError:function(t,r){c.Log.e("kernel-rtc","loadSdp",r);var o={type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.LOAD_ERROR,reason:r.text,fatal:!1,url:e._src};r.retry===e._loaderConfig.maxRetry&&(i.destroy(),n(o)),e._onError(o)},onAbort:function(){i.destroy(),n()}},e._loaderConfig)})).catch((function(t){return Promise.reject(t)}))},n._createPeerConnection=function(){var t=this,e=this._pc=new RTCPeerConnection;return e.addEventListener("track",(function(e){return t._onPCTrack(e)})),e.addEventListener("connectionstatechange",(function(e){return t._onPCConnectionStateChange(e)})),e.addEventListener("icecandidateerror",(function(e){return t._onPCIceCandidateError(e)})),e.addEventListener("signalingstatechange",(function(e){return t._onPCSignalingStateChange(e)})),e.addEventListener("iceconnectionstatechange",(function(e){return t._onPCIceConnecttionStateChange(e)})),e.addEventListener("icegatheringstatechange",(function(e){return t._onIceGatheringStateChange(e)})),e.addTransceiver("audio",{direction:"recvonly"}),e.addTransceiver("video",{direction:"recvonly"}),e},n._disconnect=function(){this._pc&&this._pc.close(),this._pc=null},n._connect=function(){var t=this,e=this._pc;return e||Promise.reject("PeerConnection isn't exist"),this._createOffer().then((function(e){return t.fetchAnwserSdp(JSON.stringify({sdp:e.sdp}))})).then((function(e){return t._setAnwser(e)})).then((function(){return e?new Promise((function(i,r){var n=setTimeout((function(){var e={type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.WEBRTC_CONNECT_TIMEOUT,fatal:!1,reason:"webrtc connect timeout",url:t._src};t._onError(e),r(e)}),t.peerConnectionTimeout);e.addEventListener("connectionstatechange",(function t(){switch(e.connectionState){case"connected":i(void 0),clearTimeout(n),e.removeEventListener("connectionstatechange",t);break;case"closed":case"disconnected":case"failed":clearTimeout(n),e.removeEventListener("connectionstatechange",t),r({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.WEBRTC_CONNECT_FAILED,fatal:!1,reason:e.onconnectionstatechange})}}))})):Promise.reject("PeerConnection isn't exist")})).catch((function(t){return c.Log.e("kernel-rtc",t),Promise.reject(t)}))},n._createOffer=function(){var t=this,e=this._pc;return e?e.createOffer().then((function(t){return c.Log.i("kernel-rtc","offer",t),e.setLocalDescription(t).then((function(){return t}))}),(function(e){c.Log.e("kernel-rtc","offer",e);var i={type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.WEBRTC_OFFER_ERROR,fatal:!1,url:t._src,reason:"webrtc createoffer error"+e};return t._onError(i),Promise.reject(i)})):Promise.reject()},n._setAnwser=function(t){var e=this,i=this._pc;if(!i||"closed"===i.signalingState)return Promise.reject();var r=new RTCSessionDescription({type:"answer",sdp:t});return i.setRemoteDescription(r).then((function(t){c.Log.i("kernel-rtc","answer",r)}),(function(t){c.Log.e("kernel-rtc","answer",t);var i={type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.WEBRTC_ANSWER_ERROR,fatal:!1,url:e._src,reason:"webrtc answer error"};return e._onError(i),Promise.reject(i)}))},n._onPCTrack=function(t){var e=this;if(this._media.video&&t.streams&&this._stream!==t.streams[0]){var i=this._stream=t.streams[0];this._media.video.srcObject=i,this._mediaInfo={},t.streams[0].getTracks().forEach((function(t){var i=t.getSettings();e._mediaInfo.width=i.width||e._mediaInfo.width,e._mediaInfo.height=i.height||e._mediaInfo.height,e._mediaInfo.fps=i.frameRate||e._mediaInfo.fps}))}},n._onPCConnectionStateChange=function(t){var e=this._pc;if(e)switch(c.Log.i("kernel-rtc","pcConnectionStateChange",e.connectionState),e.connectionState){case"connecting":case"connected":break;case"disconnected":case"failed":case"closed":this._onError({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.WEBRTC_DISCONNECTED_ERROR,reason:e.connectionState,fatal:!1,url:this._src}),!this._retrying&&this._retry("PeerConnection state is "+e.connectionState)}},n._onPCIceCandidateError=function(t){var e;c.Log.i("kernel-rtc","iceCandidateError",t),this._onError({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.WEBRTC_ICE_CANDIDATE_ERROR,fatal:!1,reason:(null==(e=this._pc)?void 0:e.iceConnectionState)||""}),!this._retrying&&this._retry("iceCandidateError")},n._onPCSignalingStateChange=function(t){var e;c.Log.i("kernel-rtc","signalingStateChange",null==(e=this._pc)?void 0:e.signalingState)},n._onPCIceConnecttionStateChange=function(t){var e;c.Log.i("kernel-rtc","iceConnecttionStateChange",null==(e=this._pc)?void 0:e.iceConnectionState)},n._onIceGatheringStateChange=function(t){var e;c.Log.i("kernel-rtc","iceGatheringStateChange",null==(e=this._pc)?void 0:e.iceGatheringState)},n._onIcecandidate=function(t){var e;c.Log.i("kernel-rtc","icecandidate",t.candidate),t.candidate&&(null==(e=this._pc)||e.addIceCandidate(new RTCIceCandidate({sdpMLineIndex:0,sdpMid:"0",candidate:t.candidate})).then((function(){return c.Log.i("kernel-rtc","addIceCandidate success")}),(function(t){return c.Log.e("kernel-rtc","addIceCandidate failed",t)})))},r}(ri),ar=void 0,sr=new Uint8Array(16);function ur(){if(!nr&&!(nr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nr(sr)}for(var cr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,lr=function(t){return"string"==typeof t&&cr.test(t)},fr=[],dr=0;dr<256;++dr)fr.push((dr+256).toString(16).substr(1));var hr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(fr[t[e+0]]+fr[t[e+1]]+fr[t[e+2]]+fr[t[e+3]]+"-"+fr[t[e+4]]+fr[t[e+5]]+"-"+fr[t[e+6]]+fr[t[e+7]]+"-"+fr[t[e+8]]+fr[t[e+9]]+"-"+fr[t[e+10]]+fr[t[e+11]]+fr[t[e+12]]+fr[t[e+13]]+fr[t[e+14]]+fr[t[e+15]]).toLowerCase();if(!lr(i))throw TypeError("Stringified UUID is invalid");return i},pr=function(t){if(!lr(t))throw TypeError("Invalid UUID");var e,i=new Uint8Array(16);return i[0]=(e=parseInt(t.slice(0,8),16))>>>24,i[1]=e>>>16&255,i[2]=e>>>8&255,i[3]=255&e,i[4]=(e=parseInt(t.slice(9,13),16))>>>8,i[5]=255&e,i[6]=(e=parseInt(t.slice(14,18),16))>>>8,i[7]=255&e,i[8]=(e=parseInt(t.slice(19,23),16))>>>8,i[9]=255&e,i[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,i[11]=e/4294967296&255,i[12]=e>>>24&255,i[13]=e>>>16&255,i[14]=e>>>8&255,i[15]=255&e,i},_r=function(t,e,i){function r(t,r,n,o){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],i=0;i<t.length;++i)e.push(t.charCodeAt(i));return e}(t)),"string"==typeof r&&(r=pr(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+t.length);if(a.set(r),a.set(t,r.length),(a=i(a))[6]=15&a[6]|e,a[8]=63&a[8]|128,n){o=o||0;for(var s=0;s<16;++s)n[o+s]=a[s];return n}return hr(a)}try{r.name=t}catch(t){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function vr(t){return 14+(t+64>>>9<<4)+1}function mr(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function gr(t,e,i,r,n,o){return mr((a=mr(mr(e,t),mr(r,o)))<<(s=n)|a>>>32-s,i);var a,s}function yr(t,e,i,r,n,o,a){return gr(e&i|~e&r,t,e,n,o,a)}function Er(t,e,i,r,n,o,a){return gr(e&r|i&~r,t,e,n,o,a)}function wr(t,e,i,r,n,o,a){return gr(e^i^r,t,e,n,o,a)}function Ar(t,e,i,r,n,o,a){return gr(i^(e|~r),t,e,n,o,a)}_r("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var i=0;i<e.length;++i)t[i]=e.charCodeAt(i)}return function(t){for(var e=[],i=32*t.length,r=0;r<i;r+=8){var n=t[r>>5]>>>r%32&255,o=parseInt("0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[vr(e)-1]=e;for(var i=1732584193,r=-271733879,n=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=i,u=r,c=n,l=o;i=yr(i,r,n,o,t[a],7,-680876936),o=yr(o,i,r,n,t[a+1],12,-389564586),n=yr(n,o,i,r,t[a+2],17,606105819),r=yr(r,n,o,i,t[a+3],22,-1044525330),i=yr(i,r,n,o,t[a+4],7,-176418897),o=yr(o,i,r,n,t[a+5],12,1200080426),n=yr(n,o,i,r,t[a+6],17,-1473231341),r=yr(r,n,o,i,t[a+7],22,-45705983),i=yr(i,r,n,o,t[a+8],7,1770035416),o=yr(o,i,r,n,t[a+9],12,-1958414417),n=yr(n,o,i,r,t[a+10],17,-42063),r=yr(r,n,o,i,t[a+11],22,-1990404162),i=yr(i,r,n,o,t[a+12],7,1804603682),o=yr(o,i,r,n,t[a+13],12,-40341101),n=yr(n,o,i,r,t[a+14],17,-1502002290),r=yr(r,n,o,i,t[a+15],22,1236535329),i=Er(i,r,n,o,t[a+1],5,-165796510),o=Er(o,i,r,n,t[a+6],9,-1069501632),n=Er(n,o,i,r,t[a+11],14,643717713),r=Er(r,n,o,i,t[a],20,-373897302),i=Er(i,r,n,o,t[a+5],5,-701558691),o=Er(o,i,r,n,t[a+10],9,38016083),n=Er(n,o,i,r,t[a+15],14,-660478335),r=Er(r,n,o,i,t[a+4],20,-405537848),i=Er(i,r,n,o,t[a+9],5,568446438),o=Er(o,i,r,n,t[a+14],9,-1019803690),n=Er(n,o,i,r,t[a+3],14,-187363961),r=Er(r,n,o,i,t[a+8],20,1163531501),i=Er(i,r,n,o,t[a+13],5,-1444681467),o=Er(o,i,r,n,t[a+2],9,-51403784),n=Er(n,o,i,r,t[a+7],14,1735328473),r=Er(r,n,o,i,t[a+12],20,-1926607734),i=wr(i,r,n,o,t[a+5],4,-378558),o=wr(o,i,r,n,t[a+8],11,-2022574463),n=wr(n,o,i,r,t[a+11],16,1839030562),r=wr(r,n,o,i,t[a+14],23,-35309556),i=wr(i,r,n,o,t[a+1],4,-1530992060),o=wr(o,i,r,n,t[a+4],11,1272893353),n=wr(n,o,i,r,t[a+7],16,-155497632),r=wr(r,n,o,i,t[a+10],23,-1094730640),i=wr(i,r,n,o,t[a+13],4,681279174),o=wr(o,i,r,n,t[a],11,-358537222),n=wr(n,o,i,r,t[a+3],16,-722521979),r=wr(r,n,o,i,t[a+6],23,76029189),i=wr(i,r,n,o,t[a+9],4,-640364487),o=wr(o,i,r,n,t[a+12],11,-421815835),n=wr(n,o,i,r,t[a+15],16,530742520),r=wr(r,n,o,i,t[a+2],23,-995338651),i=Ar(i,r,n,o,t[a],6,-198630844),o=Ar(o,i,r,n,t[a+7],10,1126891415),n=Ar(n,o,i,r,t[a+14],15,-1416354905),r=Ar(r,n,o,i,t[a+5],21,-57434055),i=Ar(i,r,n,o,t[a+12],6,1700485571),o=Ar(o,i,r,n,t[a+3],10,-1894986606),n=Ar(n,o,i,r,t[a+10],15,-1051523),r=Ar(r,n,o,i,t[a+1],21,-2054922799),i=Ar(i,r,n,o,t[a+8],6,1873313359),o=Ar(o,i,r,n,t[a+15],10,-30611744),n=Ar(n,o,i,r,t[a+6],15,-1560198380),r=Ar(r,n,o,i,t[a+13],21,1309151649),i=Ar(i,r,n,o,t[a+4],6,-145523070),o=Ar(o,i,r,n,t[a+11],10,-1120210379),n=Ar(n,o,i,r,t[a+2],15,718787259),r=Ar(r,n,o,i,t[a+9],21,-343485551),i=mr(i,s),r=mr(r,u),n=mr(n,c),o=mr(o,l)}return[i,r,n,o]}(function(t){if(0===t.length)return[];for(var e=8*t.length,i=new Uint32Array(vr(e)),r=0;r<e;r+=8)i[r>>5]|=(255&t[r/8])<<r%32;return i}(t),8*t.length))}));var br,Sr,Tr,xr=function(t,e,i){var r=(t=t||{}).random||(t.rng||ur)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){i=i||0;for(var n=0;n<16;++n)e[i+n]=r[n];return e}return hr(r)};function Lr(t,e,i,r){switch(t){case 0:return e&i^~e&r;case 1:return e^i^r;case 2:return e&i^e&r^i&r;case 3:return e^i^r}}function Cr(t,e){return t<<e|t>>>32-e}function Ir(t){var e=performance.now();return{play:Math.round(t.playDuration+(t.playStartMS?e-t.playStartMS:0)),actualPlay:Math.round(t.actualPlayDuration+(t.actualPlayStartMS?e-t.actualPlayStartMS:0)),pause:Math.round(t.pauseDuration+(t.pauseStartMS?e-t.pauseStartMS:0)),buffer:Math.round(t.bufferTime+(t.bufferingStartMS?e-t.bufferingStartMS:0))}}function Dr(){for(var t=document,e=0,i=["hidden","webkitHidden","mozHidden"];e<i.length;e++){var r=i[e];if(r in t)return t[r]}return null}function Or(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}_r("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var r=unescape(encodeURIComponent(t));t=[];for(var n=0;n<r.length;++n)t.push(r.charCodeAt(n))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=t[64*u+4*l]<<24|t[64*u+4*l+1]<<16|t[64*u+4*l+2]<<8|t[64*u+4*l+3];s[u]=c}s[a-1][14]=8*(t.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(t.length-1)&4294967295;for(var f=0;f<a;++f){for(var d=new Uint32Array(80),h=0;h<16;++h)d[h]=s[f][h];for(var p=16;p<80;++p)d[p]=Cr(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var _=i[0],v=i[1],m=i[2],g=i[3],y=i[4],E=0;E<80;++E){var w=Math.floor(E/20),A=Cr(_,5)+Lr(w,v,m,g)+y+e[w]+d[E]>>>0;y=g,g=m,m=Cr(v,30)>>>0,v=_,_=A}i[0]=i[0]+_>>>0,i[1]=i[1]+v>>>0,i[2]=i[2]+m>>>0,i[3]=i[3]+g>>>0,i[4]=i[4]+y>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]})),function(t){t.PLAY="PLAY",t.END="END",t.PAUSE="PAUSE",t.LOAD="LOAD",t.BLOCK_START="BLOCK_START",t.BLOCK_END="BLOCK_END",t.SEEK_START="SEEK_START",t.SEEK_END="SEEK_END",t.LIVE_STOP="LIVE_STOP",t.STOP="STOP",t.ERROR="ERROR",t.DESTORY="DESTORY",t.QUALITY_CHANGE="QUALITY_CHANGE",t.QUALITY_CHANGE_DATA="QUALITY_CHANGE_DATA",t.QUALITY_CHANGE_RENDER="QUALITY_CHANGE_RENDER",t.SPEED_CHANGE="SPEED_CHANGE",t.RETRY="RETRY",t.AUDIO_OUTPUT_DEVICE_CHANGE="AUDIO_OUTPUT_DEVICE_CHANGE",t.NETWORK_CHANGE="NETWORK_CHANGE",t.VIDEO_DOM_EVENT="VIDEO_DOM_EVENT",t.FIRST_SCREEN_RENDER="FIRST_SCREEN_RENDER",t.PREPARED="PREPARED",t.METADATA_LOAD="METADATA_LOAD"}(br||(br={})),function(t){t.FIRST_FRAME="normal",t.FIRST_FRAME_SEEK="seek",t.FIRST_FRAME_SELECT_BITRATE="select_bitrate"}(Sr||(Sr={})),function(t){t.START="start",t.MANIFEST="manifest",t.LEVEL="level",t.DATA="data",t.DEMUX="demux",t.SEGMENT="segment",t.CANPLAY="canplay",t.LOADEDDATA="loadeddata",t.SEEKED="seeked"}(Tr||(Tr={}));var Rr=[{event:Tr.START,emitEvent:"first_loader_open_timestamp",detailName:"first-loader-open"},{event:Tr.MANIFEST,detailName:"manifest-duration"},{event:Tr.LEVEL,detailName:"level-duration"},{event:Tr.DATA,emitEvent:"receive-first-package-duration",detailName:"first-package-duration"},{event:Tr.DEMUX,emitEvent:"first-flv-package-duration",detailName:"first-remux-duration"},{event:Tr.SEGMENT,emitEvent:"first-flv-to-mp4",detailName:"first-segment-duration"},{event:[Tr.LOADEDDATA,Tr.CANPLAY,Tr.SEEKED],emitEvent:"first_video_frame_duration",detailName:"first-frame-duration"}],kr=function(){function t(t,e){this._complete=0,this._duration=0,this._events=void 0,this._start=0,this._lastEventTime=0,this._details={},this._eventEmitter=void 0,this._media=void 0,this._type=Sr.FIRST_FRAME,this._events=Rr.slice(0),this._eventEmitter=t,this._media=e}var e,i,r,n=t.prototype;return n.start=function(t){this._complete=0,this._start=performance.now(),this._duration=0,this._events=Rr.slice(0),this._lastEventTime=0,this._type=t,this._details={type:t,error_cnt:0},this.process(Tr.START,this._start)},n.process=function(t,e){if(void 0===e&&(e=0),this._complete)return!1;var i=this._events,r=-1;e=e||performance.now();for(var n=0;n<i.length;n++){var o=i[n];if(Array.isArray(o.event)){if(-1!==o.event.indexOf(t)){r=n;break}}else if(o.event===t){r=n;break}}if(-1===r)return!1;var a=i.splice(0,r+1).pop(),s="closed"===this._media.mseReadyState;if((0===i.length||s&&t===Tr.SEGMENT)&&(this._duration=e-this._start,this._complete=Date.now()),a){var u=Math.round(e-this._lastEventTime);0===this._lastEventTime&&(u=Date.now()),this._lastEventTime=e,this._details[a.detailName]=u,a.emitEvent&&this._eventEmitter&&this._eventEmitter.emit(L.default.REPORT,{type:D.PERFORMANCE,value:{type:a.emitEvent,value:u}})}return!!this._complete},n.onError=function(){this._details.error_cnt++},e=t,(i=[{key:"type",get:function(){return this._type}},{key:"complete",get:function(){return this._complete}},{key:"duration",get:function(){return this._duration}},{key:"details",get:function(){return this._details}}])&&Or(e.prototype,i),r&&Or(e,r),t}(),Nr=window.performance,Mr=function(){function t(){var t=this;this.tag="fps",this._lastDroppedFrames=0,this._lastDecodedFrames=0,this._video=null,this._isVideoPlaybackQualityAvailable=!1,this._lastTime=0,this._decoded=0,this._dropped=0,this._seeked=function(){t.checkFPSInterval()}}var e=t.prototype;return e.attachMedia=function(t){var e=this._video=t instanceof window.HTMLVideoElement?t:null;e&&(this._isVideoPlaybackQualityAvailable="function"==typeof e.getVideoPlaybackQuality,e.addEventListener("seeked",this._seeked))},e.destory=function(){this._video&&this._video.removeEventListener("seeked",this._seeked)},e.reset=function(){this._lastTime=Nr.now(),this._lastDroppedFrames=this._lastDecodedFrames=this._decoded=this._dropped=0;var t=this._video;if(t)try{if(this._isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this._lastDecodedFrames=e.totalVideoFrames,this._lastDroppedFrames=e.droppedVideoFrames}else this._lastDecodedFrames=t.webkitDecodedFrameCount,this._lastDroppedFrames=t.webkitDroppedFrameCount}catch(t){return}},e.checkFPSInterval=function(){var t=this._video,e=Nr.now(),i=null,r=0,n=0;if(t)if(this._isVideoPlaybackQualityAvailable){var o=t.getVideoPlaybackQuality();r=o.totalVideoFrames,n=o.droppedVideoFrames}else r=t.webkitDecodedFrameCount||0,n=t.webkitDroppedFrameCount||0;if(r){r<this._lastDecodedFrames&&(this._lastDecodedFrames=0,this._lastDroppedFrames=0);var a=e-this._lastTime,s=n-this._lastDroppedFrames,u=r-this._lastDecodedFrames,c=0,l=0;this._lastTime&&(c=parseFloat((1e3*s/a).toFixed(2)),l=parseFloat((1e3*u/a).toFixed(2))),this._decoded=this._decoded+=u,this._dropped=this._dropped+=s,this._lastTime=e,this._lastDroppedFrames=n,this._lastDecodedFrames=r,i={decoded:this._decoded,dropped:this._dropped,decodedFPS:l,droppedFPS:c}}return this._lastTime=e,i},t}();function Pr(){return(Pr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Ur(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Br(t,e,i){return e&&Ur(t.prototype,e),i&&Ur(t,i),t}var Fr={local:0,server:0},Kr=function(){function t(){var t=this;this._loader=void 0,this._callback=void 0,this._loaderConfig=void 0,this._onLoaderError=function(){t._disposeLoader()},this._onLoaderEnd=function(e,i){if(t._disposeLoader(),"string"==typeof i){Fr.local=performance.now();var r=i.split(",");Fr.server=1e3*parseFloat(r[0])+parseInt(r[1],10)/1e3/2}},this._callback={onError:this._onLoaderError,onEnd:this._onLoaderEnd},this._loaderConfig={useFetch:!1,connectionTimeout:5e3}}t.serverMs=function(t){return Fr.server?t-Fr.local+Fr.server:null},Br(t,null,[{key:"serverNowMs",get:function(){return Fr.server?performance.now()-Fr.local+Fr.server:null}}]);var e=t.prototype;return e.update=function(t){t?Fr={server:t,local:0}:this.load()},e.load=function(){this._disposeLoader();var t={url:"https://ntp.nc.gifshow.com/",responseType:"text"};(this._loader=new zt).load(t,this._callback,this._loaderConfig)},e.destroy=function(){this._disposeLoader()},e._disposeLoader=function(){this._loader&&this._loader.destroy()},Br(t,[{key:"time",get:function(){return Pr({},Fr)}}]),t}();function jr(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Vr=function(){function t(){this._ntp=void 0,this._media=void 0,this._priv={keyAbstMs:0,keyPtsOrignMs:0,keyDtsOrignMs:0},this._vLastFrameInfo=void 0,this._aLastFrameInfo=void 0}var e,i,r,n=t.prototype;return n.init=function(t){this._ntp=new Kr,Kr.serverNowMs||this._ntp.load(),this._media=t},n.onPrivNal=function(t){this._priv.keyAbstMs=t.abst,this._priv.keyPtsOrignMs=t.ptsOrignMs,this._priv.keyDtsOrignMs=t.timestamp},n.onParsing=function(t){var e=this;t.segments.forEach((function(t){var i=t;Array.isArray(i.framesInfo)&&(t.type===s.TrackType.VIDEO?e._vLastFrameInfo=i.framesInfo[i.framesInfo.length-1]:t.type===s.TrackType.AUDIO&&(e._aLastFrameInfo=i.framesInfo[i.framesInfo.length-1]))}))},n.destroy=function(){this._ntp&&(this._ntp.destroy(),this._ntp=void 0)},n._renderDelay=function(t){var e=Kr.serverNowMs,i=this._priv;if(e&&t&&this._media&&i.keyAbstMs){var r=1e3*this._media.currentTime;return t.ptsMs-r+e-(t.ptsOrignMs-i.keyPtsOrignMs+i.keyAbstMs)}return 0},e=t,r=[{key:"workerTimeOffset",set:function(e){t._workerStartMs=e}}],(i=[{key:"displayDelay",get:function(){return this._renderDelay(this._vLastFrameInfo)}},{key:"audioRenderDelay",get:function(){return this._renderDelay(this._aLastFrameInfo)}},{key:"recDelay",get:function(){var e=this._vLastFrameInfo;if(Kr.serverNowMs&&e&&this._media){var i=this._priv;return Kr.serverMs(e.parseMs+t._workerStartMs)-(e.dtsOrignMs-i.keyDtsOrignMs+i.keyAbstMs)}return 0}}])&&jr(e.prototype,i),r&&jr(e,r),t}();Vr._workerStartMs=0;var Hr=Vr;function qr(){return(qr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var Gr=function(){function t(t,e){this._data=void 0,this._config=void 0,this._snapshot=void 0,this._tickIndex=1,this._statTimestampMillis=0,this._statTimestampMillisUTC=0,this._firstScreen=!0,this._firstScreenDetails=void 0,this._firstScreenDuration=null,this._clickToFirstFrame=0,this._customeHttpHeader=void 0,this._errorCode=0,this._errorMessage="",this._data=t,this._config=e,this._tickIndex=1,this._snapshot={play:0,actualPlay:0,pause:0,buffer:0,blockCount:0,pauseCnt:0,renderBlockCount:0,seekCnt:0,seekLoadCnt:0,decodedFrames:0,droppedFrames:0,downloadedBytes:0,cdnDropFrameCnt:0,cdnDropFrameDuration:0,download:0,mseUpdate:0,mseRemove:0,segment:0,preloadCount:0},this._resetForNewInterval()}var e=t.prototype;return e._updateSnapshot=function(t){var e={};for(var i in this._snapshot)"number"==typeof t[i]&&(e[i]=t[i]-this._snapshot[i],this._snapshot[i]=t[i]);return e},e._resetForNewInterval=function(){this._statTimestampMillis=performance.now(),this._statTimestampMillisUTC=Date.now(),this._customeHttpHeader=void 0,this._firstScreenDuration=null,this._firstScreenDetails=void 0,this._errorCode=0,this._errorMessage=""},e.setFirstScreenDuration=function(t,e,i){this._firstScreenDuration=Math.round(t),this._firstScreenDetails=e,this._firstScreen=!0,this._clickToFirstFrame=i},e.setCustomHeader=function(t){void 0===this._customeHttpHeader&&(this._customeHttpHeader=tt(t)||null)},e.setError=function(t,e){this._errorCode=t,this._errorMessage=e},e.buildAndStartNewInterval=function(){var t=this._data,e=this._config,i=this._updateSnapshot(t),r=this._updateSnapshot(Ir(this._data)),n=performance.now(),o={skip_cnt:i.cdnDropFrameCnt,skip_duration:i.cdnDropFrameDuration,v_rec_delay:t.recDelay||0,v_render_delay:t.displayDelay||0,a_render_delay:t.audioRenderDelay||0},a={load_count:i.download,seek_cnt:i.seekCnt,seek_load_cnt:i.seekLoadCnt,pause_duration:r.pause,pause_cnt:i.pauseCnt,preload_cnt:i.preloadCount},s={tick_index:this._tickIndex,tick_start:this._statTimestampMillisUTC,tick_duration:Math.round(n-this._statTimestampMillis),domain:new ye.a(t.url).host,error_code:this._errorCode,error_message:this._errorMessage,kernel_version:t.version,session_id:t.sessionId,play_url:t.url,load_start_time:t.loadStartTime||0,play_start_time:t.playStartTime||0,adaptive_multi_rate:t.abrNow?1:0,max_bitrate:t.maxBitrate||0,avg_bitrate:t.avgBitrate||0,protocol:t.protocol,stream_duration:t.streamDuration||0,reuse:t.reuse,kbytes_received:i.downloadedBytes>>10,block_count:i.blockCount||0,render_block_count:i.renderBlockCount||0,decoded_video_frames:i.decodedFrames||0,dropped_video_frames:i.droppedFrames||0,segment_count:i.segment||0,play_duration:r.play||0,buffer_time:r.buffer||0,actual_play_duration:r.actualPlay||0,played_video_duration:r.play||0,a_buf_start:t.aBufStart||0,a_buf_end:t.aBufEnd||0,a_buf_len:t.aBufLen||0,a_buf_slices:t.aBufCount||0,v_buf_start:t.vBufStart||0,v_buf_end:t.vBufEnd||0,v_buf_len:t.vBufLen||0,v_buf_slices:t.vBufCount||0,play_pos:t.playPos||0,v_data_rate:t.vDataRate||0,a_data_rate:t.aDataRate||0,buffer_queue_count:t.bufferQueueCount||0,hidden:Dr()?1:0,v_ready_state:t.videoReadyState};return t.mse&&(s.mse_update_count=i.mseUpdate||0,s.mse_remove_count=i.mseRemove||0),this._firstScreen&&(null===this._firstScreenDuration?s.first_screen_total_duration=0:(s.first_screen_total_duration=this._firstScreenDuration,s.first_screen_details=this._firstScreenDetails,"hls"===e.box&&(s.preload_hit=t.preloadHit,s.preload_cache_hit=t.preloadCacheHit,s.preload_cache_fail=t.preloadCacheFail),this._firstScreenDetails=null,this._firstScreenDuration=null,this._firstScreen=!1)),"number"==typeof this._clickToFirstFrame&&t.playStartTime&&(s.click_to_first_frame=this._clickToFirstFrame,this._clickToFirstFrame>0&&(this._clickToFirstFrame=void 0)),this._customeHttpHeader&&(s.custom_http_header=this._customeHttpHeader),t.qualityType&&(s.quality_type=t.qualityType),t.qualityLabel&&(s.quality_label=t.qualityLabel),t.avgBitrate&&(s.avg_bitrate=t.avgBitrate),"flv"===e.box?qr(s,o):qr(s,a),this._resetForNewInterval(),this._tickIndex++,s},t}();function zr(){return(zr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Wr(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Xr,Yr=function(){function t(){this._qos=void 0,this._rtcClosedStreamTraffic=0,this.reset()}var e,i,r,n=t.prototype;return n.reset=function(){this._qos={traffic:0,streams:[],download:[]},this._rtcClosedStreamTraffic=0},n.onKeyFrame=function(){this._qos.streams[this._qos.streams.length-1].keyFrame++},n.onStreamOpen=function(t,e,i,r,n){var o=this.loadingInfo;o&&(this._rtcClosedStreamTraffic+=o.traffic),this._qos.streams.length>10&&this._qos.streams.shift(),this._qos.streams.push({protocol:n,index:t,startPos:e,url:i,bitrate:r,traffic:0,loadTimeCost:0,keyFrame:0,videoDataRate:0,audioDataRate:0,speed:0,segments:{}})},n.setRTCStats=function(t){var e=this.loadingInfo;e&&(e.traffic=t.totalReceive,e.audioDataRate=t.audioDataRate,e.videoDataRate=t.videoDataRate,e.speed=t.speed,e.keyFrame=t.key,this._qos.traffic=e.traffic+this._rtcClosedStreamTraffic)},n.onMediaInfo=function(t){var e=this.loadingInfo;e&&(e.mediaInfo=zr({},t))},n.onDataReceive=function(t){this._qos.traffic+=t.byteLength;var e=this._qos.download;e.length>200&&e.pop(),e.unshift(t);var i=this._qos.streams[this._qos.streams.length-1];i.traffic+=t.byteLength,i.loadTimeCost+=t.timeCost},n.onMediaSegment=function(t){var e=this._qos,i=e.streams[e.streams.length-1],r=i.segments[t.type]||[];i.segments[t.type]=r,r.push({duration:1e3*(t.endDTS-t.startDTS),dts:1e3*t.startDTS,len:t.payload.byteLength}),r.length>100&&r.shift();for(var n=0,o=0,a=0;a<r.length;a++)o+=r[a].len,n+=r[a].duration;n>0&&(t.type===s.TrackType.VIDEO?i.videoDataRate=Math.round(8*o/n):t.type===s.TrackType.AUDIO&&(i.audioDataRate=Math.round(8*o/n)))},n.getInfoByTime=function(t){for(var e=this._qos.streams.length-1;e>=0;e--)if(this._qos.streams[e].startPos<t)return this._qos.streams[e];return null},n.updateStartPos=function(t){this._qos.streams.length&&(this._qos.streams[this._qos.streams.length-1].startPos=t)},e=t,(i=[{key:"loadingInfo",get:function(){return this._qos.streams.length?this._qos.streams[this._qos.streams.length-1]:null}},{key:"downloadSpeed",get:function(){var t=this.loadingInfo;if(t){if(t.protocol!==s.Protocol.KWAI_WEBRTC){for(var e=this._qos,i=performance.now(),r=0,n=0,o=0;o<e.download.length&&e.download[o].ts>i-1e3;o++)r+=e.download[o].byteLength,n+=e.download[o].timeCost;t.speed=Math.round(r/n*1e3)||0}return t.speed}return 0}},{key:"mediaInfo",get:function(){return this._qos.streams.length?this._qos.streams[this._qos.streams.length-1].mediaInfo:null}},{key:"videoDataRate",get:function(){return this._qos.streams.length?this._qos.streams[this._qos.streams.length-1].videoDataRate:0}},{key:"audioDataRate",get:function(){return this._qos.streams.length?this._qos.streams[this._qos.streams.length-1].audioDataRate:0}},{key:"bitrate",get:function(){return this._qos.streams.length?this._qos.streams[this._qos.streams.length-1].bitrate:0}},{key:"traffic",get:function(){return this._qos.traffic}},{key:"data",get:function(){return this._qos}}])&&Wr(e.prototype,i),r&&Wr(e,r),t}();function Qr(){return(Qr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Jr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Zr(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Jr(Object(i),!0).forEach((function(e){$r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Jr(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function $r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function tn(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}!function(t){t.NORMEL="normal",t.SEEK="seek",t.END="end",t.LEVEL_SWITCH="levelSwitch"}(Xr||(Xr={}));var en=function(t){var e,i;function r(e,i,r){var n;return(n=t.call(this)||this)._version=void 0,n._config=void 0,n._beaconTimer=void 0,n._runningStartTime=void 0,n._media=void 0,n._fps=void 0,n._firstFrame=void 0,n._data=void 0,n._realtimeBeacon=void 0,n._firstLoadTime=0,n._hiddenStart=!1,n._playing=!1,n._seeking=!1,n._sm=void 0,n._seekLoadFlag=!1,n._liveDelay=void 0,n._waitingTrigger=s.WaitingTrigger.NATIVE,n._seekingThrottle=null,n._seekedDebounce=null,n._onOnlineChange=function(){n.triggerEventReport(br.NETWORK_CHANGE,{online:void 0!==navigator.onLine?navigator.onLine?1:0:null})},n._sendRealtimeBeacon=function(t){void 0===t&&(t=Xr.NORMEL);var e=n._getRealtimeBeacon();e&&(e.type=t,n._config.isLive||(e.seek_record=n._data.seekRecord.slice(0),n._data.seekRecord=[]),n.emit(L.default.REPORT,{type:D.REALTIME_BEACON,value:e}))},n._version=e,n._config=r,n._beaconTimer=null,n._runningStartTime=performance.now(),n._firstFrame=new kr(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),i),n._sm=new Yr,n._media=i,i.video&&(n._fps=new Mr,n._fps.attachMedia(i.video)),r.isLive&&r.box===s.MediaBox.flv&&r.ntp&&(n._liveDelay=new Hr,n._liveDelay.init(i)),n.reset(),window.addEventListener("online",n._onOnlineChange),window.addEventListener("offline",n._onOnlineChange),n}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var n,o,a,l=r.prototype;return l.reset=function(t){void 0===t&&(t=!1),this._playing=!1,this._seeking=!1,this._seekLoadFlag=!1,this._seekedDebounce&&clearTimeout(this._seekedDebounce),this._seekingThrottle&&clearTimeout(this._seekingThrottle),this._data={version:this._version,decodedFPS:0,droppedFPS:0,decodedFrames:0,droppedFrames:0,sessionId:xr(),startTime:performance.now(),loadStartTime:0,playStartTime:0,playDuration:0,actualPlayDuration:0,pauseDuration:0,pauseCnt:0,bufferTime:0,blockCount:0,renderBlockCount:0,streamDuration:0,seekCnt:0,seekDuration:0,seekLoadCnt:0,seekLoadDuration:0,seekStartTime:0,recoverMedia:0,retry:0,urlId:0,url:"",unknownTSPacketCount:0,audioNonMonotonous:0,startBitrate:0,smoothBitrate:-1,useBackup:0,abrLowProfile:0,abr:!1,mseBufferFull:0,aacOverhead:0,protocol:s.Protocol.UNKNOWN,errorCode:0,errorMessage:"",maxBitrate:0,downloadedBytes:0,cdnDropFrameCnt:0,cdnDropFrameDuration:0,download:0,mseUpdate:0,segment:0,mseRemove:0,preloadHit:0,preloadCount:0,preloadCacheHit:0,preloadCacheFail:0,reuse:0,videoReadyState:0,playPos:0,seekRecord:[],codecs:"",mse:!1,aBufStart:0,aBufEnd:0,aBufLen:0,aBufCount:0,vBufStart:0,vBufEnd:0,vBufLen:0,vBufCount:0,aDataRate:0,vDataRate:0,bufferQueueCount:0,firstScreenTotalDuration:0,clickToFirstFrame:0},c.Log.i("monitor","reset",this._data.sessionId),this._data.reuse=t?1:0,this._sm.reset(),this._fps&&this._fps.reset(),this._refreshFPS()},l.onLoaderChunkArrival=function(t){t.ts=t.ts||performance.now(),this._data.downloadedBytes+=t.byteLength,this._sm.onDataReceive(t),this._realtimeBeacon&&this._realtimeBeacon.setCustomHeader(t.header),this._processFirstFrame(Tr.DATA,t.ts)},l.onMediaDemux=function(t){this._data.demuxer=t.type,this._processFirstFrame(Tr.DEMUX,performance.now())},l.onKeyFrame=function(){this._sm.onKeyFrame()},l.onMuxInfo=function(t){var e=this._data;e.unknownTSPacketCount=e.unknownTSPacketCount||t.unknownTSPacketCount||0,e.audioNonMonotonous=e.audioNonMonotonous||t.audioNonMonotonous||0,e.aacOverhead=e.aacOverhead||t.aacOverhead||0},l.onLostFrame=function(t){this._data.cdnDropFrameCnt++,this._data.cdnDropFrameDuration+=Math.round(t.drop)},l.onUseBackup=function(){this._data.useBackup=1},l.onAbrInfo=function(t){this._data.abrLowProfile=t.lowProfile},l.onNewSource=function(t,e){if(e){var i=this._data;i.urlId=e.urlId,i.url=e.url[e.urlId],this._sm.onStreamOpen(t.index||0,t.sync,i.url,e.bitrate,i.protocol),i.level=t.index,i.maxBitrate=e.maxBitrate,i.avgBitrate=e.avgBitrate,i.qualityType=e.qualityType,i.qualityLabel=e.qualityLabel,i.protocol===s.Protocol.UNKNOWN&&(this._config.box===s.MediaBox.native?i.protocol=s.Protocol.NATIVE:this._config.box===s.MediaBox.hls?i.protocol=s.Protocol.HLS:this._config.box===s.MediaBox.flv?i.protocol=s.Protocol.FLV:this._config.box===s.MediaBox.mp4&&(i.protocol=s.Protocol.MP4))}},l.onDiscontinuity=function(t){this.emit(L.default.REPORT,{type:D.DISCONTINUITY,value:t})},l.onDownload=function(t){var e=this,i=this._data;if(t.cacheHit)t.preload||(i.preloadCacheHit=1);else{i.preloadCacheFail=t.cacheFail?1:0,t.errorCode&&!this._firstFrame.complete&&this._firstFrame.onError(),i.download++;var r=function(t){var e;return"flv"===t.resourceType?e={domain:new ye.a(t.url).host,downloaded_size:t.byteLength,error_code:t.errorCode,load_status:t.status,network_cost:Math.round(t.spendTime),resource_type:"flv",total_size:t.byteLength,url:t.url}:(e={download_url:t.url,domain:new ye.a(t.url).host,download_start_time:t.startTime,download_spend_time:Math.round(t.spendTime),download_status:t.status,http_status_code:t.httpStatusCode,retry_index:t.retry,error_code:t.errorCode,error_message:t.errorMessage,loader_id:t.loaderId,download_size:t.byteLength,resource_type:t.resourceType,preload:t.preload?1:0},t.slice&&(e.hls_slice_bytes=t.byteLength,e.hls_slice_play_start_time=t.slicePlayStartTime,e.hls_slice_play_duration=t.slicePlayDuration,e.hls_slice_index=t.sliceIndex,t.sliceLevelIndex&&(e.hls_slice_level_index=t.sliceLevelIndex)),t.qualityType&&(e.quality_type=t.qualityType),"number"==typeof t.rangeStart&&(e.range_start=t.rangeStart),t.rangeEnd&&(e.range_end=t.rangeEnd)),t.httpResponseTime&&(e.http_response_time=t.httpResponseTime),t.customHeader&&(e.custom_http_header=t.customHeader),void 0!==t.redirect&&(e.time_redirect=Math.round(t.redirect)),void 0!==t.dns&&(e.time_dns=Math.round(t.dns)),void 0!==t.tcp&&(e.time_tcp=Math.round(t.tcp)),void 0!==t.request&&(e.time_request=Math.round(t.request)),void 0!==t.firstResponse&&(e.time_first_response=Math.round(t.firstResponse)),void 0!==t.response&&(e.time_response=Math.round(t.response)),t.duration&&(e.duration=Math.round(t.duration)),e}(t);r.session_id=i.sessionId,r.kernel_version=this._version,r.load_start_time=i.loadStartTime||0,r.protocol=i.protocol,r.use_backup=i.useBackup,r.first_screen=i.firstScreenTotalDuration?1:0,1009===t.errorCode?setTimeout((function(){e.emit(L.default.REPORT,{type:D.DOWNLOAD,value:r})}),0):this.emit(L.default.REPORT,{type:D.DOWNLOAD,value:r})}},l.heartbeat=function(t){var e=this._data;this._refreshFPS();var i={},r=this._sm;t&&r.setRTCStats(t),i=e.mse||e.protocol===s.Protocol.KWAI_WEBRTC?{totalReceive:r.traffic,speed:r.downloadSpeed,videoDataRate:r.videoDataRate,audioDataRate:r.audioDataRate,videoBuffered:Math.round(1e3*this._media.bufferedSecByType(s.TrackType.VIDEO)),audioBuffered:Math.round(1e3*this._media.bufferedSecByType(s.TrackType.AUDIO))}:{videoBuffered:Math.round(1e3*this._media.bufferedSec()),audioBuffered:Math.round(1e3*this._media.bufferedSec())},this._refreshDelay(),i.decodedFPS=e.decodedFPS,i.droppedFPS=e.droppedFPS,i.decodedFrames=e.decodedFrames,i.droppedFrames=e.droppedFrames,t&&(i.audioAvgJitterBufferDelay=t.audioAvgJitterBufferDelay,i.videoAvgJitterBufferDelay=t.videoAvgJitterBufferDelay,i.audioPacketsLost=t.audioPacketsLost,i.videoPacketsLost=t.videoPacketsLost),e.displayDelay&&(i.displayDelay=e.displayDelay,i.recDelay=e.recDelay),this.emit(L.default.REPORT,{type:D.HEARTBEAT,value:i})},l._refreshFPS=function(){var t;this._fps&&(t=this._fps.checkFPSInterval());var e=this._data;t?(e.decodedFPS=t.decodedFPS,e.droppedFPS=t.droppedFPS,e.droppedFrames=t.dropped,e.decodedFrames=t.decoded):e.decodedFPS=e.droppedFPS=e.droppedFrames=e.decodedFrames=0},l.destroy=function(){this.triggerEventReport(br.DESTORY),this._sendRealtimeBeacon(Xr.END),this._stopBeaconTimer(),this._fps&&(this._fps.destory(),this._fps=void 0),window.removeEventListener("online",this._onOnlineChange),window.removeEventListener("offline",this._onOnlineChange),this._seekedDebounce&&clearTimeout(this._seekedDebounce),this._seekingThrottle&&clearTimeout(this._seekingThrottle),this._liveDelay&&this._liveDelay.destroy()},l.onPreloadHit=function(t){this._data.preloadHit=1,this._onLoad(t,1)},l.onPreload=function(){this._data.preloadCount++},l.onLoad=function(t,e){void 0===e&&(e=!1);var i="string"==typeof t?t:"";e?(this._firstFrame.complete||this._firstFrame.start(Sr.FIRST_FRAME),this._data.errorCode=0,this._data.errorMessage=""):this._onLoad(i)},l.onStopLoad=function(){this._sendRealtimeBeacon(Xr.END),this._stopBeaconTimer(),this._waitingEnd(),this._config.isLive&&this.triggerEventReport(br.LIVE_STOP)},l.onManifest=function(t,e){e&&(this._data.url=e.url[e.urlId],this._data.protocol=t.protocol,this._data.drm=t.drm,this._data.startBitrate||(this._data.startBitrate=e.bitrate),this._data.abrNow=this._data.abr=this._data.abr||t.auto),this._processFirstFrame(Tr.MANIFEST)},l.onLevel=function(t){void 0===t&&(t=0),this._processFirstFrame(Tr.LEVEL,t)},l.onAudioTrack=function(){},l.onSegmentInit=function(t){var e=[];t.videoCodec&&e.push(t.videoCodec),t.audioCodec&&e.push(t.audioCodec),this._data.codecs=e.join(","),t.sid=this._data.sessionId,t.streamHost||(t.streamHost=new ye.a(this._data.url).host),this._sm.onMediaInfo(t),this.emit(L.default.REPORT,{type:D.MEDIA_INFO,value:t})},l.onSegment=function(t){var e=this;this._liveDelay&&this._liveDelay.onParsing(t),t.segments.forEach((function(t){e._sm.onMediaSegment(t)})),this._processFirstFrame(Tr.SEGMENT),this._data.segment++},l.onPrivNal=function(t){this._liveDelay&&this._liveDelay.onPrivNal(t)},l.onPlay=function(){this._data.playStartTime||(this._data.playStartTime=Date.now()),this._startBeaconTimer()},l.onLoadeddata=function(){this._processFirstFrame(Tr.LOADEDDATA),this._waitingEnd()},l.onCanplay=function(){this._processFirstFrame(Tr.CANPLAY),u.default.safari&&!this._data.mse||this._waitingEnd()},l.onPlaying=function(){this._playing||(this._playing=!0,this.triggerEventReport(br.PLAY)),this._playStart(),this._pauseEnd(),this._waitingEnd()},l.onPause=function(){var t;null!=(t=this._media.video)&&t.seeking||!this._playing||(this._playEnd(),this._pauseStart(),this.triggerEventReport(br.PAUSE),this._playing=!1)},l.onEnd=function(){this._playing=!1,this._playEnd(),this._pauseEnd(),this._waitingEnd(),this._sendRealtimeBeacon(Xr.END),this._stopBeaconTimer(),this.triggerEventReport(br.END)},l.onWaiting=function(t,e){this._data.playPos=Math.round(1e3*this._media.currentTime),this._playing&&this._firstFrame.complete&&t&&(this._waitingStart(e),this.triggerEventReport(br.BLOCK_START))},l.mseOpen=function(){this._data.mse=!0,this._media&&this._media.video&&!this._media.video.paused&&this.onPlay()},l.mseUpdate=function(){this._data.mseUpdate++},l.mseRemove=function(){this._data.mseRemove++},l.onSeek=function(t){var e,i,r=this;void 0===t&&(t=!1),this._data.seekRecord.push({from:this._data.playPos,to:Math.round(1e3*this._media.currentTime),time:Date.now()}),this._data.seekRecord.length>50&&this._data.seekRecord.shift(),this._config.isLive||t||(this._data.seekStartTime=performance.now(),this._seeking?!this._seekingThrottle&&this._seeking&&(this._seekingThrottle=+setTimeout((function(t){var e,i;r.triggerEventReport(br.SEEK_START,{paused:null==(e=r._media.video)?void 0:e.paused,seeking:null==(i=r._media.video)?void 0:i.seeking,position:t}),r._seekingThrottle=null}),500,this._data.playPos/1e3)):(this.triggerEventReport(br.SEEK_START,{paused:null==(e=this._media.video)?void 0:e.paused,seeking:null==(i=this._media.video)?void 0:i.seeking,position:this._data.playPos/1e3}),this._seeking=!0))},l.onSeekWithLoad=function(t){this._sendRealtimeBeacon(Xr.SEEK),this._resetBeaconTimer(),this._firstFrame.start(Sr.FIRST_FRAME_SEEK),this._sm.updateStartPos(t),this._seekLoadFlag=!0},l.onSeeked=function(){var t=this;if(this._data.seekStartTime){var e;this._data.seekCnt++;var i=Math.round(performance.now()-this._data.seekStartTime);this._data.seekDuration+=i,this._data.seekStartTime=0,this._seekLoadFlag&&(this._data.seekLoadCnt++,this._data.seekLoadDuration+=i),this._seekedDebounce&&clearTimeout(this._seekedDebounce),this._seekedDebounce=+setTimeout((function(e){var i,r,n;null!=(i=t._media.video)&&i.seeking||(t._seeking=!1,t.triggerEventReport(br.SEEK_END,{paused:null==(r=t._media.video)?void 0:r.paused,seeking:null==(n=t._media.video)?void 0:n.seeking,position:e}))}),500,null==(e=this._media.video)?void 0:e.currentTime)}this._seekLoadFlag=!1,this._firstFrame.complete||this._data.mse||!u.default.safari&&!u.default.msie||this._firstFrame.process(Tr.SEEKED)},l.onMSEBufferFull=function(){this._data.mseBufferFull++},l.onTimeupdate=function(){var t=Math.round(1e3*this._media.currentTime);u.default.msie&&!this._data.mse&&this._data.bufferingStartMS&&this._data.playPos!==t&&this.onPlaying(),this._data.playPos=t},l.onProgress=function(){var t;u.default.safari&&!this._data.mse&&this._data.bufferingStartMS&&4===(null==(t=this._media.video)?void 0:t.readyState)&&this._waitingEnd()},l.mediaCapabilities=function(t){this._data.smoothBitrate=t},l.levelSwitching=function(t,e){e&&(this._data.url=e.url[e.urlId],this._data.abrNow=t.auto,this._data.abr=this._data.abr||t.auto,this.triggerEventReport(br.QUALITY_CHANGE,{quality_type:e.qualityType,trigger_mode:t.auto?"abr":"user",play_url:this._data.url,is_smooth:t.isSmooth?1:0}))},l.levelSwitched=function(){this.triggerEventReport(br.QUALITY_CHANGE_DATA)},l.levelSwitchPlaying=function(){this.triggerEventReport(br.QUALITY_CHANGE_RENDER)},l.onAudioSwitching=function(){},l.onAudioSwitched=function(){},l.onRetry=function(t){this._data.retry++,t.type===s.RetryType.CODEC&&this._data.recoverMedia++,this.triggerEventReport(br.RETRY,{retry_type:t.type,retry_message:t.message})},l.selectBitrate=function(){this._sendRealtimeBeacon(Xr.LEVEL_SWITCH),this._resetBeaconTimer(),this._firstFrame.start(Sr.FIRST_FRAME_SELECT_BITRATE)},l.onMetaData=function(t){this.emit(L.default.REPORT,{type:D.METADATA,value:t}),this.triggerEventReport(br.METADATA_LOAD,Zr({},t))},l.triggerEventReport=function(t,e){this.emit("report",{type:"event",value:Zr({type:t,position:this._media.currentTime,session_id:this.sid},e)})},l.onDurationChange=function(t){this._data.streamDuration=Math.round(1e3*t)},l.onRateChange=function(t){var e;null!=(e=this._media.video)&&e.seeking||this.triggerEventReport(br.SPEED_CHANGE,{speed:t})},l.onError=function(t,e){this.triggerEventReport(br.ERROR,{error_message:e,error_type:t}),this._data.errorCode=t,this._data.errorMessage=e,this._realtimeBeacon&&this._realtimeBeacon.setError(t,e),this._playEnd(),this._pauseEnd(),this._waitingEnd()},l._getRealtimeBeacon=function(){return this._realtimeBeacon?(this._refreshRealtime(),this._refreshDelay(),this._refreshFPS(),this._realtimeBeacon.buildAndStartNewInterval()):null},l._processFirstFrame=function(t,e){void 0===e&&(e=0),!this._firstFrame.complete&&this._firstFrame.process(t,e)&&this._onFirstFrame()},l._playStart=function(){this._data.playStartMS=this._data.playStartMS||performance.now(),this._data.actualPlayStartMS=this._data.actualPlayStartMS||performance.now()},l._playEnd=function(){this._data.playStartMS&&(this._data.playDuration+=performance.now()-this._data.playStartMS),this._data.actualPlayStartMS&&(this._data.actualPlayDuration+=performance.now()-this._data.actualPlayStartMS),this._data.playStartMS=void 0,this._data.actualPlayStartMS=void 0},l._pauseStart=function(){this._data.pauseCnt++,this._data.pauseStartMS=this._data.pauseStartMS||performance.now()},l._pauseEnd=function(){this._data.pauseStartMS&&(this._data.pauseDuration+=performance.now()-this._data.pauseStartMS),this._data.pauseStartMS=void 0},l._waitingStart=function(t){this._data.bufferingStartMS||(this._data.blockCount++,this._data.bufferingStartMS=performance.now(),t>.6&&this._data.renderBlockCount++),this._data.actualPlayStartMS&&(this._data.actualPlayDuration+=performance.now()-this._data.actualPlayStartMS),this._data.actualPlayStartMS=void 0},l._waitingEnd=function(){this._data.bufferingStartMS&&(this._data.bufferTime+=performance.now()-this._data.bufferingStartMS,this._data.bufferingStartMS=void 0,this.triggerEventReport(br.BLOCK_END))},l._onFirstFrame=function(){var t,e,i,r,n,o,a,s,u,c,l=this._data;l.firstScreenTotalDuration=l.firstScreenTotalDuration||Math.round(this._firstFrame.duration),l.firstScreenDetails=l.firstScreenDetails||this._firstFrame.details,this.triggerEventReport(br.FIRST_SCREEN_RENDER,{initial_rate:Math.round(this._sm.videoDataRate),inital_quality_type:this._data.qualityType,fps:null==(t=this.loadingInfo)?void 0:null==(e=t.mediaInfo)?void 0:e.fps,a_codec:null==(i=this.loadingInfo)?void 0:null==(r=i.mediaInfo)?void 0:r.audioCodec,v_codec:null==(n=this.loadingInfo)?void 0:null==(o=n.mediaInfo)?void 0:o.videoCodec,channels:null==(a=this.loadingInfo)?void 0:null==(s=a.mediaInfo)?void 0:s.channelCount,sample_rate:null==(u=this.loadingInfo)?void 0:null==(c=u.mediaInfo)?void 0:c.audioSampleRate}),l.playStartTime&&this._firstFrame.complete?l.clickToFirstFrame=l.clickToFirstFrame||Math.max(1,this._firstFrame.complete-l.playStartTime):l.clickToFirstFrame=1,this._realtimeBeacon&&this._realtimeBeacon.setFirstScreenDuration(this._firstFrame.duration,this._firstFrame.details,l.clickToFirstFrame),this._media.video&&!this._media.video.paused&&this._firstFrame.type===Sr.FIRST_FRAME&&this._playStart()},l._startBeaconTimer=function(){null===this._beaconTimer&&(this._beaconTimer=setInterval(this._sendRealtimeBeacon,1e4))},l._stopBeaconTimer=function(){this._beaconTimer&&(clearTimeout(this._beaconTimer),this._beaconTimer=null)},l._resetBeaconTimer=function(){this._stopBeaconTimer(),this._startBeaconTimer()},l._refreshDelay=function(){var t=this._liveDelay,e=this._data;t&&(e.displayDelay=Math.round(t.displayDelay),e.recDelay=Math.round(t.recDelay),e.audioRenderDelay=Math.round(t.audioRenderDelay))},l._refreshRealtime=function(){var t,e,i=this._sm,r=this._media,n=r.currentTime;r.mse?(t=r.mseBufferedSecByType(s.TrackType.VIDEO),e=r.mseBufferedSecByType(s.TrackType.AUDIO)):t=e=r.mediaBufferedSec();var o=this._data;o.aBufStart=Math.round(1e3*e.start),o.aBufEnd=Math.round(1e3*e.end),o.aBufLen=Math.round(1e3*Math.max(0,e.end-n)),o.aBufCount=r.mse?r.bufferSliceNumByType(s.TrackType.AUDIO):r.bufferSliceNum(),o.vBufStart=Math.round(1e3*t.start),o.vBufEnd=Math.round(1e3*t.end),o.vBufLen=Math.round(1e3*Math.max(0,t.end-n)),o.vBufCount=r.mse?r.bufferSliceNumByType(s.TrackType.VIDEO):r.bufferSliceNum(),o.aDataRate=Math.round(i.audioDataRate),o.vDataRate=Math.round(i.videoDataRate),o.bufferQueueCount=r.pendingNum(),o.videoReadyState=r.videoReadyState},l._onLoad=function(t,e){void 0===e&&(e=0),this.triggerEventReport(br.LOAD,{url:t,protocol:this._config.box,initial_speed:String(this._media.video&&this._media.video.playbackRate),hit_preload:e}),this._data.loadStartTime=Date.now(),this._firstFrame.start(Sr.FIRST_FRAME),this._firstLoadTime||(this._firstLoadTime=performance.now(),this._hiddenStart=Dr()),this._data.url=t,this._stopBeaconTimer(),this._realtimeBeacon=new Gr(this._data,this._config)},n=r,(o=[{key:"runningStartTime",get:function(){return this._runningStartTime}},{key:"firstFrameLoaded",get:function(){return!!this._firstFrame.complete}},{key:"sid",get:function(){return this._data.sessionId}},{key:"playingInfo",get:function(){return this._sm.getInfoByTime(this._media.currentTime)}},{key:"loadingInfo",get:function(){return this._sm.loadingInfo}},{key:"snapshot",get:function(){var t=this._sm;return Qr({downloadSpeed:t.downloadSpeed,videoDataRate:t.videoDataRate,audioDataRate:t.audioDataRate},this._data,t.data)}},{key:"data",get:function(){return this._data}},{key:"audienceStat",get:function(){var t=this._data,e=this._sm,i=Ir(t),r={session_id:t.sessionId,kernel_version:this._version,load_start_time:t.loadStartTime,play_start_time:t.playStartTime,play_duration:i.play,actual_play_duration:i.actualPlay,traffic:e.traffic>>10,buffer_time:i.buffer,block_cnt:t.blockCount,render_block_cnt:t.renderBlockCount,stream_duration:t.streamDuration,play_url:t.url,stream_host:new ye.a(t.url).host,click_to_first_frame:t.playStartTime&&t.clickToFirstFrame||0,first_screen_total_duration:Math.round(t.firstScreenTotalDuration)||0,first_screen_details:t.firstScreenDetails||this._firstFrame.details||null,error_code:t.errorCode||0,error_message:t.errorMessage||"",remux_process_type:(this._config.streamingMux?1:0)+(this._config.gopRemux?1:0),hidden_start:this._hiddenStart?1:0,adaptive_multi_rate:this._config.adaptive?1:0,current_running_time:Math.round(performance.now()-t.startTime),running_time:Math.round(performance.now()-this._runningStartTime),codec:t.codecs,recover_media:t.recoverMedia,protocol:t.protocol,smooth_bitrate:t.smoothBitrate,start_bitrate:t.startBitrate||0,use_backup:t.useBackup,abr:t.abr?1:0,abr_low_profile:t.abrLowProfile,max_bitrate:t.maxBitrate,reuse:t.reuse,play_pos:Math.round(1e3*this._media.currentTime),pause_cnt:t.pauseCnt,waiting_trigger:this._waitingTrigger,support_h265_mse:$t(s.CodecType.h265),support_av1_mse:$t(s.CodecType.av1),preload_hit:t.preloadHit,preload_cnt:t.preloadCount,drm:t.drm?1:0,demuxer:t.demuxer||Ke.DemuxerType.UNKNOWN};return t.mse&&(r.mse_buffer_full=t.mseBufferFull,r.mse_remove=t.mseRemove),this._config.isLive?(r.skip_cnt=t.cdnDropFrameCnt,r.skip_duration=t.cdnDropFrameDuration,r.retry=t.retry):(r.pause_duration=i.pause,r.seek_cnt=t.seekCnt,r.seek_duration=t.seekDuration,r.seek_load_cnt=t.seekLoadCnt,r.seek_load_duration=t.seekLoadDuration,r.start_sec=Math.round(this._config.startFromSec)),this._config.box===s.MediaBox.hls&&(r.url_id=t.urlId,r.unknown_ts_packet_count=t.unknownTSPacketCount,r.audio_non_monotonous=t.audioNonMonotonous,r.aac_overhead=t.aacOverhead,r.preload_cache_hit=t.preloadCacheHit,r.preload_cache_fail=t.preloadCacheFail,r.db_quota_exceeded=ar?ar.quotaExceeded:0),t.qualityType&&(r.quality_type=t.qualityType),t.qualityLabel&&(r.quality_label=t.qualityLabel),t.avgBitrate&&(r.avg_bitrate=t.avgBitrate),r}},{key:"waitTrigger",set:function(t){this._waitingTrigger=t}}])&&tn(n.prototype,o),a&&tn(n,a),r}(n.EventEmitter);function rn(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nn(t,e,i){return e&&rn(t.prototype,e),i&&rn(t,i),t}var on="kernel",an=function(t){var e,i;function r(e,i){var n,o;return(n=t.call(this)||this)._config=void 0,n._video=void 0,n._media=void 0,n._monitor=void 0,n._error=void 0,n._kernel=void 0,n._video=e,n.off||(n.off=n.removeListener),n._config=_.processConfig(i),n._config?r.isSupport(n._config)||setTimeout((function(){n._onError({type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.UNSUPPORTED,fatal:!0,reason:"unsupported"})}),0):setTimeout((function(){n._onError({type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.CONFIG_ERROR,fatal:!0,reason:"config data error"})}),0),i.webWorker&&N.prepareWorker(),n._parseUrlConfig(),n._media=new I(n._video),n._monitor=n._initLogger(),n._kernel=n._initKernel(),n._config.box===s.MediaBox.hls&&n._config.resourceBuffer&&(o=n._config.resourceBufferSize,performance&&("function"==typeof performance.setResourceTimingBufferSize?performance.setResourceTimingBufferSize(o):"function"==typeof performance.webkitSetResourceTimingBufferSize&&performance.webkitSetResourceTimingBufferSize(o)),performance.onresourcetimingbufferfull=et),c.Log.i(on,r.version,i,n._config),n}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,r.isSupport=function(t){if(s.MediaBox.webrtc===(null==t?void 0:t.box))return"RTCPeerConnection"in window;var e=function(t){void 0===t&&(t=s.CodecType.h264);var e=window.SourceBuffer||window.WebKitSourceBuffer,i=$t(t),r=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return i&&r}(),i=!0;t&&(i=t.isLive&&t.box===s.MediaBox.flv);var r=_.isStreamingSupport(t);return e&&!(i&&!r)},nn(r,null,[{key:"version",get:function(){return"3.0.7"}},{key:"MediaBox",get:function(){return s.MediaBox}},{key:"Events",get:function(){return{REPORT:L.default.REPORT,ERROR:L.default.ERROR,LEVEL_SWITCHING:L.default.LEVEL_SWITCHING,LEVEL_SWITCHED:L.default.LEVEL_SWITCHED,LEVEL_SWITCH_PLAYING:L.default.LEVEL_SWITCH_PLAYING,LEVEL_SWITCH_FAILED:L.default.LEVEL_SWITCH_FAILED,AUDIO_TRACK_SWITCHING:L.default.AUDIO_TRACK_SWITCHING,AUDIO_TRACK_SWITCHED:L.default.AUDIO_TRACK_SWITCHED,AUDIO_TRACK_UPDATED:L.default.AUDIO_TRACK_UPDATED,SUBTITLE_TRACK_SWITCHED:L.default.SUBTITLE_TRACK_SWITCHED,MANIFEST_PARSED:L.default.MANIFEST_PARSED,LEVEL_UPDATED:L.default.LEVEL_UPDATED,PRELOAD_HIT:L.default.PRELOAD_HIT,LOAD_END:L.default.LOAD_END}}},{key:"Reports",get:function(){return{METADATA:D.METADATA,MEDIA_INFO:D.MEDIA_INFO,HEARTBEAT:D.HEARTBEAT,PERFORMANCE:D.PERFORMANCE,DOWNLOAD:D.DOWNLOAD,REALTIME_BEACON:D.REALTIME_BEACON,DISCONTINUITY:D.DISCONTINUITY}}}]);var n=r.prototype;return n.load=function(t,e){void 0===t&&(t=void 0),c.Log.i(on,"call kernel load"),t&&_.setSrc(this._config,t),this._config.src?this._kernel.load(this._config.src,e):this._onError({type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.CONFIG_ERROR,fatal:!0,reason:"url empty"})},n.getTimeNow=function(){return Kr.serverNowMs},n.setAvailableAbrLevels=function(t){this._kernel.setAvailableAbrLevels(t)},n.preload=function(t,e){"preload"in this._kernel&&this._kernel.preload(t,e)},n.isTimeinBuffered=function(t){return this._kernel.isTimeinBuffered(t)},n.resume=function(){c.Log.i(on,"call resume"),this._kernel.resume(),this._video.paused&&this._video.play()},n.destroy=function(){c.Log.i(on,"call kernel destroy"),N.clear(),this._kernel.destroy(),this._kernel.removeAllListeners(),this._monitor&&(this._monitor.destroy(),this._monitor.removeAllListeners()),this.removeAllListeners()},n.refresh=function(){c.Log.i(on,"call kernel refresh"),this._kernel.refresh()},n.stopLoad=function(){c.Log.i(on,"call kernel stopLoad"),this._kernel.stopLoad()},n.getStreamTime=function(t){return this._media.hasStreamTime?this._media.getStreamTime(t)||0:NaN},n.getAudienceStat=function(){return this._monitor.audienceStat},n.getMediaInfo=function(){return this._kernel.getMediaInfo()},n.experiment=function(t){t&&null!=typeof t.startBitrateLimit&&(this._config.hlsAdaptiveConfig?this._config.hlsAdaptiveConfig.startBitrateLimit=t.startBitrateLimit:this._config.hlsAdaptiveConfig={startBitrateLimit:t.startBitrateLimit})},n.liveEnd=function(){"liveEnd"in this._kernel&&this._kernel.liveEnd()},n.selectBitrate=function(t,e){void 0===e&&(e=!1);var i=this._kernel.getLevels();if(i&&i.length){var r=-1;t>=0&&(r=Ri(i,t)),e?this.nextLevel=r:this.currentLevel=r}},n.getBitrates=function(){var t=this._kernel.getLevels(),e=[];return t.forEach((function(t){e.push(t.bitrate)})),e},n.getLevels=function(){return this._kernel.getLevels().map((function(t){return t.getKLevel()}))},n.getCurrentLevelIndex=function(){return this._kernel.getCurrentLevel()},n.getCurrentLevel=function(){var t;return(null==(t=this._kernel.getLevels()[this._kernel.getCurrentLevel()])?void 0:t.getKLevel())||null},n.setAvailableAbrBitrates=function(t){var e=this._kernel.getLevels();if(e&&e.length){var i=[];t.forEach((function(t){i.push(Ri(e,t))})),this.setAvailableAbrLevels(i)}},n.seek=function(t){c.Log.i(on,"call kernel seek"),this._config.isLive||(this._video.currentTime=t)},n.play=function(){return c.Log.i(on,"call kernel play"),this._video.play()},n.pause=function(){return c.Log.i(on,"call kernel pause"),this._video.pause()},n.getCurrentBitrate=function(){var t=this._kernel.getLevels()[this._kernel.getCurrentLevel()];return t?t.bitrate:0},n._initKernel=function(){var t=this,e=new(this._config.box===s.MediaBox.webrtc?or:this._config.box===s.MediaBox.native?Ji:this._config.isLive?Fi:Yi)(this._media,this._monitor,this._config);return e.on(L.default.ERROR,(function(e){t._onError(e)})),e.on(L.default.MANIFEST_PARSED,(function(i){i.bitrates=t.getBitrates(),i.bitrate=t.getCurrentBitrate(),i.levels=t.getLevels();var r=t._kernel.getAudioTracks();r&&r.length&&(i.audioTrack=e.getAudioTrack(),i.audioTracks=r.map((function(t){return{lang:t.lang,qualityLabel:t.qualityLabel,qualityType:t.qualityType,bitrate:t.bitrate,groupId:t.groupId}})));var n=t._kernel.getSubtitleTracks();n&&n.length&&(i.subtitleTrack=e.getSubtitleTrack(),i.subtitleTracks=n.map((function(t){return{lang:t.lang,name:t.name,groupId:t.groupId}}))),t._monitor.onManifest(i,t._kernel.getLevels()[i.currentLevel]),t.emit(L.default.MANIFEST_PARSED,i)})),e.on(L.default.LEVEL_SWITCHING,(function(e){t._monitor.levelSwitching(e,t._kernel.getLevels()[e.level]),t.emit(L.default.LEVEL_SWITCHING,e)})),e.on(L.default.LEVEL_SWITCHED,(function(e){t._monitor.levelSwitched(),t.emit(L.default.LEVEL_SWITCHED,e)})),e.on(L.default.LEVEL_SWITCH_PLAYING,(function(e){t._monitor.levelSwitchPlaying(),t.emit(L.default.LEVEL_SWITCH_PLAYING,e)})),e.on(L.default.AUDIO_TRACK_SWITCHING,(function(e){t._monitor.onAudioSwitching(),t.emit(L.default.AUDIO_TRACK_SWITCHING,e)})),e.on(L.default.AUDIO_TRACK_SWITCHED,(function(e){t._monitor.onAudioSwitched(),t.emit(L.default.AUDIO_TRACK_SWITCHED,e)})),e.on(L.default.LEVEL_SWITCH_FAILED,(function(e){return t.emit(L.default.LEVEL_SWITCH_FAILED,e)})),e.on(L.default.STOP_LOAD,(function(e){t._monitor.onStopLoad(),t.emit(L.default.STOP_LOAD,e)})),e.on(L.default.LOAD_END,(function(e){return t.emit(L.default.LOAD_END,e)})),e.on(L.default.LEVEL_UPDATED,(function(e){t._monitor.onLevel(),t.emit(L.default.LEVEL_UPDATED,e)})),e.on(L.default.AUDIO_TRACK_UPDATED,(function(e){t._monitor.onAudioTrack(),t.emit(L.default.AUDIO_TRACK_UPDATED,e)})),e.on(L.default.SUBTITLE_TRACK_SWITCHED,(function(e){t.emit(L.default.SUBTITLE_TRACK_SWITCHED,e)})),e.on(L.default.PRELOAD_HIT,(function(e){t._monitor.onPreloadHit(e),t.emit(L.default.PRELOAD_HIT,e)})),e.on(L.default.PRELOAD_COMPLETE,(function(e){t._monitor.onPreload()})),e.on(L.default.PRIV_NAL,(function(e){return t._monitor.onPrivNal(e)})),e.on(L.default.LOAD,(function(e,i){return t._monitor.onLoad(e,i)})),e.on(L.default.PARSING_DATA,(function(e){return t._monitor.onSegment(e)})),e.on(L.default.WAITING,(function(e,i){return t._monitor.onWaiting(e,i)})),e.on(L.default.LOADEDDATA,(function(){return t._monitor.onLoadeddata()})),e.on(L.default.CANPLAY,(function(){return t._monitor.onCanplay()})),e.on(L.default.SEEKING,(function(e){return t._monitor.onSeek(e)})),e.on(L.default.SEEKED,(function(){return t._monitor.onSeeked()})),e.on(L.default.SEEK_WITH_LOAD,(function(e){return t._monitor.onSeekWithLoad(e)})),e.on(L.default.PLAYING,(function(){return t._monitor.onPlaying()})),e.on(L.default.PAUSE,(function(){return t._monitor.onPause()})),e.on(L.default.PLAY,(function(){return t._monitor.onPlay()})),e.on(L.default.ENDED,(function(){return t._monitor.onEnd()})),e.on(L.default.RATE_CHANGE,(function(e){return t._monitor.onRateChange(e)})),e.on(L.default.DURATION_CHANGE,(function(e){return t._monitor.onDurationChange(e)})),e.on(L.default.PARSING_INIT_SEGMENT,(function(e){return t._monitor.onSegmentInit(e)})),e.on(L.default.TIMEUPDATE,(function(){return t._monitor.onTimeupdate()})),e.on(L.default.PROGRESS,(function(){return t._monitor.onProgress()})),e.on(L.default.HEARTBEAT,(function(e){return t._monitor.heartbeat(e)})),e.on(L.default.MSE_BUFFER_FULL,(function(){return t._monitor.onMSEBufferFull()})),e.on(L.default.MSE_UPDATE,(function(){return t._monitor.mseUpdate()})),e.on(L.default.MSE_REMOVE,(function(){return t._monitor.mseRemove()})),e.on(L.default.MSE_OPEN,(function(){return t._monitor.mseOpen()})),e.on(L.default.LOADER_CHUNK_ARRIVAL,(function(e){return t._monitor.onLoaderChunkArrival(e)})),e.on(L.default.MEDIA_DEMUX,(function(e){return t._monitor.onMediaDemux(e)})),e.on(L.default.KEY_FRAME,(function(){return t._monitor.onKeyFrame()})),e.on(L.default.MUX_INFO,(function(e){return t._monitor.onMuxInfo(e)})),e.on(L.default.LOST_FRAMES,(function(e){return t._monitor.onLostFrame(e)})),e.on(L.default.USE_BACKUP,(function(){return t._monitor.onUseBackup()})),e.on(L.default.ABR_INFO,(function(e){return t._monitor.onAbrInfo(e)})),e.on(L.default.NEW_SOURCE,(function(e){t._monitor.onNewSource(e,t._kernel.getLevels()[e.index])})),e.on(L.default.DISCONTINUITY,(function(e){return t._monitor.onDiscontinuity(e)})),e.on(L.default.METADATA,(function(e){return t._monitor.onMetaData(e)})),e.on(L.default.DOWNLOAD,(function(e){return t._monitor.onDownload(e)})),e.on(L.default.RETRY,(function(e){return t._monitor.onRetry(e)})),e},n._initLogger=function(){var t=this,e=new en(r.version,this._media,this._config);return e.on(L.default.REPORT,(function(e){t.emit(L.default.REPORT,e)})),e},n._onError=function(t){c.Log.i(on,"on error",t);var e={errno:v,errmsg:t.reason||"unknow",fatal:t.fatal};switch(t.type){case x.ErrorTypes.NETWORK_ERROR:e.errno=m,e.statusCode=t.statusCode,e.url=t.url;break;case x.ErrorTypes.MSE_ERROR:switch(t.details){case x.ErrorDetails.APPENDBUFFER_ERROR:e.errno=b;break;case x.ErrorDetails.ENDOFSTREAM_ERROR:e.errno=E;break;case x.ErrorDetails.MEDIASOURCE_ERROR:e.errno=w;break;default:e.errno=A}break;case x.ErrorTypes.MEDIA_ERROR:e.errno=S,t.details===x.ErrorDetails.CANNOT_SEEK?e.errno=y:e.errno=g;break;case x.ErrorTypes.MUX_ERROR:e.errno=S;break;case x.ErrorTypes.OTHER_ERROR:t.details===x.ErrorDetails.CONFIG_ERROR?e.errno=T:e.errno=S}var i=X(t.details,t.reason,t.statusCode||0);this._monitor.onError(i,t.reason),t.fatal&&(this.stopLoad(),e.code=i,e.type=t.type,e.reason=t.reason),t.fatal&&!this._error&&(this._error=t.details,this.emit(L.default.ERROR,e))},n._parseUrlConfig=function(){if(location.href){var t=location.href.match(/kwaiKernelLog=([a-z]{1})/);if(t&&t.length>1)return this._config.kwaiKernelLog=t[1],void c.Log.level(this._config.kwaiKernelLog)}var e=(new at).read("kwai-kernel-log");e&&(this._config.kwaiKernelLog=e),c.Log.level(this._config.kwaiKernelLog)},nn(r,[{key:"audioTrack",get:function(){return this._kernel.getAudioTrack()||0},set:function(t){this._kernel.setAudioTrack(t)}},{key:"subtitleTrack",get:function(){return this._kernel.getSubtitleTrack()||0},set:function(t){this._kernel.setSubtitleTrack(t)}},{key:"currentLevel",get:function(){return this._kernel.getCurrentLevel()},set:function(t){this._kernel.setCurrentLevel(t)}},{key:"nextLevel",get:function(){return this._kernel.getNextLevel()},set:function(t){this._kernel.setNextLevel(t)}},{key:"startLevel",get:function(){return this._kernel.getStartLevel()},set:function(t){this._kernel.setStartLevel(t)}},{key:"autoLevelEnabled",get:function(){return this._kernel.getAutoLevelEnabled()}},{key:"monitorData",get:function(){return this._monitor?this._monitor.snapshot:null}}]),r}(n.EventEmitter)},"./src/io/data-cache.ts":
/*!******************************!*\
  !*** ./src/io/data-cache.ts ***!
  \******************************/
/*! exports provided: default */function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}i.r(e);var n=function(){function t(){this._size=0,this._cache=[],this._index=0,this._offset=0}var e,i,n,o=t.prototype;return o.put=function(e){if(this.unreadLen+e.byteLength>=t.MAX_CACHE_SIZE)throw new Error("max cache size");this._cache.push(e),this._size+=e.byteLength},o.get=function(t){if(!(t>this.unreadLen)){var e,i=this._cache[this._index];if(0===this._offset&&t===i.byteLength)t===i.buffer.byteLength?e=i:(e=new Uint8Array(t)).set(i),this._index++,this._offset=0;else{e=new Uint8Array(t);for(var r=0,n=0,o=0;r<t;)o=this._offset,n=Math.min(i.byteLength,t-r+o),0===o&&n===i.byteLength?e.set(i,r):e.set(i.subarray(o,n),r),r+=n-o,n>=i.byteLength?(this._index++,i=this._cache[this._index],this._offset=0):this._offset=n}return this._collateCache(),e}},o.read=function(t){if(!(t>this.unreadLen)){for(var e=new Uint8Array(t),i=this._index,r=0,n=0,o=this._offset;r<t;){var a=this._cache[i];i>0&&(o=0),n=Math.min(a.byteLength,t-r+o),e.set(a.subarray(o,n),r),r+=n-o,i++}return e}},o.skip=function(t){var e=this._offset+t;if(!(e>this._size)){if(e===this._size)this.clear();else for(;e>0;){var i=this._cache[this._index].byteLength;e<i?(this._offset=e,e=0):e===i?(this._offset=0,e=0,this._index++):(this._offset=0,e-=i,this._index++)}this._collateCache()}},o.clear=function(){this._size=0,this._cache=[],this._index=0,this._offset=0},o._collateCache=function(){for(;this._index;){var t=this._cache.shift();t&&(this._size-=t.byteLength),this._index--}},e=t,(i=[{key:"unreadLen",get:function(){return this._size-this._offset}}])&&r(e.prototype,i),n&&r(e,n),t}();n.MAX_CACHE_SIZE=104857600,e.default=n},"./src/remux/mp4-remuxer.ts":
/*!**********************************************!*\
  !*** ./src/remux/mp4-remuxer.ts + 4 modules ***!
  \**********************************************/
/*! exports provided: PTSNormalize, default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/core/kernel-errors.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/core/kernel-events.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/audio/adts.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/create-track.ts because of ./src/demux/demuxer-worker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/types/core.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/browser.ts because of ./src/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/log.ts because of ./src/index.ts */function(t,e,i){"use strict";i.r(e),i.d(e,"PTSNormalize",(function(){return V}));var r=i("./src/core/kernel-errors.ts"),n=i("./src/core/kernel-events.ts"),o=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}(),a=i("./src/utils/log.ts"),s=i("./src/demux/audio/adts.ts"),u={chanelConfig:2,objectType:2,sampleingIndex:7},c="audio-helper",l=function(){function t(){}return t.initAudioForFillSilent=function(t,e){void 0===e&&(e=""),t.codec||s.initTrackConfigByInfo(t,u,e||(/firefox/.test(navigator.userAgent.toLowerCase())?"mp4a.40.2":"mp4a.40.5"))},t.fillAACFrameByCount=function(e,i,r,n,a){void 0===n&&(n=0),void 0===a&&(a=""),t.initAudioForFillSilent(e,a);var u=o.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(u&&r>0){for(var c=s.getFrameDuration(e.samplerate),l=0;l<r;l++)e.samples.push({unit:u,pts:i||1,dts:i||1,streamDTS:n+c/90});return i+c}return i},t.ensureAudioFrame=function(e,i,r,n){if(void 0===r&&(r=""),i.samples.length){if(0===e.samples.length){var o=i.samples[0].pts;a.Log.w(c,"fill audio before remux frame @"+o+" has audio data:"+e.samples.length),t.fillAACFrameByCount(e,o,1,i.samples[0].streamDTS,r)}var s=i.samples[i.samples.length-1],u=s.dts-(e.samples.length?e.samples[e.samples.length-1].dts:i.samples[0].dts);(u>1*i.inputTimescale||u/i.inputTimescale>.2&&n)&&(a.Log.w(c,"fill audio @end"),t.fillAACFrameByCount(e,s.dts,1,s.streamDTS,r))}},t}(),f=i("./src/types/core.ts"),d=i("./src/utils/browser.ts"),h=i("./src/demux/create-track.ts"),p=Object(h.createVideoTrack)(0);p.bitDepth=8,p.chromaFormat="4:2:0",p.codec="avc1.64000a",p.colorInfo={colorRange:1,colourPrimaries:2,transferCharacteristics:0,matrixCoefficients:0},p.fps=15,p.height=48,p.id=1,p.inputTimescale=9e4,p.level="1.0",p.pixelRatio=[1,1],p.profile="High",p.sampleDuration=6e3,p.width=64,p.sps=[new Uint8Array([103,100,0,10,172,114,4,68,122,16,0,0,3,0,16,0,0,3,3,32,241,34,88,70])],p.pps=[new Uint8Array([104,232,67,143,44,139])];var _=[{type:5,data:new Uint8Array([101,136,129,0,5,127,254,246,115,124,10,107,109,176,149,46,5,118,246,150,55,45,60,239,89,160,124,49,129])}],v=function(){function t(){}return t.getFillTrack=function(t,e,i,r){if(!(e-2<t))return p.samples=[{cts:0,dts:t,key:!0,pts:t,streamDTS:i,units:_},{cts:0,dts:e-1,key:!0,pts:e-1,streamDTS:r-1,units:_}],p},t.getFillTrackBySamples=function(t){if(t.length)return p.samples=[],t.length>0&&p.samples.push({cts:0,dts:t[0].dts,key:!0,pts:t[0].dts,streamDTS:t[0].streamDTS,units:_}),t.length>1&&p.samples.push({cts:0,dts:t[t.length-1].dts,key:!0,pts:t[t.length-1].dts,streamDTS:t[t.length-1].streamDTS,units:_}),p},t}(),m=Math.pow(2,32)-1,g={video:new Uint8Array([0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),audio:new Uint8Array([0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0])},y=new Uint8Array([0,0,0,24,102,116,121,112,105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),E=new Uint8Array([0,0,0,24,102,116,121,112,105,115,111,109,0,0,0,1,105,115,111,109,104,101,118,49]),w=new Uint8Array([0,0,0,16,115,116,116,115,0,0,0,0,0,0,0,0]),A=new Uint8Array([0,0,0,16,115,116,115,99,0,0,0,0,0,0,0,0]),b=new Uint8Array([0,0,0,16,115,116,99,111,0,0,0,0,0,0,0,0]),S=new Uint8Array([0,0,0,20,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,0]),T=new Uint8Array([0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),x=new Uint8Array([0,0,0,20,118,109,104,100,0,0,0,1,0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0]),C=new Uint8Array([0,0,0,20,98,116,114,116,0,28,156,128,0,45,198,192,0,45,198,192]),I=new Uint8Array([0,0,0,120,109,118,104,100,1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]),D=new Uint8Array([0,0,0,104,116,107,104,100,1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0]),O=new Uint8Array([0,0,0,32,116,114,101,120,0,0,0,0,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]),R=new Uint8Array([0,0,0,44,109,100,104,100,1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,0,0,172,68,0,0,0,0,0,0,0,0,85,196,0,0]),k=new Uint8Array([0,0,0,93,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,77,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,41,101,115,100,115,0,0,0,0,3,27,0,1,0,4,19,64,21,0,0,0,0,0,0,0,0,0,0,0,5]),N=new Uint8Array([0,0,0,185,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,169,97,118,99,49,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,2,208,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),M=new Uint8Array([0,0,0,246,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,230,104,101,118,49,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,2,208,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]),P=new Uint8Array([0,0,0,16,112,97,115,112,0,0,0,1,0,0,0,1]),U=function(){function t(){}return t.moov=function(e){for(var i=y,r=e.length;r--;)e[r].type===f.TrackType.VIDEO&&0===e[r].codec.indexOf("hev1")&&(i=E);var n=i.byteLength+t._getMoovLen(e),o={data:new Uint8Array(n),offset:0};return o.data.set(i,0),o.offset+=i.byteLength,t._writeMoov(o,e),o.data},t.videoMediaSegment=function(e,i,r,n){var o=8+r.mp4Samples.reduce((function(t,e){return t+e.units.reduce((function(t,e){return t+e.data.byteLength+4}),0)}),0),a=t._getMediaSegmentData(r,o,n);return t._mediaSegmentHead(a,e,i,r,o,n),r.samples.forEach((function(t){t.units.forEach((function(t){var e=t.data.byteLength;a.data[a.offset]=e>>24&255,a.data[a.offset+1]=e>>16&255,a.data[a.offset+2]=e>>8&255,a.data[a.offset+3]=255&e,a.data.set(t.data,a.offset+4),a.offset+=4+e}))})),a.data},t.audioMediaSegment=function(e,i,r,n){var o=8+r.mp4Samples.reduce((function(t,e){return t+e.unit.byteLength}),0),a=t._getMediaSegmentData(r,o,n);return t._mediaSegmentHead(a,e,i,r,o,n),r.mp4Samples.forEach((function(t){a.data.set(t.unit,a.offset),a.offset+=t.unit.byteLength})),a.data},t._getMoovLen=function(e){var i=e.reduce((function(e,i){return e+t._getTrakLen(i)}),0);return 8+I.byteLength+i+t._getMvexLen(e)},t._writeMoov=function(e,i){var r=t._getMoovLen(i);t._writeBoxHead(e,t.types.moov,r),t._writeMvhd(e,i[0].timescale,i[0].duration),i.forEach((function(i){t._writeTrak(e,i)})),t._writeMvex(e,i)},t._getMoofLen=function(t){return 100+17*t},t._mediaSegmentHead=function(e,i,r,n,o,a){a&&(e.data.set(a),e.offset=a.byteLength),t._writeMoof(e,i,r,n),t._writeBoxHead(e,t.types.mdat,o)},t._getMediaSegmentData=function(e,i,r){var n=t._getMoofLen(e.mp4Samples.length);return{data:new Uint8Array(n+i+(r?r.byteLength:0)),offset:0}},t._writeMvhd=function(t,e,i){i*=e;var r=Math.floor(i/(m+1)),n=Math.floor(i%(m+1)),o=I;o[28]=e>>24&255,o[29]=e>>16&255,o[30]=e>>8&255,o[31]=255&e,o[32]=r>>24,o[33]=r>>16&255,o[34]=r>>8&255,o[35]=255&r,o[36]=n>>24,o[37]=n>>16&255,o[38]=n>>8&255,o[39]=255&n,t.data.set(o,t.offset),t.offset+=I.byteLength},t._writeTkhd=function(t,e){var i=e.id,r=e.duration*e.timescale,n=Math.floor(r/(m+1)),o=Math.floor(r%(m+1)),a=0,s=0;e.hasOwnProperty("width")&&(a=e.width),e.hasOwnProperty("height")&&(s=e.height);var u=D;u[28]=i>>24&255,u[29]=i>>16&255,u[30]=i>>8&255,u[31]=255&i,u[36]=n>>24,u[37]=n>>16&255,u[38]=n>>8&255,u[39]=255&n,u[40]=o>>24,u[41]=o>>16&255,u[42]=o>>8&255,u[43]=255&o,u[96]=a>>8&255,u[97]=255&a,u[100]=s>>8&255,u[101]=255&s,t.data.set(u,t.offset),t.offset+=D.byteLength},t._getTrakLen=function(e){return 8+D.byteLength+t._getMdiaLen(e)},t._writeTrak=function(e,i){var r=t._getTrakLen(i);this._writeBoxHead(e,t.types.trak,r),this._writeTkhd(e,i),this._writeMdia(e,i)},t._getMdiaLen=function(e){return 8+R.byteLength+g[e.type].byteLength+t._getMinfLen(e)},t._writeMdia=function(e,i){var r=t._getMdiaLen(i);this._writeBoxHead(e,t.types.mdia,r),this._writeMdhd(e,i.timescale,i.duration),e.data.set(g[i.type],e.offset),e.offset+=g[i.type].byteLength,this._writeMinf(e,i)},t._writeMdhd=function(t,e,i){i*=e;var r=Math.floor(i/(m+1)),n=Math.floor(i%(m+1)),o=R;o[28]=e>>24&255,o[29]=e>>16&255,o[30]=e>>8&255,o[31]=255&e,o[32]=r>>24,o[33]=r>>16&255,o[34]=r>>8&255,o[35]=255&r,o[36]=n>>24,o[37]=n>>16&255,o[38]=n>>8&255,o[39]=255&n,t.data.set(o,t.offset),t.offset+=o.byteLength},t._getMinfLen=function(e){return e.type===f.TrackType.AUDIO?8+L.byteLength+T.byteLength+t._getStblLen(e):8+x.byteLength+T.byteLength+t._getStblLen(e)},t._writeMinf=function(e,i){if(this._writeBoxHead(e,t.types.minf,t._getMinfLen(i)),i.type===f.TrackType.AUDIO)return e.data.set(L,e.offset),e.offset+=L.byteLength,e.data.set(T,e.offset),e.offset+=T.byteLength,void this._writeStbl(e,i);e.data.set(x,e.offset),e.offset+=x.byteLength,e.data.set(T,e.offset),e.offset+=T.byteLength,this._writeStbl(e,i)},t._getStblLen=function(t){return 8+this._getStsdLen(t)+w.byteLength+A.byteLength+S.byteLength+b.byteLength},t._writeStbl=function(e,i){var r=this._getStblLen(i);this._writeBoxHead(e,t.types.stbl,r),this._writeStsd(e,i),e.data.set(w,e.offset),e.offset+=w.byteLength,e.data.set(A,e.offset),e.offset+=A.byteLength,e.data.set(S,e.offset),e.offset+=S.byteLength,e.data.set(b,e.offset),e.offset+=b.byteLength},t._getStsdLen=function(e){return e.type===f.TrackType.AUDIO?t._getMp4aStsdLen(e):0===e.codec.indexOf("hev1")?t._getHev1StsdLen(e):t._getAvc1StsdLen(e)},t._writeStsd=function(t,e){e.type!==f.TrackType.AUDIO?0!==e.codec.indexOf("hev1")?this._writeAvc1Stsd(t,e):this._writeHev1Stsd(t,e):this._writeMp4aStsd(t,e)},t._getAvcCLen=function(t){return 15+t.sps.reduce((function(t,e){return t+e.byteLength+2}),0)+t.pps.reduce((function(t,e){return t+e.byteLength+2}),0)},t._getHvcCLen=function(t){return 8+t.hvcc.byteLength},t._getAvc1Len=function(e){return 86+t._getAvcCLen(e)+20+16},t._getAvc1StsdLen=function(t){return 16+this._getAvc1Len(t)},t._getHev1StsdLen=function(e){return M.byteLength+t._getHvcCLen(e)},t._writeAvc1Stsd=function(e,i){var r,n,o,a=[],s=[];for(r=0;r<i.sps.length;r++)o=(n=i.sps[r]).byteLength,a.push(o>>>8&255),a.push(255&o),a=a.concat(Array.prototype.slice.call(n));for(r=0;r<i.pps.length;r++)o=(n=i.pps[r]).byteLength,s.push(o>>>8&255),s.push(255&o),s=s.concat(Array.prototype.slice.call(n));var u=this._getAvcCLen(i),c=this._getAvc1Len(i),l=this._getAvc1StsdLen(i),f=N,d=i.width,h=i.height,p=i.pixelRatio[0],_=i.pixelRatio[1];f[0]=l>>24&255,f[1]=l>>16&255,f[2]=l>>8&255,f[3]=255&l,f[16]=c>>24&255,f[17]=c>>16&255,f[18]=c>>8&255,f[19]=255&c,f[48]=d>>8&255,f[49]=255&d,f[50]=h>>8&255,f[51]=255&h,e.data.set(f,e.offset),e.offset+=f.byteLength,this._writeBoxHead(e,t.types.avcC,u);var v=[1,a[3],a[4],a[5],255,224|i.sps.length].concat(a).concat([i.pps.length]).concat(s);e.data.set(v,e.offset),e.offset+=v.length,e.data.set(C,e.offset),e.offset+=C.byteLength;var m=P;m[8]=p>>24,m[9]=p>>16&255,m[10]=p>>8&255,m[11]=255&p,m[12]=_>>24,m[13]=_>>16&255,m[14]=_>>8&255,m[15]=255&_,e.data.set(m,e.offset),e.offset+=m.byteLength},t._writeHev1Stsd=function(e,i){var r=this._getHvcCLen(i),n=this._getHev1StsdLen(i),o=M;e.offset,o[0]=n>>24&255,o[1]=n>>16&255,o[2]=n>>8&255,o[3]=255&n;var a=i.codecWidth,s=i.codecHeight;o[16]=n-16>>24&255,o[17]=n-16>>16&255,o[18]=n-16>>8&255,o[19]=n-16&255,o[48]=a>>8&255,o[49]=255&a,o[50]=s>>8&255,o[51]=255&s,e.data.set(o,e.offset),e.offset+=o.byteLength,this._writeBoxHead(e,t.types.hvcC,r),e.data.set(i.hvcc,e.offset),e.offset+=i.hvcc.byteLength},t._getMp4aEsdsLen=function(t){return 33+t.config.length+4},t._getMp4aStsdLen=function(e){return 52+t._getMp4aEsdsLen(e)},t._writeMp4aStsd=function(e,i){var r=i.config.length,n=t._getMp4aEsdsLen(i),o=t._getMp4aStsdLen(i),a=o-16,s=k;s[0]=o>>24&255,s[1]=o>>16&255,s[2]=o>>8&255,s[3]=255&o,s[16]=a>>24&255,s[17]=a>>16&255,s[18]=a>>8&255,s[19]=255&a,s[41]=i.channelCount,s[48]=i.samplerate>>8&255,s[49]=255&i.samplerate,s[52]=n>>24&255,s[53]=n>>16&255,s[54]=n>>8&255,s[55]=255&n,s[65]=23+r,s[70]=15+r,e.data.set(s,e.offset),e.offset+=s.byteLength;var u=[r].concat(i.config).concat([6,1,2]);e.data.set(u,e.offset),e.offset+=u.length},t._getMvexLen=function(t){return 8+t.length*O.byteLength},t._writeMvex=function(e,i){var r=t._getMvexLen(i);this._writeBoxHead(e,t.types.mvex,r),i.forEach((function(i){t._writeTrex(e,i)}))},t._writeTrex=function(t,e){var i=e.id,r=O;r[12]=i>>24,r[13]=i>>16&255,r[14]=i>>8&255,r[15]=255&i,t.data.set(r,t.offset),t.offset+=r.byteLength},t._writeMoof=function(e,i,r,n){var o=n.mp4Samples.length,a=t._getMoofLen(o),s=a-24,u=12+o,c=20+16*o,l=a+8,f=n.id,d=n.mp4Samples||[],h=Math.floor(r/(m+1)),p=Math.floor(r%(m+1));t._writeBoxHead(e,t.types.moof,a),t._writeBoxHead(e,t.types.mfhd,16),e.data[e.offset+4]=i>>24,e.data[e.offset+5]=i>>16&255,e.data[e.offset+6]=i>>8&255,e.data[e.offset+7]=255&i,e.offset+=8,t._writeBoxHead(e,t.types.traf,s),t._writeBoxHead(e,t.types.tfhd,16),e.data[e.offset+4]=f>>24,e.data[e.offset+5]=f>>16&255,e.data[e.offset+6]=f>>8&255,e.data[e.offset+7]=255&f,e.offset+=8,t._writeBoxHead(e,t.types.tfdt,20),e.data[e.offset]=1,e.data[e.offset+4]=h>>24,e.data[e.offset+5]=h>>16&255,e.data[e.offset+6]=h>>8&255,e.data[e.offset+7]=255&h,e.data[e.offset+8]=p>>24,e.data[e.offset+9]=p>>16&255,e.data[e.offset+10]=p>>8&255,e.data[e.offset+11]=255&p,e.offset+=12,t._writeBoxHead(e,t.types.sdtp,u),e.offset+=4,d.forEach((function(t,i){var r=t.flags;e.data[e.offset+i]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy})),e.offset+=o,t._writeBoxHead(e,t.types.trun,c),e.data[e.offset+2]=15,e.data[e.offset+3]=1,e.data[e.offset+4]=o>>>24&255,e.data[e.offset+5]=o>>>16&255,e.data[e.offset+6]=o>>>8&255,e.data[e.offset+7]=255&o,e.data[e.offset+8]=l>>>24&255,e.data[e.offset+9]=l>>>16&255,e.data[e.offset+10]=l>>>8&255,e.data[e.offset+11]=255&l,e.offset+=12,d.forEach((function(t,i){e.data.set([t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,t.len>>>24&255,t.len>>>16&255,t.len>>>8&255,255&t.len,t.flags.isLeading<<2|t.flags.dependsOn,t.flags.isDependedOn<<6|t.flags.hasRedundancy<<4|t.flags.isNonSync,61440&t.flags.degradPrio,15&t.flags.degradPrio,t.cts>>>24&255,t.cts>>>16&255,t.cts>>>8&255,255&t.cts],e.offset+16*i)})),e.offset+=16*o},t._writeBoxHead=function(t,e,i){t.data[t.offset]=i>>24&255,t.data[t.offset+1]=i>>16&255,t.data[t.offset+2]=i>>8&255,t.data[t.offset+3]=255&i,t.data.set(e,t.offset+4),t.offset+=8},t}();U.types={avc1:[97,118,99,49],avcC:[97,118,99,67],btrt:[98,116,114,116],dinf:[100,105,110,102],dref:[100,114,101,102],esds:[101,115,100,115],ftyp:[102,116,121,112],hdlr:[104,100,108,114],mdat:[109,100,97,116],mdhd:[109,100,104,100],mdia:[109,100,105,97],mfhd:[109,102,104,100],minf:[109,105,110,102],moof:[109,111,111,102],moov:[109,111,111,118],mp4a:[109,112,52,97],mvex:[109,118,101,120],mvhd:[109,118,104,100],pasp:[112,97,115,112],sdtp:[115,100,116,112],stbl:[115,116,98,108],stco:[115,116,99,111],stsc:[115,116,115,99],stsd:[115,116,115,100],stsz:[115,116,115,122],stts:[115,116,116,115],tfdt:[116,102,100,116],tfhd:[116,102,104,100],traf:[116,114,97,102],trak:[116,114,97,107],trun:[116,114,117,110],trex:[116,114,101,120],tkhd:[116,107,104,100],vmhd:[118,109,104,100],smhd:[115,109,104,100],hvcC:[104,118,99,67]};var B=U;function F(){return(F=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function K(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=function(){function t(t,e,i,r){void 0===r&&(r=""),this._eventEmitter=void 0,this._config=void 0,this._typeSupported=void 0,this._isSafari=void 0,this._forceFirstIDR=void 0,this._videoTimeReference=void 0,this._videoTimeReferenceInfo=void 0,this._ISGenerated=!1,this._videoTime=void 0,this._transmuxData=void 0,this._nextAudioPts=void 0,this._nextAvcDts=void 0,this._initPTS=void 0,this._initDTS=void 0,this._initSegment={},this._eventEmitter=t,this._config=e,this._typeSupported=i;var n=navigator.userAgent;this._isSafari=!(!(r&&r.indexOf("Apple")>-1&&n)||n.match("CriOS")),this._ISGenerated=!1,this._videoTimeReference=e.streamingMux&&!e.gopRemux,this._resetVideoTime(),this._videoTimeReferenceInfo={},this._forceFirstIDR=!(!d.default.chrome||!(d.default.version.major<50||50===d.default.version.major&&d.default.version.build<2661))}var e,i,s,u=t.prototype;return u.destroy=function(){},u.resetTimeStamp=function(t){this._initPTS=this._initDTS=t,this._resetVideoTime()},u.resetInitSegment=function(t){this._ISGenerated=!1,this._initSegment={},this._transmuxData=t,this._clearVideoTimeReference()},u.getLastPTS=function(){return{video:this._videoTime.vLastPTS,audio:this._videoTime.aLastPTS}},u.flush=function(t,e){var i;void 0===t&&(t=0),void 0===e&&(e=!0);var r=this._videoTimeReferenceInfo;if(this._videoTimeReference&&r.sample&&(r.track.samples=[r.sample],delete r.sample,r.sequenceNumber+=1,i=this._remuxVideo(r.track,r.timeOffset,!0,t,r.accurateTimeOffset)),this._clearVideoTimeReference(),i&&e){var o=[i];this._eventEmitter.emit(n.default.PARSING_DATA,{segments:o,extra:this._transmuxData})}return i},u._clearVideoTimeReference=function(){this._videoTimeReferenceInfo={}},u.remux=function(t,e,i,r,o,s){if(void 0===s&&(s=!1),this._config.ensureAudio&&t.active&&l.ensureAudioFrame(t,e,this._config.audioCodec,s),s&&e.active&&0===e.samples.length&&t.samples.length&&t.samplerate){if(this._ISGenerated&&(t.samples[t.samples.length-1].pts-t.samples[0].pts)/t.inputTimescale<1)return;var u=v.getFillTrackBySamples(t.samples);u&&(a.Log.i("remuxer","fill black video frame"),u.sequenceNumber=e.sequenceNumber,u.active=e.active,e=u,this._transmuxData&&this.resetInitSegment(this._transmuxData))}if(this._ISGenerated||this._generateIS(t,e,i),!r&&e.samples.length&&(e.samples[0].pts=e.samples[0].dts),this._ISGenerated){var c,f,d=i,h=i;if(t.samples.length&&e.samples.length)if(!r&&o){if(t.samples[0].pts-e.samples[0].pts<0){var p=F({},e.samples[0]);p.dts=p.pts=t.samples[0].pts,e.samples.unshift(p)}}else{var _=(t.samples[0].pts-e.samples[0].pts)/e.inputTimescale;d+=Math.max(0,_),h+=Math.max(0,-_)}var m=0;(c=this._remuxAudio(t,d,r,o))&&(m=c.endPTS-c.startPTS),!(f=this._remuxVideo(e,h,r,m,o,s))&&s&&this._videoTimeReferenceInfo.sample&&(f=this.flush(m,!1)),f&&!c&&t.codec&&(c=this._remuxEmptyAudio(t,d,r,f));var g=[];c&&g.push(c),f&&g.push(f),g.length&&this._eventEmitter.emit(n.default.PARSING_DATA,{segments:g,extra:this._transmuxData})}},u._generateIS=function(t,e,i){var o,s,u=this._eventEmitter,c=t.samples,l=e.samples,f=this._typeSupported,d={},h={tracks:d},p=void 0===this._initPTS,_="audio/mp4";if(p&&(o=s=1/0),t.config&&c.length&&(t.timescale=t.samplerate,a.Log.v("remuxer","audio sampling rate : "+t.samplerate),t.isAAC||(f.mpeg?(_="audio/mpeg",t.codec=""):f.mp3&&(t.codec="mp3")),this._initSegment.audio=!t.isAAC&&f.mpeg?new Uint8Array:B.moov([t]),d.audio={container:_,codec:t.codec,metadata:{channelCount:t.channelCount,audioSampleRate:t.samplerate}},p&&(o=s=c[0].pts-t.inputTimescale*i)),e.sps&&e.pps&&l.length){var v=e.inputTimescale;e.timescale=v,e.duration<=0&&(a.Log.i("remuxer","videoTrack.duration === 0"),e.duration=1),this._initSegment.video=B.moov([e]),d.video={container:"video/mp4",codec:e.codec,metadata:{width:e.width,height:e.height,fps:e.fps,profile:e.profile,level:e.level,chromaFormat:e.chromaFormat,bitDepth:e.bitDepth,colorInfo:e.colorInfo}},p&&(o=Math.min(o||1/0,l[0].pts-v*i),s=Math.min(s||1/0,l[0].dts-v*i),u.emit(n.default.INIT_PTS_FOUND,{initPTS:o,timescale:v}))}Object.keys(d).length?(u.emit(n.default.PARSING_INIT_SEGMENT,h),this._ISGenerated=!0,p&&(this._initPTS=o,this._initDTS=s,a.Log.i("remuxer","init pts:"+o+" dts:"+s))):u.emit(n.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},u._remuxVideo=function(t,e,i,r,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=!1),t.samples.length){var s,u,c=t.timescale,l=t.samples,d=[],h=this._initPTS,p=this._videoTime,_=[],v=0,m=0,g=0,y=l.length;if(void 0!==h){var E=this._nextAvcDts,w=this._isSafari;if(0!==y&&0!==t.timescale&&(w&&(i=i||!!(l.length&&E&&(n&&Math.abs(e-E/c)<.1||Math.abs(l[0].pts-E-h)<c/5))),i||(E=e*c,this._resetVideoTime()),void 0!==E)){l.forEach((function(t){t.pts=V(t.pts-h,E),t.dts=V(t.dts-h,E)})),l.sort((function(t,e){var i=t.dts-e.dts,r=t.pts-e.pts;return i||r}));var A=l.reduce((function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)}),0);if(A<0){a.Log.w("remuxer","PTS < DTS detected in video samples, shifting DTS by "+Math.round(A/90)+" ms to overcome this issue");for(var b=0;b<l.length;b++)l[b].dts+=A}this._videoTimeReference&&(this._videoTimeReferenceInfo.timeOffset=e,this._videoTimeReferenceInfo.accurateTimeOffset=n,this._videoTimeReferenceInfo.track=t,this._videoTimeReferenceInfo.sample&&(y++,l.unshift(this._videoTimeReferenceInfo.sample),this._videoTimeReferenceInfo.sample=void 0),l.length>1&&!o&&(this._videoTimeReferenceInfo.sample=l.pop(),y--));var S=l[0];g=Math.max(S.dts,0),m=Math.max(S.pts,0);var T=Math.round((g-E)/90);i&&T&&(T>1?a.Log.v("remuxer","AVC:"+T+" ms hole between fragments detected,filling it"):T<-1&&a.Log.v("remuxer","AVC:"+-T+" ms overlapping between fragments detected"),m=Math.max(m-(g-E),E),g=E,l[0].dts=g,l[0].pts=m,a.Log.v("remuxer","Video/PTS/DTS adjusted: "+Math.round(m/90)+"/"+Math.round(g/90)+",delta:"+T+" ms")),S=l[l.length-1],u=Math.max(S.dts,0),s=Math.max(S.pts,0,u),w&&(v=Math.round((u-g)/(l.length-1)));for(var x=0;x<y;x++){var L=l[x];L.dts=w?g+x*v:Math.max(L.dts,g),L.pts=Math.max(L.pts,L.dts)}for(var C=0;C<y;C++){var I,D=l[C],O=void D.units;if(w)O=Math.max(0,v*Math.round((D.pts-D.dts)/v));else{if(C<y-1)v=l[C+1].dts-D.dts;else{var R=this._config,k=0;if(k=this._videoTimeReferenceInfo.sample?this._videoTimeReferenceInfo.sample.dts-D.dts:t.sampleDuration||p.sampleDuration||D.dts-l[C>0?C-1:C].dts,k=90*Math.floor(k/90),R.stretchShortVideoTrack&&this._nextAudioPts){var N=R.maxBufferHole,M=Math.floor(N*c),P=(r?m+r*c:this._nextAudioPts)-D.pts;P>M?((v=P-k)<0&&(v=k),a.Log.v("remuxer","It is approximately "+P/90+" ms to the next segment; using duration "+v/90+" ms for the last video frame.")):v=k}else v=k}O=Math.round(D.pts-D.dts)}if(v<0||isNaN(v)){var U=0;i&&l.length<2&&(U=90*T),v=Math.max((t.sampleDuration||p.sampleDuration)-U,90)}I=D.units.reduce((function(t,e){return e.data.byteLength+4+t}),0),d.push({len:I,units:D.units,duration:v,cts:O,streamDTS:D.streamDTS,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:D.key?2:1,isNonSync:D.key?0:1}}),D.extraInfo&&(D.extraInfo.ptsMs=S.pts/c*1e3,_.push(D.extraInfo))}if(this._nextAvcDts=u+v,d.length&&this._forceFirstIDR){var F=d[0].flags;F.dependsOn=2,F.isNonSync=0}t.mp4Samples=d;var K={payload:B.videoMediaSegment(t.sequenceNumber++,g,t,this._getMoovByType(f.TrackType.VIDEO)),startPTS:m/c,endPTS:(s+v)/c,startDTS:g/c,endDTS:this._nextAvcDts/c,type:f.TrackType.VIDEO,streamDTS:d[0].streamDTS,framesInfo:_};return this._videoTime.vLastPTS=K.endPTS,0===p.nbSamples&&(p.firstDTS=g),p.nbSamples+=y,p.sampleDuration=Math.round((this._nextAvcDts-p.firstDTS)/p.nbSamples),t.samples=[],t.mp4Samples=[],K}}}},u._remuxAudio=function(t,e,i,r){if(void 0===r&&(r=!1),t.samples.length){var n,s,u,c=t.inputTimescale,l=t.timescale,d=c/l,h=t.isAAC?1024:1152,p=h*d,_=this._initPTS,v=[],m=[],g=0,y=t.samples,E=this._nextAudioPts,w=!1;if(void 0!==_&&(i=i||!!(y.length&&E&&(r&&Math.abs(e-E/c)<.1||Math.abs(y[0].pts-E-_)<20*p)),y.forEach((function(t){t.pts=t.dts=V(t.pts-_,e*c)})),0!==(y=y.filter((function(t){return t.pts>=0}))).length&&(i&&void 0!==E||(E=r?e*c:y[0].pts,w=!0),void 0!==E))){if(t.isAAC)for(var A=this._config.maxAudioFramesDrift,b=0,S=E;b<y.length;){var T=y[b],x=T.pts-S,L=Math.abs(1e3*x/c);if(x<=-A*p)y.splice(b,1);else if(x>=A*p&&L<1e5&&S){var C=Math.round(x/p);a.Log.w("remuxer","Injecting "+C+" audio frame @ "+(S/c).toFixed(3)+"s due to "+Math.round(1e3*x/c)+" ms gap.");for(var I=0;I<C;I++){var D=Math.max(S,0);(s=o.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(a.Log.v("remuxer","Unable to get silent frame for given audio codec; duplicating last frame instead."),s=T.unit.subarray()),y.splice(b,0,{unit:s,pts:D,dts:D,streamDTS:T.streamDTS-(C-I)*p/90}),S+=p,b++}T.pts=T.dts=S,S+=p,b++}else T.pts=T.dts=S,S+=p,b++}for(var O=y.length,R=0,k=y.length;R<k;R++){var N=y[R],M=N.unit,P=N.pts;if(void 0!==u&&n)n.duration=Math.round((P-u)/d);else{var U=Math.round(1e3*(P-E)/c),F=0;if(i&&t.isAAC&&U){if(U>0&&U<1e5)F=Math.round((P-E)/p),a.Log.v("remuxer",U+" ms hole between AAC samples detected,filling it"),F>0&&((s=o.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s=M.subarray()));else if(U<-12){a.Log.v("remuxer","drop overlapping AAC sample, expected/parsed/delta:"+(E/c).toFixed(3)+"s/"+(P/c).toFixed(3)+"s/"+-U+"ms");continue}P=E}g=P;for(var K=0;K<F;K++)(s=o.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(a.Log.v("remuxer","Unable to get silent frame for given audio codec; duplicating this frame instead."),s=M.subarray()),n={len:s.byteLength,cts:0,duration:1024,unit:s,streamDTS:Math.round(N.streamDTS-(F-K)*p/90),flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1,isNonSync:0}},v.push(n)}n={len:M.byteLength,cts:0,duration:1024,unit:M,streamDTS:N.streamDTS,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1,isNonSync:0}},v.push(n),N.extraInfo&&(N.extraInfo.ptsMs=P/c*1e3,m.push(N.extraInfo)),u=P}var j=0;if(O=v.length,n){if(O>=2&&(j=v[O-2].duration,n.duration=j),O&&"number"==typeof u){n&&0===n.duration&&(n.duration=t.isAAC?1024:1152),this._nextAudioPts=E=u+d*(j||h),t.mp4Samples=v;var H=B.audioMediaSegment(t.sequenceNumber++,g/d,t,this._getMoovByType(f.TrackType.AUDIO));t.samples=[],t.mp4Samples=[];var q=g/c,G=E/c,z={payload:H,startPTS:q,endPTS:G,startDTS:q,endDTS:G,type:f.TrackType.AUDIO,streamDTS:v[0].streamDTS/1e3,framesInfo:m};return this._videoTime.aLastPTS=z.endPTS,z}w&&delete this._nextAudioPts,t.samples=[],t.mp4Samples=[]}}}},u._remuxEmptyAudio=function(t,e,i,r){if(void 0!==this._initDTS){var n=t.inputTimescale,s=n/(t.samplerate?t.samplerate:n),u=this._nextAudioPts,c=(void 0!==u?u:r.startDTS*n)+this._initDTS,l=r.endDTS*n+this._initDTS,f=1024*s,d=Math.ceil((l-c)/f),h=o.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(a.Log.w("remuxer","remux empty Audio"),h){for(var p=[],_=0;_<d;_++){var v=c+_*f;p.push({unit:h,pts:v,dts:v,streamDTS:(r.streamDTS*n+_*f)/90})}return t.samples=p,this._remuxAudio(t,e,i)}a.Log.d("remuxer","Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")}},u._resetVideoTime=function(){this._videoTime={nbSamples:0,firstDTS:0,sampleDuration:3e3,vLastPTS:0,aLastPTS:0}},u._getMoovByType=function(t){var e;return this._initSegment&&this._initSegment[t]&&(e=this._initSegment[t],delete this._initSegment[t]),e},e=t,(i=[{key:"ISGenerated",get:function(){return this._ISGenerated}}])&&K(e.prototype,i),s&&K(e,s),t}();function V(t,e){var i;if(void 0===e)return t;for(i=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=i;return t}e.default=j},"./src/types/core.ts":
/*!***************************!*\
  !*** ./src/types/core.ts ***!
  \***************************/
/*! exports provided: CodecType, Protocol, MediaBox, RetryType, WaitingTrigger, LevelType, TrackType, UNSEEKABLE_START_TIME_THRESHOLD */function(t,e,i){"use strict";var r,n,o,a,s,u,c;i.r(e),i.d(e,"CodecType",(function(){return r})),i.d(e,"Protocol",(function(){return n})),i.d(e,"MediaBox",(function(){return o})),i.d(e,"RetryType",(function(){return a})),i.d(e,"WaitingTrigger",(function(){return s})),i.d(e,"LevelType",(function(){return u})),i.d(e,"TrackType",(function(){return c})),i.d(e,"UNSEEKABLE_START_TIME_THRESHOLD",(function(){return l})),function(t){t[t.h264=0]="h264",t[t.h265=1]="h265",t[t.av1=2]="av1"}(r||(r={})),function(t){t.UNKNOWN="unknown",t.FLV="flv",t.HLS="hls",t.MP4="mp4",t.NATIVE="native",t.ABR_FLV="abrFlv",t.KWAI_HLS="kwaiHls",t.KWAI_MP4="kwaiMp4",t.KWAI_FLV="kwaiFlv",t.KWAI_WEBRTC="kwaiWebRtc"}(n||(n={})),function(t){t.flv="flv",t.hls="hls",t.webrtc="webrtc",t.mp4="mp4",t.native="native"}(o||(o={})),function(t){t.LIVE="live_retry",t.RTC="rtc_retry",t.CODEC="codec"}(a||(a={})),function(t){t[t.NATIVE=0]="NATIVE",t[t.CUSTOM=1]="CUSTOM"}(s||(s={})),function(t){t.MAIN="main",t.AUDIO="audio",t.SUBTITLE="subtitle"}(u||(u={})),function(t){t.VIDEO="video",t.AUDIO="audio"}(c||(c={}));var l=.1},"./src/types/remux.ts":
/*!****************************!*\
  !*** ./src/types/remux.ts ***!
  \****************************/
/*! exports provided: RemuxerTrackIdConfig, AudioConfigType, DemuxerType */function(t,e,i){"use strict";var r,n,o;i.r(e),i.d(e,"RemuxerTrackIdConfig",(function(){return r})),i.d(e,"AudioConfigType",(function(){return n})),i.d(e,"DemuxerType",(function(){return o})),function(t){t[t.video=1]="video",t[t.audio=2]="audio"}(r||(r={})),function(t){t[t.ADTS=0]="ADTS",t[t.ASC=1]="ASC"}(n||(n={})),function(t){t.UNKNOWN="unknown",t.FLV="flv",t.FMP4="fmp4",t.TS="ts",t.MP4="mp4"}(o||(o={}))},"./src/utils/browser.ts":
/*!******************************!*\
  !*** ./src/utils/browser.ts ***!
  \******************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var r={};!function(){var t=self.navigator.userAgent.toLowerCase(),e=/(edge)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(iemobile)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(t)||[],i=/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(android)/.exec(t)||/(windows)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||[],n={browser:e[5]||e[3]||e[1]||"",version:e[2]||e[4]||"0",majorVersion:e[4]||e[2]||"0",platform:i[0]||""},o={x5:/ tbs\//.test(t)};if(n.browser){o[n.browser]=!0;var a=n.majorVersion.split(".");o.version={major:parseInt(n.majorVersion,10),string:n.version},a.length>1&&(o.version.minor=parseInt(a[1],10)),a.length>2&&(o.version.build=parseInt(a[2],10))}for(var s in n.platform&&(o[n.platform]=!0),(o.chrome||o.opr||o.safari)&&(o.webkit=!0),(o.rv||o.iemobile)&&(o.rv&&delete o.rv,n.browser="msie",o.msie=!0),o.edge&&(delete o.edge,n.browser="msedge",o.msedge=!0),o.opr&&(n.browser="opera",o.opera=!0),o.safari&&o.android&&(n.browser="android",o.android=!0),o.name=n.browser,o.platform=n.platform,r)r.hasOwnProperty(s)&&delete r[s];r=o}(),e.default=r},"./src/utils/decode-utf8.ts":
/*!**********************************!*\
  !*** ./src/utils/decode-utf8.ts ***!
  \**********************************/
/*! exports provided: decodeUTF8 */function(t,e,i){"use strict";function r(t){for(var e=[],i=0,r=t.byteLength;i<r;){if(t[i]<128)e.push(t[i]);else if(t[i]<192);else if(t[i]<224){if(i<r-1&&t[i+1]>>6==2){e.push((31&t[i])<<6|63&t[i+1]),i+=2;continue}}else if(t[i]<240){if(i<r-2&&t[i+1]>>6==2&&t[i+2]>>6==2){e.push((15&t[i])<<12|(63&t[i+1])<<6|63&t[i+2]),i+=3;continue}}else if(t[i]<248&&i<r-3&&t[i+1]>>6==2&&t[i+2]>>6==2&&t[i+3]>>6==2){e.push((7&t[i])<<18|(63&t[i+1])<<12|(63&t[i+2])<<6|63&t[i+3]),i+=4;continue}i++}return(String.fromCodePoint||n).apply(null,e)}function n(){for(var t=[],e=0,i="",r=0,n=arguments.length;r!==n;++r){var o=+arguments[r];if(!(o<1114111&&o>>>0===o))throw RangeError("Invalid code point: "+o);o<=65535?e=t.push(o):(o-=65536,e=t.push(55296+(o>>10),o%1024+56320)),e>=16383&&(i+=String.fromCharCode.apply(null,t),t.length=0)}return i+String.fromCharCode.apply(null,t)}i.r(e),i.d(e,"decodeUTF8",(function(){return r}))},"./src/utils/keyframes-utils.ts":
/*!**************************************!*\
  !*** ./src/utils/keyframes-utils.ts ***!
  \**************************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var r=function(){function t(){}return t.getPosByTime=function(t,e){if(t){if(t[0]&&e<=t[0].time)return t[0];if(t[t.length-1]&&e>=t[t.length-1].time)return t[t.length-1];for(var i=0,r=t.length-1,n=0,o=0;i<=r;)if(e>(o=t[1+(n=(i+r)/2|0)]?t[n+1].time:Number.MAX_SAFE_INTEGER))i=n+1;else{if(!(e<t[n].time))return e===o?t[n+1]:t[n];r=n-1}return t[0]}},t}();e.default=r},"./src/utils/log.ts":
/*!**************************!*\
  !*** ./src/utils/log.ts ***!
  \**************************/
/*! exports provided: Log, LOG_LEVEL */function(t,e,i){"use strict";i.r(e),i.d(e,"Log",(function(){return s})),i.d(e,"LOG_LEVEL",(function(){return r}));var r,n="kwai-k",o=!0;function a(t,e){return e&&0!==e.length||(e=[t],t=""),t=o?n+(t?"::"+t:""):t||n,e.unshift("["+t+"] > "),e}!function(t){t.LEVEL_ERROR="e",t.LEVEL_WARN="w",t.LEVEL_INFO="i",t.LEVEL_DEBUG="d",t.LEVEL_VERBOSE="v"}(r||(r={}));var s=function(){function t(){}return t.level=function(e){switch(t.ENABLE_ERROR=t.ENABLE_WARN=t.ENABLE_INFO=t.ENABLE_DEBUG=t.ENABLE_VERBOSE=!1,e){case r.LEVEL_ERROR:t.ENABLE_ERROR=!0;break;case r.LEVEL_WARN:t.ENABLE_ERROR=t.ENABLE_WARN=!0;break;case r.LEVEL_INFO:t.ENABLE_ERROR=t.ENABLE_WARN=t.ENABLE_INFO=!0;break;case r.LEVEL_DEBUG:t.ENABLE_ERROR=t.ENABLE_WARN=t.ENABLE_INFO=t.ENABLE_DEBUG=!0;break;case r.LEVEL_VERBOSE:t.ENABLE_ERROR=t.ENABLE_WARN=t.ENABLE_INFO=t.ENABLE_DEBUG=t.ENABLE_VERBOSE=!0}},t.e=function(e){if(t.ENABLE_ERROR){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];var o=a(e,r);(console.error||console.warn||console.log).apply(console,o)}},t.w=function(e){if(t.ENABLE_WARN){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];var o=a(e,r);(console.warn||console.log).apply(console,o)}},t.i=function(e){if(t.ENABLE_INFO){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];var o=a(e,r);(console.info||console.log).apply(console,o)}},t.d=function(e){if(t.ENABLE_DEBUG){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];var o=a(e,r);(console.debug||console.log).apply(console,o)}},t.v=function(e){if(t.ENABLE_VERBOSE){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];var o=a(e,r);console.log.apply(console,o)}},t}();s.ENABLE_ERROR=!0,s.ENABLE_WARN=!1,s.ENABLE_INFO=!1,s.ENABLE_DEBUG=!1,s.ENABLE_VERBOSE=!1},"./src/utils/uint8-array-tools.ts":
/*!****************************************!*\
  !*** ./src/utils/uint8-array-tools.ts ***!
  \****************************************/
/*! exports provided: bin2str, readUint16, readUint24, readUint32, readInt32, readUint64 */function(t,e,i){"use strict";function r(t,e,i){var r=i?e+i:t.byteLength-1;return String.fromCharCode.apply(null,t.subarray(e,r))}function n(t,e,i){void 0===e&&(e=0),void 0===i&&(i=!1);var r=0;return(r=i?t[e+1]<<8|t[e]:t[e]<<8|t[e+1])<0?65536+r:r}function o(t,e,i){void 0===e&&(e=0),void 0===i&&(i=!1);var r=0;return(r=i?t[e+2]<<16|t[e+1]<<8|t[e]:t[e]<<24|t[e+1]<<16|t[e+2]<<8)<0?16777215+r:r}function a(t,e,i){void 0===e&&(e=0),void 0===i&&(i=!1);var r=0;return(r=i?t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]:t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])<0?4294967296+r:r}function s(t,e,i){void 0===i&&(i=!1);var r=0;return 2147483648&(r=i?t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]:t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])&&(r=r+1-4294967295),r}function u(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=!1),i?t[e+7]<<56|t[e+6]<<48|t[e+5]<<40|t[e+4]<<32|t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]:t[e]<<56|t[e+1]<<48|t[e+2]<<40|t[e+3]<<32|t[e+4]<<24|t[e+5]<<16|t[e+6]<<8|t[e+7]}i.r(e),i.d(e,"bin2str",(function(){return r})),i.d(e,"readUint16",(function(){return n})),i.d(e,"readUint24",(function(){return o})),i.d(e,"readUint32",(function(){return a})),i.d(e,"readInt32",(function(){return s})),i.d(e,"readUint64",(function(){return u}))}}).default},t.exports=i())}).call(this,i(148))},function(t,e,i){var r=i(7),n=i(1),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:i(31)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var r=i(16),n=i(6),o=i(33);t.exports=function(t){return function(e,i,a){var s,u=r(e),c=n(u.length),l=o(a,c);if(t&&i!=i){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===i)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var r=i(24);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,i){var r=i(5)("iterator"),n=!1;try{var o=[7][r]();o.return=function(){n=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:i=!0}},o[r]=function(){return a},t(o)}catch(t){}return i}},function(t,e,i){"use strict";var r=i(3);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){"use strict";var r=i(49),n=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"==typeof i){var o=i.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},function(t,e,i){"use strict";i(115);var r=i(11),n=i(15),o=i(2),a=i(25),s=i(5),u=i(87),c=s("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var d=s(t),h=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=h?!o((function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[c]=function(){return i}),i[d](""),!e})):void 0;if(!h||!p||"replace"===t&&!l||"split"===t&&!f){var _=/./[d],v=i(a,d,""[t],(function(t,e,i,r,n){return e.exec===u?h&&!n?{done:!0,value:_.call(e,i,r)}:{done:!0,value:t.call(i,e,r)}:{done:!1}})),m=v[0],g=v[1];r(String.prototype,t,m),n(RegExp.prototype,d,2==e?function(t,e){return g.call(t,this,e)}:function(t){return g.call(t,this)})}}},function(t,e,i){var r=i(18),n=i(110),o=i(82),a=i(3),s=i(6),u=i(84),c={},l={};(e=t.exports=function(t,e,i,f,d){var h,p,_,v,m=d?function(){return t}:u(t),g=r(i,f,e?2:1),y=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(h=s(t.length);h>y;y++)if((v=e?g(a(p=t[y])[0],p[1]):g(t[y]))===c||v===l)return v}else for(_=m.call(t);!(p=_.next()).done;)if((v=n(_,g,p.value,e))===c||v===l)return v}).BREAK=c,e.RETURN=l},function(t,e,i){var r=i(1).navigator;t.exports=r&&r.userAgent||""},function(t,e,i){"use strict";var r=i(1),n=i(0),o=i(11),a=i(44),s=i(28),u=i(61),c=i(43),l=i(4),f=i(2),d=i(57),h=i(39),p=i(73);t.exports=function(t,e,i,_,v,m){var g=r[t],y=g,E=v?"set":"add",w=y&&y.prototype,A={},b=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof y&&(m||w.forEach&&!f((function(){(new y).entries().next()})))){var S=new y,T=S[E](m?{}:-0,1)!=S,x=f((function(){S.has(1)})),L=d((function(t){new y(t)})),C=!m&&f((function(){for(var t=new y,e=5;e--;)t[E](e,e);return!t.has(-0)}));L||((y=e((function(e,i){c(e,y,t);var r=p(new g,e,y);return null!=i&&u(i,v,r[E],r),r}))).prototype=w,w.constructor=y),(x||C)&&(b("delete"),b("has"),v&&b("get")),(C||T)&&b(E),m&&w.clear&&delete w.clear}else y=_.getConstructor(e,t,v,E),a(y.prototype,i),s.NEED=!0;return h(y,t),A[t]=y,n(n.G+n.W+n.F*(y!=g),A),m||_.setStrong(y,t,v),y}},function(t,e,i){for(var r,n=i(1),o=i(15),a=i(30),s=a("typed_array"),u=a("view"),c=!(!n.ArrayBuffer||!n.DataView),l=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=n[d[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,i){var r,n,o;
/**
 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bytebuffer.js for details
 */n=[i(357)],void 0===(o="function"==typeof(r=function(t){"use strict";var e=function(t,i,n){if(void 0===t&&(t=e.DEFAULT_CAPACITY),void 0===i&&(i=e.DEFAULT_ENDIAN),void 0===n&&(n=e.DEFAULT_NOASSERT),!n){if((t|=0)<0)throw RangeError("Illegal capacity");i=!!i,n=!!n}this.buffer=0===t?r:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=i,this.noAssert=n};e.VERSION="5.0.1",e.LITTLE_ENDIAN=!0,e.BIG_ENDIAN=!1,e.DEFAULT_CAPACITY=16,e.DEFAULT_ENDIAN=e.BIG_ENDIAN,e.DEFAULT_NOASSERT=!1,e.Long=t||null;var i=e.prototype;i.__isByteBuffer__,Object.defineProperty(i,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var r=new ArrayBuffer(0),n=String.fromCharCode;function o(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function a(){var t=[],e=[];return function(){if(0===arguments.length)return e.join("")+n.apply(String,t);t.length+arguments.length>1024&&(e.push(n.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}function s(t,e,i,r,n){var o,a,s=8*n-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=i?n-1:0,d=i?-1:1,h=t[e+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)}function u(t,e,i,r,n,o){var a,s,u,c=8*o-n-1,l=(1<<c)-1,f=l>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,n),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,n),a=0));n>=8;t[i+h]=255&s,h+=p,s/=256,n-=8);for(a=a<<n|s,c+=n;c>0;t[i+h]=255&a,h+=p,a/=256,c-=8);t[i+h-p]|=128*_}e.accessor=function(){return Uint8Array},e.allocate=function(t,i,r){return new e(t,i,r)},e.concat=function(t,i,r,n){"boolean"!=typeof i&&"string"==typeof i||(n=r,r=i,i=void 0);for(var o,a=0,s=0,u=t.length;s<u;++s)e.isByteBuffer(t[s])||(t[s]=e.wrap(t[s],i)),(o=t[s].limit-t[s].offset)>0&&(a+=o);if(0===a)return new e(0,r,n);var c,l=new e(a,r,n);for(s=0;s<u;)(o=(c=t[s++]).limit-c.offset)<=0||(l.view.set(c.view.subarray(c.offset,c.limit),l.offset),l.offset+=o);return l.limit=l.offset,l.offset=0,l},e.isByteBuffer=function(t){return!0===(t&&t.__isByteBuffer__)},e.type=function(){return ArrayBuffer},e.wrap=function(t,r,n,o){if("string"!=typeof r&&(o=n,n=r,r=void 0),"string"==typeof t)switch(void 0===r&&(r="utf8"),r){case"base64":return e.fromBase64(t,n);case"hex":return e.fromHex(t,n);case"binary":return e.fromBinary(t,n);case"utf8":return e.fromUTF8(t,n);case"debug":return e.fromDebug(t,n);default:throw Error("Unsupported encoding: "+r)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var a;if(e.isByteBuffer(t))return(a=i.clone.call(t)).markedOffset=-1,a;if(t instanceof Uint8Array)a=new e(0,n,o),t.length>0&&(a.buffer=t.buffer,a.offset=t.byteOffset,a.limit=t.byteOffset+t.byteLength,a.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)a=new e(0,n,o),t.byteLength>0&&(a.buffer=t,a.offset=0,a.limit=t.byteLength,a.view=t.byteLength>0?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");(a=new e(t.length,n,o)).limit=t.length;for(var s=0;s<t.length;++s)a.view[s]=t[s]}return a},i.writeBitSet=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if(!(t instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var r,n=e,o=t.length,a=o>>3,s=0;for(e+=this.writeVarint32(o,e);a--;)r=1&!!t[s++]|(1&!!t[s++])<<1|(1&!!t[s++])<<2|(1&!!t[s++])<<3|(1&!!t[s++])<<4|(1&!!t[s++])<<5|(1&!!t[s++])<<6|(1&!!t[s++])<<7,this.writeByte(r,e++);if(s<o){var u=0;for(r=0;s<o;)r|=(1&!!t[s++])<<u++;this.writeByte(r,e++)}return i?(this.offset=e,this):e-n},i.readBitSet=function(t){var e=void 0===t;e&&(t=this.offset);var i,r=this.readVarint32(t),n=r.value,o=n>>3,a=0,s=[];for(t+=r.length;o--;)i=this.readByte(t++),s[a++]=!!(1&i),s[a++]=!!(2&i),s[a++]=!!(4&i),s[a++]=!!(8&i),s[a++]=!!(16&i),s[a++]=!!(32&i),s[a++]=!!(64&i),s[a++]=!!(128&i);if(a<n){var u=0;for(i=this.readByte(t++);a<n;)s[a++]=!!(i>>u++&1)}return e&&(this.offset=t),s},i.readBytes=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}var r=this.slice(e,e+t);return i&&(this.offset+=t),r},i.writeBytes=i.append,i.writeInt8=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=1,this.view[e]=t,i&&(this.offset+=1),this},i.writeByte=i.writeInt8,i.readInt8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=this.view[t];return 128==(128&i)&&(i=-(255-i+1)),e&&(this.offset+=1),i},i.readByte=i.readInt8,i.writeUint8=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=1,this.view[e]=t,i&&(this.offset+=1),this},i.writeUInt8=i.writeUint8,i.readUint8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=this.view[t];return e&&(this.offset+=1),i},i.readUInt8=i.readUint8,i.writeInt16=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),i&&(this.offset+=2),this},i.writeShort=i.writeInt16,i.readInt16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t],i|=this.view[t+1]<<8):(i=this.view[t]<<8,i|=this.view[t+1]),32768==(32768&i)&&(i=-(65535-i+1)),e&&(this.offset+=2),i},i.readShort=i.readInt16,i.writeUint16=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),i&&(this.offset+=2),this},i.writeUInt16=i.writeUint16,i.readUint16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t],i|=this.view[t+1]<<8):(i=this.view[t]<<8,i|=this.view[t+1]),e&&(this.offset+=2),i},i.readUInt16=i.readUint16,i.writeInt32=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),i&&(this.offset+=4),this},i.writeInt=i.writeInt32,i.readInt32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0),i|=0,e&&(this.offset+=4),i},i.readInt=i.readInt32,i.writeUint32=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),i&&(this.offset+=4),this},i.writeUInt32=i.writeUint32,i.readUint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0),e&&(this.offset+=4),i},i.readUInt32=i.readUint32,t&&(i.writeInt64=function(e,i){var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),i+=8;var n=this.buffer.byteLength;i>n&&this.resize((n*=2)>i?n:i),i-=8;var o=e.low,a=e.high;return this.littleEndian?(this.view[i+3]=o>>>24&255,this.view[i+2]=o>>>16&255,this.view[i+1]=o>>>8&255,this.view[i]=255&o,i+=4,this.view[i+3]=a>>>24&255,this.view[i+2]=a>>>16&255,this.view[i+1]=a>>>8&255,this.view[i]=255&a):(this.view[i]=a>>>24&255,this.view[i+1]=a>>>16&255,this.view[i+2]=a>>>8&255,this.view[i+3]=255&a,i+=4,this.view[i]=o>>>24&255,this.view[i+1]=o>>>16&255,this.view[i+2]=o>>>8&255,this.view[i+3]=255&o),r&&(this.offset+=8),this},i.writeLong=i.writeInt64,i.readInt64=function(e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var o=new t(r,n,!1);return i&&(this.offset+=8),o},i.readLong=i.readInt64,i.writeUint64=function(e,i){var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),i+=8;var n=this.buffer.byteLength;i>n&&this.resize((n*=2)>i?n:i),i-=8;var o=e.low,a=e.high;return this.littleEndian?(this.view[i+3]=o>>>24&255,this.view[i+2]=o>>>16&255,this.view[i+1]=o>>>8&255,this.view[i]=255&o,i+=4,this.view[i+3]=a>>>24&255,this.view[i+2]=a>>>16&255,this.view[i+1]=a>>>8&255,this.view[i]=255&a):(this.view[i]=a>>>24&255,this.view[i+1]=a>>>16&255,this.view[i+2]=a>>>8&255,this.view[i+3]=255&a,i+=4,this.view[i]=o>>>24&255,this.view[i+1]=o>>>16&255,this.view[i+2]=o>>>8&255,this.view[i+3]=255&o),r&&(this.offset+=8),this},i.writeUInt64=i.writeUint64,i.readUint64=function(e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var o=new t(r,n,!0);return i&&(this.offset+=8),o},i.readUInt64=i.readUint64),i.writeFloat32=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,u(this.view,t,e,this.littleEndian,23,4),i&&(this.offset+=4),this},i.writeFloat=i.writeFloat32,i.readFloat32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=s(this.view,t,this.littleEndian,23,4);return e&&(this.offset+=4),i},i.readFloat=i.readFloat32,i.writeFloat64=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=8,u(this.view,t,e,this.littleEndian,52,8),i&&(this.offset+=8),this},i.writeDouble=i.writeFloat64,i.readFloat64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=s(this.view,t,this.littleEndian,52,8);return e&&(this.offset+=8),i},i.readDouble=i.readFloat64,e.MAX_VARINT32_BYTES=5,e.calculateVarint32=function(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},e.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},e.zigZagDecode32=function(t){return t>>>1^-(1&t)|0},i.writeVarint32=function(t,i){var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,o=e.calculateVarint32(t);i+=o;var a=this.buffer.byteLength;for(i>a&&this.resize((a*=2)>i?a:i),i-=o,t>>>=0;t>=128;)n=127&t|128,this.view[i++]=n,t>>>=7;return this.view[i++]=t,r?(this.offset=i,this):o},i.writeVarint32ZigZag=function(t,i){return this.writeVarint32(e.zigZagEncode32(t),i)},i.readVarint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i,r=0,n=0;do{if(!this.noAssert&&t>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}i=this.view[t++],r<5&&(n|=(127&i)<<7*r),++r}while(0!=(128&i));return n|=0,e?(this.offset=t,n):{value:n,length:r}},i.readVarint32ZigZag=function(t){var i=this.readVarint32(t);return"object"==typeof i?i.value=e.zigZagDecode32(i.value):i=e.zigZagDecode32(i),i},t&&(e.MAX_VARINT64_BYTES=10,e.calculateVarint64=function(e){"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e));var i=e.toInt()>>>0,r=e.shiftRightUnsigned(28).toInt()>>>0,n=e.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==r?i<16384?i<128?1:2:i<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:n<128?9:10},e.zigZagEncode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftLeft(1).xor(e.shiftRight(63)).toUnsigned()},e.zigZagDecode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftRightUnsigned(1).xor(e.and(t.ONE).toSigned().negate()).toSigned()},i.writeVarint64=function(i,r){var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"==typeof i)i=t.fromNumber(i);else if("string"==typeof i)i=t.fromString(i);else if(!(i&&i instanceof t))throw TypeError("Illegal value: "+i+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof i?i=t.fromNumber(i,!1):"string"==typeof i?i=t.fromString(i,!1):!1!==i.unsigned&&(i=i.toSigned());var o=e.calculateVarint64(i),a=i.toInt()>>>0,s=i.shiftRightUnsigned(28).toInt()>>>0,u=i.shiftRightUnsigned(56).toInt()>>>0;r+=o;var c=this.buffer.byteLength;switch(r>c&&this.resize((c*=2)>r?c:r),r-=o,o){case 10:this.view[r+9]=u>>>7&1;case 9:this.view[r+8]=9!==o?128|u:127&u;case 8:this.view[r+7]=8!==o?s>>>21|128:s>>>21&127;case 7:this.view[r+6]=7!==o?s>>>14|128:s>>>14&127;case 6:this.view[r+5]=6!==o?s>>>7|128:s>>>7&127;case 5:this.view[r+4]=5!==o?128|s:127&s;case 4:this.view[r+3]=4!==o?a>>>21|128:a>>>21&127;case 3:this.view[r+2]=3!==o?a>>>14|128:a>>>14&127;case 2:this.view[r+1]=2!==o?a>>>7|128:a>>>7&127;case 1:this.view[r]=1!==o?128|a:127&a}return n?(this.offset+=o,this):o},i.writeVarint64ZigZag=function(t,i){return this.writeVarint64(e.zigZagEncode64(t),i)},i.readVarint64=function(e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,n=0,o=0,a=0,s=0;if(n=127&(s=this.view[e++]),128&s&&(n|=(127&(s=this.view[e++]))<<7,(128&s||this.noAssert&&void 0===s)&&(n|=(127&(s=this.view[e++]))<<14,(128&s||this.noAssert&&void 0===s)&&(n|=(127&(s=this.view[e++]))<<21,(128&s||this.noAssert&&void 0===s)&&(o=127&(s=this.view[e++]),(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[e++]))<<7,(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[e++]))<<14,(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[e++]))<<21,(128&s||this.noAssert&&void 0===s)&&(a=127&(s=this.view[e++]),(128&s||this.noAssert&&void 0===s)&&(a|=(127&(s=this.view[e++]))<<7,128&s||this.noAssert&&void 0===s))))))))))throw Error("Buffer overrun");var u=t.fromBits(n|o<<28,o>>>4|a<<24,!1);return i?(this.offset=e,u):{value:u,length:e-r}},i.readVarint64ZigZag=function(i){var r=this.readVarint64(i);return r&&r.value instanceof t?r.value=e.zigZagDecode64(r.value):r=e.zigZagDecode64(r),r}),i.writeCString=function(t,e){var i=void 0===e;i&&(e=this.offset);var r,n=t.length;if(!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(r=0;r<n;++r)if(0===t.charCodeAt(r))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}n=l.calculateUTF16asUTF8(o(t))[1],e+=n+1;var a=this.buffer.byteLength;return e>a&&this.resize((a*=2)>e?a:e),e-=n+1,l.encodeUTF16toUTF8(o(t),function(t){this.view[e++]=t}.bind(this)),this.view[e++]=0,i?(this.offset=e,this):n},i.readCString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i,r=t,n=-1;return l.decodeUTF8toUTF16(function(){if(0===n)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return 0===(n=this.view[t++])?null:n}.bind(this),i=a(),!0),e?(this.offset=t,i()):{string:i(),length:t-r}},i.writeIString=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var r,n=e;r=l.calculateUTF16asUTF8(o(t),this.noAssert)[1],e+=4+r;var a=this.buffer.byteLength;if(e>a&&this.resize((a*=2)>e?a:e),e-=4+r,this.littleEndian?(this.view[e+3]=r>>>24&255,this.view[e+2]=r>>>16&255,this.view[e+1]=r>>>8&255,this.view[e]=255&r):(this.view[e]=r>>>24&255,this.view[e+1]=r>>>16&255,this.view[e+2]=r>>>8&255,this.view[e+3]=255&r),e+=4,l.encodeUTF16toUTF8(o(t),function(t){this.view[e++]=t}.bind(this)),e!==n+4+r)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+4+r));return i?(this.offset=e,this):e-n},i.readIString=function(t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=t,n=this.readUint32(t),o=this.readUTF8String(n,e.METRICS_BYTES,t+=4);return t+=o.length,i?(this.offset=t,o.string):{string:o.string,length:t-r}},e.METRICS_CHARS="c",e.METRICS_BYTES="b",i.writeUTF8String=function(t,e){var i,r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n=e;i=l.calculateUTF16asUTF8(o(t))[1],e+=i;var a=this.buffer.byteLength;return e>a&&this.resize((a*=2)>e?a:e),e-=i,l.encodeUTF16toUTF8(o(t),function(t){this.view[e++]=t}.bind(this)),r?(this.offset=e,this):e-n},i.writeString=i.writeUTF8String,e.calculateUTF8Chars=function(t){return l.calculateUTF16asUTF8(o(t))[0]},e.calculateUTF8Bytes=function(t){return l.calculateUTF16asUTF8(o(t))[1]},e.calculateString=e.calculateUTF8Bytes,i.readUTF8String=function(t,i,r){"number"==typeof i&&(r=i,i=void 0);var n=void 0===r;if(n&&(r=this.offset),void 0===i&&(i=e.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o,s=0,u=r;if(i===e.METRICS_CHARS){if(o=a(),l.decodeUTF8(function(){return s<t&&r<this.limit?this.view[r++]:null}.bind(this),(function(t){++s,l.UTF8toUTF16(t,o)})),s!==t)throw RangeError("Illegal range: Truncated data, "+s+" == "+t);return n?(this.offset=r,o()):{string:o(),length:r-u}}if(i===e.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+t+") <= "+this.buffer.byteLength)}var c=r+t;if(l.decodeUTF8toUTF16(function(){return r<c?this.view[r++]:null}.bind(this),o=a(),this.noAssert),r!==c)throw RangeError("Illegal range: Truncated data, "+r+" == "+c);return n?(this.offset=r,o()):{string:o(),length:r-u}}throw TypeError("Unsupported metrics: "+i)},i.readString=i.readUTF8String,i.writeVString=function(t,i){var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,a,s=i;n=l.calculateUTF16asUTF8(o(t),this.noAssert)[1],a=e.calculateVarint32(n),i+=a+n;var u=this.buffer.byteLength;if(i>u&&this.resize((u*=2)>i?u:i),i-=a+n,i+=this.writeVarint32(n,i),l.encodeUTF16toUTF8(o(t),function(t){this.view[i++]=t}.bind(this)),i!==s+n+a)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+n+a));return r?(this.offset=i,this):i-s},i.readVString=function(t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,n=this.readVarint32(t),o=this.readUTF8String(n.value,e.METRICS_BYTES,t+=n.length);return t+=o.length,i?(this.offset=t,o.string):{string:o.string,length:t-r}},i.append=function(t,i,r){"number"!=typeof i&&"string"==typeof i||(r=i,i=void 0);var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof e||(t=e.wrap(t,i));var o=t.limit-t.offset;if(o<=0)return this;r+=o;var a=this.buffer.byteLength;return r>a&&this.resize((a*=2)>r?a:r),r-=o,this.view.set(t.view.subarray(t.offset,t.limit),r),t.offset+=o,n&&(this.offset+=o),this},i.appendTo=function(t,e){return t.append(this,e),this},i.assert=function(t){return this.noAssert=!t,this},i.capacity=function(){return this.buffer.byteLength},i.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},i.clone=function(t){var i=new e(0,this.littleEndian,this.noAssert);return t?(i.buffer=new ArrayBuffer(this.buffer.byteLength),i.view=new Uint8Array(i.buffer)):(i.buffer=this.buffer,i.view=this.view),i.offset=this.offset,i.markedOffset=this.markedOffset,i.limit=this.limit,i},i.compact=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var i=e-t;if(0===i)return this.buffer=r,this.view=null,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var n=new ArrayBuffer(i),o=new Uint8Array(n);return o.set(this.view.subarray(t,e)),this.buffer=n,this.view=o,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=i,this},i.copy=function(t,i){if(void 0===t&&(t=this.offset),void 0===i&&(i=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}if(t===i)return new e(0,this.littleEndian,this.noAssert);var r=i-t,n=new e(r,this.littleEndian,this.noAssert);return n.offset=0,n.limit=r,n.markedOffset>=0&&(n.markedOffset-=t),this.copyTo(n,0,t,i),n},i.copyTo=function(t,i,r,n){var o,a;if(!this.noAssert&&!e.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(i=(a=void 0===i)?t.offset:0|i,r=(o=void 0===r)?this.offset:0|r,n=void 0===n?this.limit:0|n,i<0||i>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+i+" <= "+t.buffer.byteLength);if(r<0||n>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var s=n-r;return 0===s?t:(t.ensureCapacity(i+s),t.view.set(this.view.subarray(r,n),i),o&&(this.offset+=s),a&&(t.offset+=s),this)},i.ensureCapacity=function(t){var e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this},i.fill=function(t,e,i){var r=void 0===e;if(r&&(e=this.offset),"string"==typeof t&&t.length>0&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===i&&(i=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,e<0||e>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+i+" <= "+this.buffer.byteLength)}if(e>=i)return this;for(;e<i;)this.view[e++]=t;return r&&(this.offset=e),this},i.flip=function(){return this.limit=this.offset,this.offset=0,this},i.mark=function(t){if(t=void 0===t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},i.order=function(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},i.LE=function(t){return this.littleEndian=void 0===t||!!t,this},i.BE=function(t){return this.littleEndian=void 0!==t&&!t,this},i.prepend=function(t,i,r){"number"!=typeof i&&"string"==typeof i||(r=i,i=void 0);var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof e||(t=e.wrap(t,i));var o=t.limit-t.offset;if(o<=0)return this;var a=o-r;if(a>0){var s=new ArrayBuffer(this.buffer.byteLength+a),u=new Uint8Array(s);u.set(this.view.subarray(r,this.buffer.byteLength),o),this.buffer=s,this.view=u,this.offset+=a,this.markedOffset>=0&&(this.markedOffset+=a),this.limit+=a,r+=a}else new Uint8Array(this.buffer);return this.view.set(t.view.subarray(t.offset,t.limit),r-o),t.offset=t.limit,n&&(this.offset-=o),this},i.prependTo=function(t,e){return t.prepend(this,e),this},i.printDebug=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},i.remaining=function(){return this.limit-this.offset},i.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},i.resize=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t),i=new Uint8Array(e);i.set(this.view),this.buffer=e,this.view=i}return this},i.reverse=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e?this:(Array.prototype.reverse.call(this.view.subarray(t,e)),this)},i.skip=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},i.slice=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var i=this.clone();return i.offset=t,i.limit=e,i},i.toBuffer=function(t){var e=this.offset,i=this.limit;if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal limit: Not an integer");if(i>>>=0,e<0||e>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+i+" <= "+this.buffer.byteLength)}if(!t&&0===e&&i===this.buffer.byteLength)return this.buffer;if(e===i)return r;var n=new ArrayBuffer(i-e);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(e,i),0),n},i.toArrayBuffer=i.toBuffer,i.toString=function(t,e,i){if(void 0===t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof t&&(i=e=t="utf8"),t){case"utf8":return this.toUTF8(e,i);case"base64":return this.toBase64(e,i);case"hex":return this.toHex(e,i);case"binary":return this.toBinary(e,i);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var c=function(){for(var t={},e=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],i=[],r=0,n=e.length;r<n;++r)i[e[r]]=r;return t.encode=function(t,i){for(var r,n;null!==(r=t());)i(e[r>>2&63]),n=(3&r)<<4,null!==(r=t())?(i(e[63&((n|=r>>4&15)|r>>4&15)]),n=(15&r)<<2,null!==(r=t())?(i(e[63&(n|r>>6&3)]),i(e[63&r])):(i(e[63&n]),i(61))):(i(e[63&n]),i(61),i(61))},t.decode=function(t,e){var r,n,o;function a(t){throw Error("Illegal character code: "+t)}for(;null!==(r=t());)if(void 0===(n=i[r])&&a(r),null!==(r=t())&&(void 0===(o=i[r])&&a(r),e(n<<2>>>0|(48&o)>>4),null!==(r=t()))){if(void 0===(n=i[r])){if(61===r)break;a(r)}if(e((15&o)<<4>>>0|(60&n)>>2),null!==(r=t())){if(void 0===(o=i[r])){if(61===r)break;a(r)}e((3&n)<<6>>>0|o)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();i.toBase64=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity||t>e)throw RangeError("begin, end");var i;return c.encode(function(){return t<e?this.view[t++]:null}.bind(this),i=a()),i()},e.fromBase64=function(t,i){if("string"!=typeof t)throw TypeError("str");var r=new e(t.length/4*3,i),n=0;return c.decode(o(t),(function(t){r.view[n++]=t})),r.limit=n,r},e.btoa=function(t){return e.fromBinary(t).toBase64()},e.atob=function(t){return e.fromBase64(t).toBinary()},i.toBinary=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity()||t>e)throw RangeError("begin, end");if(t===e)return"";for(var i=[],r=[];t<e;)i.push(this.view[t++]),i.length>=1024&&(r.push(String.fromCharCode.apply(String,i)),i=[]);return r.join("")+String.fromCharCode.apply(String,i)},e.fromBinary=function(t,i){if("string"!=typeof t)throw TypeError("str");for(var r,n=0,o=t.length,a=new e(o,i);n<o;){if((r=t.charCodeAt(n))>255)throw RangeError("illegal char code: "+r);a.view[n++]=r}return a.limit=o,a},i.toDebug=function(t){for(var e,i=-1,r=this.buffer.byteLength,n="",o="",a="";i<r;){if(-1!==i&&(n+=(e=this.view[i])<16?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(o+=e>32&&e<127?String.fromCharCode(e):".")),++i,t&&i>0&&i%16==0&&i!==r){for(;n.length<51;)n+=" ";a+=n+o+"\n",n=o=""}i===this.offset&&i===this.limit?n+=i===this.markedOffset?"!":"|":i===this.offset?n+=i===this.markedOffset?"[":"<":i===this.limit?n+=i===this.markedOffset?"]":">":n+=i===this.markedOffset?"'":t||0!==i&&i!==r?" ":""}if(t&&" "!==n){for(;n.length<51;)n+=" ";a+=n+o+"\n"}return t?a:n},e.fromDebug=function(t,i,r){for(var n,o,a=t.length,s=new e((a+1)/3|0,i,r),u=0,c=0,l=!1,f=!1,d=!1,h=!1,p=!1;u<a;){switch(n=t.charAt(u++)){case"!":if(!r){if(f||d||h){p=!0;break}f=d=h=!0}s.offset=s.markedOffset=s.limit=c,l=!1;break;case"|":if(!r){if(f||h){p=!0;break}f=h=!0}s.offset=s.limit=c,l=!1;break;case"[":if(!r){if(f||d){p=!0;break}f=d=!0}s.offset=s.markedOffset=c,l=!1;break;case"<":if(!r){if(f){p=!0;break}f=!0}s.offset=c,l=!1;break;case"]":if(!r){if(h||d){p=!0;break}h=d=!0}s.limit=s.markedOffset=c,l=!1;break;case">":if(!r){if(h){p=!0;break}h=!0}s.limit=c,l=!1;break;case"'":if(!r){if(d){p=!0;break}d=!0}s.markedOffset=c,l=!1;break;case" ":l=!1;break;default:if(!r&&l){p=!0;break}if(o=parseInt(n+t.charAt(u++),16),!r&&(isNaN(o)||o<0||o>255))throw TypeError("Illegal str: Not a debug encoded string");s.view[c++]=o,l=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+u)}if(!r){if(!f||!h)throw TypeError("Illegal str: Missing offset or limit");if(c<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+a)}return s},i.toHex=function(t,e){if(t=void 0===t?this.offset:t,e=void 0===e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var i,r=new Array(e-t);t<e;)(i=this.view[t++])<16?r.push("0",i.toString(16)):r.push(i.toString(16));return r.join("")},e.fromHex=function(t,i,r){if(!r){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var n,o=t.length,a=new e(o/2|0,i),s=0,u=0;s<o;s+=2){if(n=parseInt(t.substring(s,s+2),16),!r&&(!isFinite(n)||n<0||n>255))throw TypeError("Illegal str: Contains non-hex characters");a.view[u++]=n}return a.limit=u,a};var l=function(){var t={MAX_CODEPOINT:1114111,encodeUTF8:function(t,e){var i=null;for("number"==typeof t&&(i=t,t=function(){return null});null!==i||null!==(i=t());)i<128?e(127&i):i<2048?(e(i>>6&31|192),e(63&i|128)):i<65536?(e(i>>12&15|224),e(i>>6&63|128),e(63&i|128)):(e(i>>18&7|240),e(i>>12&63|128),e(i>>6&63|128),e(63&i|128)),i=null},decodeUTF8:function(t,e){for(var i,r,n,o,a=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(i=t());)if(0==(128&i))e(i);else if(192==(224&i))null===(r=t())&&a([i,r]),e((31&i)<<6|63&r);else if(224==(240&i))(null===(r=t())||null===(n=t()))&&a([i,r,n]),e((15&i)<<12|(63&r)<<6|63&n);else{if(240!=(248&i))throw RangeError("Illegal starting byte: "+i);(null===(r=t())||null===(n=t())||null===(o=t()))&&a([i,r,n,o]),e((7&i)<<18|(63&r)<<12|(63&n)<<6|63&o)}},UTF16toUTF8:function(t,e){for(var i,r=null;null!==(i=null!==r?r:t());)i>=55296&&i<=57343&&null!==(r=t())&&r>=56320&&r<=57343?(e(1024*(i-55296)+r-56320+65536),r=null):e(i);null!==r&&e(r)},UTF8toUTF16:function(t,e){var i=null;for("number"==typeof t&&(i=t,t=function(){return null});null!==i||null!==(i=t());)i<=65535?e(i):(e(55296+((i-=65536)>>10)),e(i%1024+56320)),i=null},encodeUTF16toUTF8:function(e,i){t.UTF16toUTF8(e,(function(e){t.encodeUTF8(e,i)}))},decodeUTF8toUTF16:function(e,i){t.decodeUTF8(e,(function(e){t.UTF8toUTF16(e,i)}))},calculateCodePoint:function(t){return t<128?1:t<2048?2:t<65536?3:4},calculateUTF8:function(t){for(var e,i=0;null!==(e=t());)i+=e<128?1:e<2048?2:e<65536?3:4;return i},calculateUTF16asUTF8:function(e){var i=0,r=0;return t.UTF16toUTF8(e,(function(t){++i,r+=t<128?1:t<2048?2:t<65536?3:4})),[i,r]}};return t}();return i.toUTF8=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var i;try{l.decodeUTF8toUTF16(function(){return t<e?this.view[t++]:null}.bind(this),i=a())}catch(i){if(t!==e)throw RangeError("Illegal range: Truncated data, "+t+" != "+e)}return i()},e.fromUTF8=function(t,i,r){if(!r&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var n=new e(l.calculateUTF16asUTF8(o(t),!0)[1],i,r),a=0;return l.encodeUTF16toUTF8(o(t),(function(t){n.view[a++]=t})),n.limit=a,n},e})?r.apply(e,n):r)||(t.exports=o)},function(t,e,i){var r=i(4),n=i(1).document,o=r(n)&&r(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},function(t,e,i){e.f=i(5)},function(t,e,i){var r=i(53)("keys"),n=i(30);t.exports=function(t){return r[t]||(r[t]=n(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var r=i(1).document;t.exports=r&&r.documentElement},function(t,e,i){var r=i(4),n=i(3),o=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=i(18)(Function.call,i(21).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:r(t,i),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,i){var r=i(4),n=i(71).set;t.exports=function(t,e,i){var o,a=e.constructor;return a!==i&&"function"==typeof a&&(o=a.prototype)!==i.prototype&&r(o)&&n&&n(t,o),t}},function(t,e,i){"use strict";var r=i(20),n=i(25);t.exports=function(t){var e=String(n(this)),i="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(i+=e);return i}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){var r=i(20),n=i(25);t.exports=function(t){return function(e,i){var o,a,s=String(n(e)),u=r(i),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,i){"use strict";var r=i(31),n=i(0),o=i(11),a=i(15),s=i(41),u=i(109),c=i(39),l=i(36),f=i(5)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,i,p,_,v,m){u(i,e,p);var g,y,E,w=function(t){if(!d&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},A=e+" Iterator",b="values"==_,S=!1,T=t.prototype,x=T[f]||T["@@iterator"]||_&&T[_],L=x||w(_),C=_?b?w("entries"):L:void 0,I="Array"==e&&T.entries||x;if(I&&(E=l(I.call(new t)))!==Object.prototype&&E.next&&(c(E,A,!0),r||"function"==typeof E[f]||a(E,f,h)),b&&x&&"values"!==x.name&&(S=!0,L=function(){return x.call(this)}),r&&!m||!d&&!S&&T[f]||a(T,f,L),s[e]=L,s[A]=h,_)if(g={values:b?L:w("values"),keys:v?L:w("keys"),entries:C},m)for(y in g)y in T||o(T,y,g[y]);else n(n.P+n.F*(d||S),e,g);return g}},function(t,e,i){var r=i(80),n=i(25);t.exports=function(t,e,i){if(r(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(n(t))}},function(t,e,i){var r=i(4),n=i(24),o=i(5)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},function(t,e,i){var r=i(5)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,i){var r=i(41),n=i(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[n]===t)}},function(t,e,i){"use strict";var r=i(9),n=i(29);t.exports=function(t,e,i){e in t?r.f(t,e,n(0,i)):t[e]=i}},function(t,e,i){var r=i(49),n=i(5)("iterator"),o=i(41);t.exports=i(7).getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||o[r(t)]}},function(t,e,i){"use strict";var r=i(10),n=i(33),o=i(6);t.exports=function(t){for(var e=r(this),i=o(e.length),a=arguments.length,s=n(a>1?arguments[1]:void 0,i),u=a>2?arguments[2]:void 0,c=void 0===u?i:n(u,i);c>s;)e[s++]=t;return e}},function(t,e,i){"use strict";var r=i(37),n=i(114),o=i(41),a=i(16);t.exports=i(78)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,i){"use strict";var r,n,o=i(58),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,c=(r=/a/,n=/b*/g,a.call(r,"a"),a.call(n,"a"),0!==r.lastIndex||0!==n.lastIndex),l=void 0!==/()??/.exec("")[1];(c||l)&&(u=function(t){var e,i,r,n,u=this;return l&&(i=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),c&&(e=u.lastIndex),r=a.call(u,t),c&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),l&&r&&r.length>1&&s.call(r[0],i,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(r[n]=void 0)})),r}),t.exports=u},function(t,e,i){"use strict";var r=i(77)(!0);t.exports=function(t,e,i){return e+(i?r(t,e).length:1)}},function(t,e,i){var r,n,o,a=i(18),s=i(103),u=i(70),c=i(66),l=i(1),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,_=l.Dispatch,v=0,m={},g=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){g.call(t.data)};d&&h||(d=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return m[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},h=function(t){delete m[t]},"process"==i(24)(f)?r=function(t){f.nextTick(a(g,t,1))}:_&&_.now?r=function(t){_.now(a(g,t,1))}:p?(o=(n=new p).port2,n.port1.onmessage=y,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",y,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(a(g,t,1),0)}),t.exports={set:d,clear:h}},function(t,e,i){"use strict";var r=i(1),n=i(8),o=i(31),a=i(64),s=i(15),u=i(44),c=i(2),l=i(43),f=i(20),d=i(6),h=i(122),p=i(35).f,_=i(9).f,v=i(85),m=i(39),g="prototype",y="Wrong index!",E=r.ArrayBuffer,w=r.DataView,A=r.Math,b=r.RangeError,S=r.Infinity,T=E,x=A.abs,L=A.pow,C=A.floor,I=A.log,D=A.LN2,O=n?"_b":"buffer",R=n?"_l":"byteLength",k=n?"_o":"byteOffset";function N(t,e,i){var r,n,o,a=new Array(i),s=8*i-e-1,u=(1<<s)-1,c=u>>1,l=23===e?L(2,-24)-L(2,-77):0,f=0,d=t<0||0===t&&1/t<0?1:0;for((t=x(t))!=t||t===S?(n=t!=t?1:0,r=u):(r=C(I(t)/D),t*(o=L(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?l/o:l*L(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(n=0,r=u):r+c>=1?(n=(t*o-1)*L(2,e),r+=c):(n=t*L(2,c-1)*L(2,e),r=0));e>=8;a[f++]=255&n,n/=256,e-=8);for(r=r<<e|n,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function M(t,e,i){var r,n=8*i-e-1,o=(1<<n)-1,a=o>>1,s=n-7,u=i-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-S:S;r+=L(2,e),l-=a}return(c?-1:1)*r*L(2,l-e)}function P(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function U(t){return[255&t]}function B(t){return[255&t,t>>8&255]}function F(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function K(t){return N(t,52,8)}function j(t){return N(t,23,4)}function V(t,e,i){_(t[g],e,{get:function(){return this[i]}})}function H(t,e,i,r){var n=h(+i);if(n+e>t[R])throw b(y);var o=t[O]._b,a=n+t[k],s=o.slice(a,a+e);return r?s:s.reverse()}function q(t,e,i,r,n,o){var a=h(+i);if(a+e>t[R])throw b(y);for(var s=t[O]._b,u=a+t[k],c=r(+n),l=0;l<e;l++)s[u+l]=c[o?l:e-l-1]}if(a.ABV){if(!c((function(){E(1)}))||!c((function(){new E(-1)}))||c((function(){return new E,new E(1.5),new E(NaN),"ArrayBuffer"!=E.name}))){for(var G,z=(E=function(t){return l(this,E),new T(h(t))})[g]=T[g],W=p(T),X=0;W.length>X;)(G=W[X++])in E||s(E,G,T[G]);o||(z.constructor=E)}var Y=new w(new E(2)),Q=w[g].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||u(w[g],{setInt8:function(t,e){Q.call(this,t,e<<24>>24)},setUint8:function(t,e){Q.call(this,t,e<<24>>24)}},!0)}else E=function(t){l(this,E,"ArrayBuffer");var e=h(t);this._b=v.call(new Array(e),0),this[R]=e},w=function(t,e,i){l(this,w,"DataView"),l(t,E,"DataView");var r=t[R],n=f(e);if(n<0||n>r)throw b("Wrong offset!");if(n+(i=void 0===i?r-n:d(i))>r)throw b("Wrong length!");this[O]=t,this[k]=n,this[R]=i},n&&(V(E,"byteLength","_l"),V(w,"buffer","_b"),V(w,"byteLength","_l"),V(w,"byteOffset","_o")),u(w[g],{getInt8:function(t){return H(this,1,t)[0]<<24>>24},getUint8:function(t){return H(this,1,t)[0]},getInt16:function(t){var e=H(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=H(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return P(H(this,4,t,arguments[1]))},getUint32:function(t){return P(H(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return M(H(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return M(H(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){q(this,1,t,U,e)},setUint8:function(t,e){q(this,1,t,U,e)},setInt16:function(t,e){q(this,2,t,B,e,arguments[2])},setUint16:function(t,e){q(this,2,t,B,e,arguments[2])},setInt32:function(t,e){q(this,4,t,F,e,arguments[2])},setUint32:function(t,e){q(this,4,t,F,e,arguments[2])},setFloat32:function(t,e){q(this,4,t,j,e,arguments[2])},setFloat64:function(t,e){q(this,8,t,K,e,arguments[2])}});m(E,"ArrayBuffer"),m(w,"DataView"),s(w[g],a.VIEW,!0),e.ArrayBuffer=E,e.DataView=w},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){t.exports=!i(127)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,i){"use strict";t.exports=function(t,e){return"string"!=typeof(t=t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e,i){t.exports=!i(8)&&!i(2)((function(){return 7!=Object.defineProperty(i(66)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var r=i(1),n=i(7),o=i(31),a=i(67),s=i(9).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,i){var r=i(14),n=i(16),o=i(54)(!1),a=i(68)("IE_PROTO");t.exports=function(t,e){var i,s=n(t),u=0,c=[];for(i in s)i!=a&&r(s,i)&&c.push(i);for(;e.length>u;)r(s,i=e[u++])&&(~o(c,i)||c.push(i));return c}},function(t,e,i){var r=i(9),n=i(3),o=i(32);t.exports=i(8)?Object.defineProperties:function(t,e){n(t);for(var i,a=o(e),s=a.length,u=0;s>u;)r.f(t,i=a[u++],e[i]);return t}},function(t,e,i){var r=i(16),n=i(35).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return n(t)}catch(t){return a.slice()}}(t):n(r(t))}},function(t,e,i){"use strict";var r=i(8),n=i(32),o=i(55),a=i(48),s=i(10),u=i(47),c=Object.assign;t.exports=!c||i(2)((function(){var t={},e={},i=Symbol(),r="abcdefghijklmnopqrst";return t[i]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[i]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var i=s(t),c=arguments.length,l=1,f=o.f,d=a.f;c>l;)for(var h,p=u(arguments[l++]),_=f?n(p).concat(f(p)):n(p),v=_.length,m=0;v>m;)h=_[m++],r&&!d.call(p,h)||(i[h]=p[h]);return i}:c},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){"use strict";var r=i(19),n=i(4),o=i(103),a=[].slice,s={},u=function(t,e,i){if(!(e in s)){for(var r=[],n=0;n<e;n++)r[n]="a["+n+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,i)};t.exports=Function.bind||function(t){var e=r(this),i=a.call(arguments,1),s=function(){var r=i.concat(a.call(arguments));return this instanceof s?u(e,r.length,r):o(e,r,t)};return n(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,i){var r=void 0===i;switch(e.length){case 0:return r?t():t.call(i);case 1:return r?t(e[0]):t.call(i,e[0]);case 2:return r?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var r=i(1).parseInt,n=i(40).trim,o=i(72),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var i=n(String(t),3);return r(i,e>>>0||(a.test(i)?16:10))}:r},function(t,e,i){var r=i(1).parseFloat,n=i(40).trim;t.exports=1/r(i(72)+"-0")!=-1/0?function(t){var e=n(String(t),3),i=r(e);return 0===i&&"-"==e.charAt(0)?-0:i}:r},function(t,e,i){var r=i(24);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,i){var r=i(4),n=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&n(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){"use strict";var r=i(34),n=i(29),o=i(39),a={};i(15)(a,i(5)("iterator"),(function(){return this})),t.exports=function(t,e,i){t.prototype=r(a,{next:n(1,i)}),o(t,e+" Iterator")}},function(t,e,i){var r=i(3);t.exports=function(t,e,i,n){try{return n?e(r(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,i){var r=i(246);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,i){var r=i(19),n=i(10),o=i(47),a=i(6);t.exports=function(t,e,i,s,u){r(e);var c=n(t),l=o(c),f=a(c.length),d=u?f-1:0,h=u?-1:1;if(i<2)for(;;){if(d in l){s=l[d],d+=h;break}if(d+=h,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=h)d in l&&(s=e(s,l[d],d,c));return s}},function(t,e,i){"use strict";var r=i(10),n=i(33),o=i(6);t.exports=[].copyWithin||function(t,e){var i=r(this),a=o(i.length),s=n(t,a),u=n(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:n(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in i?i[s]=i[u]:delete i[s],s+=f,u+=f;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var r=i(87);i(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,i){i(8)&&"g"!=/./g.flags&&i(9).f(RegExp.prototype,"flags",{configurable:!0,get:i(58)})},function(t,e,i){"use strict";var r,n,o,a,s=i(31),u=i(1),c=i(18),l=i(49),f=i(0),d=i(4),h=i(19),p=i(43),_=i(61),v=i(50),m=i(89).set,g=i(266)(),y=i(118),E=i(267),w=i(62),A=i(119),b=u.TypeError,S=u.process,T=S&&S.versions,x=T&&T.v8||"",L=u.Promise,C="process"==l(S),I=function(){},D=n=y.f,O=!!function(){try{var t=L.resolve(1),e=(t.constructor={})[i(5)("species")]=function(t){t(I,I)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof e&&0!==x.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),R=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},k=function(t,e){if(!t._n){t._n=!0;var i=t._c;g((function(){for(var r=t._v,n=1==t._s,o=0,a=function(e){var i,o,a,s=n?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(n||(2==t._h&&P(t),t._h=1),!0===s?i=r:(l&&l.enter(),i=s(r),l&&(l.exit(),a=!0)),i===e.promise?c(b("Promise-chain cycle")):(o=R(i))?o.call(i,u,c):u(i)):c(r)}catch(t){l&&!a&&l.exit(),c(t)}};i.length>o;)a(i[o++]);t._c=[],t._n=!1,e&&!t._h&&N(t)}))}},N=function(t){m.call(u,(function(){var e,i,r,n=t._v,o=M(t);if(o&&(e=E((function(){C?S.emit("unhandledRejection",n,t):(i=u.onunhandledrejection)?i({promise:t,reason:n}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",n)})),t._h=C||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){m.call(u,(function(){var e;C?S.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},U=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),k(e,!0))},B=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw b("Promise can't be resolved itself");(e=R(t))?g((function(){var r={_w:i,_d:!1};try{e.call(t,c(B,r,1),c(U,r,1))}catch(t){U.call(r,t)}})):(i._v=t,i._s=1,k(i,!1))}catch(t){U.call({_w:i,_d:!1},t)}}};O||(L=function(t){p(this,L,"Promise","_h"),h(t),r.call(this);try{t(c(B,this,1),c(U,this,1))}catch(t){U.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(44)(L.prototype,{then:function(t,e){var i=D(v(this,L));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=C?S.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&k(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(B,t,1),this.reject=c(U,t,1)},y.f=D=function(t){return t===L||t===a?new o(t):n(t)}),f(f.G+f.W+f.F*!O,{Promise:L}),i(39)(L,"Promise"),i(42)("Promise"),a=i(7).Promise,f(f.S+f.F*!O,"Promise",{reject:function(t){var e=D(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!O),"Promise",{resolve:function(t){return A(s&&this===a?L:this,t)}}),f(f.S+f.F*!(O&&i(57)((function(t){L.all(t).catch(I)}))),"Promise",{all:function(t){var e=this,i=D(e),r=i.resolve,n=i.reject,o=E((function(){var i=[],o=0,a=1;_(t,!1,(function(t){var s=o++,u=!1;i.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,i[s]=t,--a||r(i))}),n)})),--a||r(i)}));return o.e&&n(o.v),i.promise},race:function(t){var e=this,i=D(e),r=i.reject,n=E((function(){_(t,!1,(function(t){e.resolve(t).then(i.resolve,r)}))}));return n.e&&r(n.v),i.promise}})},function(t,e,i){"use strict";var r=i(19);function n(t){var e,i;this.promise=new t((function(t,r){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=r})),this.resolve=r(e),this.reject=r(i)}t.exports.f=function(t){return new n(t)}},function(t,e,i){var r=i(3),n=i(4),o=i(118);t.exports=function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){"use strict";var r=i(9).f,n=i(34),o=i(44),a=i(18),s=i(43),u=i(61),c=i(78),l=i(114),f=i(42),d=i(8),h=i(28).fastKey,p=i(38),_=d?"_s":"size",v=function(t,e){var i,r=h(e);if("F"!==r)return t._i[r];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var l=t((function(t,r){s(t,l,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[_]=0,null!=r&&u(r,i,t[c],t)}));return o(l.prototype,{clear:function(){for(var t=p(this,e),i=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete i[r.i];t._f=t._l=void 0,t[_]=0},delete:function(t){var i=p(this,e),r=v(i,t);if(r){var n=r.n,o=r.p;delete i._i[r.i],r.r=!0,o&&(o.n=n),n&&(n.p=o),i._f==r&&(i._f=n),i._l==r&&(i._l=o),i[_]--}return!!r},forEach:function(t){p(this,e);for(var i,r=a(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(r(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!v(p(this,e),t)}}),d&&r(l.prototype,"size",{get:function(){return p(this,e)[_]}}),l},def:function(t,e,i){var r,n,o=v(t,e);return o?o.v=i:(t._l=o={i:n=h(e,!0),k:e,v:i,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[_]++,"F"!==n&&(t._i[n]=o)),t},getEntry:v,setStrong:function(t,e,i){c(t,e,(function(t,i){this._t=p(t,e),this._k=i,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))}),i?"entries":"values",!i,!0),f(e)}}},function(t,e,i){"use strict";var r=i(44),n=i(28).getWeak,o=i(3),a=i(4),s=i(43),u=i(61),c=i(23),l=i(14),f=i(38),d=c(5),h=c(6),p=0,_=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},m=function(t,e){return d(t.a,(function(t){return t[0]===e}))};v.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var i=m(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,o){var c=t((function(t,r){s(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=r&&u(r,i,t[o],t)}));return r(c.prototype,{delete:function(t){if(!a(t))return!1;var i=n(t);return!0===i?_(f(this,e)).delete(t):i&&l(i,this._i)&&delete i[this._i]},has:function(t){if(!a(t))return!1;var i=n(t);return!0===i?_(f(this,e)).has(t):i&&l(i,this._i)}}),c},def:function(t,e,i){var r=n(o(e),!0);return!0===r?_(t).set(e,i):r[t._i]=i,t},ufstore:_}},function(t,e,i){var r=i(20),n=i(6);t.exports=function(t){if(void 0===t)return 0;var e=r(t),i=n(e);if(e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){var r=i(35),n=i(55),o=i(3),a=i(1).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),i=n.f;return i?e.concat(i(t)):e}},function(t,e,i){var r=i(6),n=i(74),o=i(25);t.exports=function(t,e,i,a){var s=String(o(t)),u=s.length,c=void 0===i?" ":String(i),l=r(e);if(l<=u||""==c)return s;var f=l-u,d=n.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},function(t,e,i){var r=i(8),n=i(32),o=i(16),a=i(48).f;t.exports=function(t){return function(e){for(var i,s=o(e),u=n(s),c=u.length,l=0,f=[];c>l;)i=u[l++],r&&!a.call(s,i)||f.push(t?[i,s[i]]:s[i]);return f}}},function(t,e){var i=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=i)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){"use strict";var r,n,o,a,s,u,c,l;!function(t){t.auto="auto",t.metadata="metadata",t.none="none"}(r||(r={})),function(t){t.hls="hls",t.flv="flv"}(n||(n={})),function(t){t.h5="h5"}(o||(o={})),function(t){t.landscape="landscape",t.portraint="portraint",t.auto="landscape|portrait"}(a||(a={})),function(t){t.allow="true",t.deny="false"}(s||(s={})),function(t){t.created="created",t.kernelLoaded="kernelLoaded",t.kernelReset="kernelReset",t.mounted="mounted",t.destroyed="destroyed"}(u||(u={})),function(t){t.abort="abort",t.canplay="canplay",t.ended="ended",t.error="error",t.loadeddata="loadeddata",t.loadedmetadata="loadedmetadata",t.loadstart="loadstart",t.pause="pause",t.play="play",t.playing="playing",t.ratechange="ratechange",t.seeked="seeked",t.seeking="seeking",t.stalled="stalled",t.suspend="suspend",t.timeupdate="timeupdate",t.volumechange="volumechange",t.waiting="waiting"}(c||(c={})),function(t){t.idle="idle",t.paused="paused",t.playing="playing",t.pending="pending",t.stopped="stopped"}(l||(l={}))},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];return t.apply(e,i)}}},function(t,e,i){"use strict";var r=i(13);function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var o;if(i)o=i(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(n(e)+"="+n(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,i){"use strict";(function(e){var r=i(13),n=i(346),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=i(137):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(s=i(137)),s),transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(o)})),t.exports=u}).call(this,i(345))},function(t,e,i){"use strict";var r=i(13),n=i(347),o=i(134),a=i(349),s=i(352),u=i(353),c=i(138);t.exports=function(t){return new Promise((function(e,l){var f=t.data,d=t.headers;r.isFormData(f)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",_=t.auth.password||"";d.Authorization="Basic "+btoa(p+":"+_)}var v=a(t.baseURL,t.url);if(h.open(t.method.toUpperCase(),o(v,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:i,config:t,request:h};n(e,l,r),h=null}},h.onabort=function(){h&&(l(c("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){l(c("Network Error",t,null,h)),h=null},h.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),l(c(e,t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var m=i(354),g=(t.withCredentials||u(v))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;g&&(d[t.xsrfHeaderName]=g)}if("setRequestHeader"in h&&r.forEach(d,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete d[e]:h.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),l(t),h=null)})),void 0===f&&(f=null),h.send(f)}))}},function(t,e,i){"use strict";var r=i(348);t.exports=function(t,e,i,n,o){var a=new Error(t);return r(a,e,i,n,o)}},function(t,e,i){"use strict";var r=i(13);t.exports=function(t,e){e=e||{};var i={},n=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(n,(function(t){void 0!==e[t]&&(i[t]=e[t])})),r.forEach(o,(function(n){r.isObject(e[n])?i[n]=r.deepMerge(t[n],e[n]):void 0!==e[n]?i[n]=e[n]:r.isObject(t[n])?i[n]=r.deepMerge(t[n]):void 0!==t[n]&&(i[n]=t[n])})),r.forEach(a,(function(r){void 0!==e[r]?i[r]=e[r]:void 0!==t[r]&&(i[r]=t[r])}));var s=n.concat(o).concat(a),u=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return r.forEach(u,(function(r){void 0!==e[r]?i[r]=e[r]:void 0!==t[r]&&(i[r]=t[r])})),i}},function(t,e,i){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,i){t.exports=i(149)},function(t,e,i){t.exports=i(340)},function(t,e,i){var r;!function(n){"use strict";function o(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function a(t,e,i,r,n,a){return o((s=o(o(e,t),o(r,a)))<<(u=n)|s>>>32-u,i);var s,u}function s(t,e,i,r,n,o,s){return a(e&i|~e&r,t,e,n,o,s)}function u(t,e,i,r,n,o,s){return a(e&r|i&~r,t,e,n,o,s)}function c(t,e,i,r,n,o,s){return a(e^i^r,t,e,n,o,s)}function l(t,e,i,r,n,o,s){return a(i^(e|~r),t,e,n,o,s)}function f(t,e){var i,r,n,a,f;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var d=1732584193,h=-271733879,p=-1732584194,_=271733878;for(i=0;i<t.length;i+=16)r=d,n=h,a=p,f=_,d=s(d,h,p,_,t[i],7,-680876936),_=s(_,d,h,p,t[i+1],12,-389564586),p=s(p,_,d,h,t[i+2],17,606105819),h=s(h,p,_,d,t[i+3],22,-1044525330),d=s(d,h,p,_,t[i+4],7,-176418897),_=s(_,d,h,p,t[i+5],12,1200080426),p=s(p,_,d,h,t[i+6],17,-1473231341),h=s(h,p,_,d,t[i+7],22,-45705983),d=s(d,h,p,_,t[i+8],7,1770035416),_=s(_,d,h,p,t[i+9],12,-1958414417),p=s(p,_,d,h,t[i+10],17,-42063),h=s(h,p,_,d,t[i+11],22,-1990404162),d=s(d,h,p,_,t[i+12],7,1804603682),_=s(_,d,h,p,t[i+13],12,-40341101),p=s(p,_,d,h,t[i+14],17,-1502002290),d=u(d,h=s(h,p,_,d,t[i+15],22,1236535329),p,_,t[i+1],5,-165796510),_=u(_,d,h,p,t[i+6],9,-1069501632),p=u(p,_,d,h,t[i+11],14,643717713),h=u(h,p,_,d,t[i],20,-373897302),d=u(d,h,p,_,t[i+5],5,-701558691),_=u(_,d,h,p,t[i+10],9,38016083),p=u(p,_,d,h,t[i+15],14,-660478335),h=u(h,p,_,d,t[i+4],20,-405537848),d=u(d,h,p,_,t[i+9],5,568446438),_=u(_,d,h,p,t[i+14],9,-1019803690),p=u(p,_,d,h,t[i+3],14,-187363961),h=u(h,p,_,d,t[i+8],20,1163531501),d=u(d,h,p,_,t[i+13],5,-1444681467),_=u(_,d,h,p,t[i+2],9,-51403784),p=u(p,_,d,h,t[i+7],14,1735328473),d=c(d,h=u(h,p,_,d,t[i+12],20,-1926607734),p,_,t[i+5],4,-378558),_=c(_,d,h,p,t[i+8],11,-2022574463),p=c(p,_,d,h,t[i+11],16,1839030562),h=c(h,p,_,d,t[i+14],23,-35309556),d=c(d,h,p,_,t[i+1],4,-1530992060),_=c(_,d,h,p,t[i+4],11,1272893353),p=c(p,_,d,h,t[i+7],16,-155497632),h=c(h,p,_,d,t[i+10],23,-1094730640),d=c(d,h,p,_,t[i+13],4,681279174),_=c(_,d,h,p,t[i],11,-358537222),p=c(p,_,d,h,t[i+3],16,-722521979),h=c(h,p,_,d,t[i+6],23,76029189),d=c(d,h,p,_,t[i+9],4,-640364487),_=c(_,d,h,p,t[i+12],11,-421815835),p=c(p,_,d,h,t[i+15],16,530742520),d=l(d,h=c(h,p,_,d,t[i+2],23,-995338651),p,_,t[i],6,-198630844),_=l(_,d,h,p,t[i+7],10,1126891415),p=l(p,_,d,h,t[i+14],15,-1416354905),h=l(h,p,_,d,t[i+5],21,-57434055),d=l(d,h,p,_,t[i+12],6,1700485571),_=l(_,d,h,p,t[i+3],10,-1894986606),p=l(p,_,d,h,t[i+10],15,-1051523),h=l(h,p,_,d,t[i+1],21,-2054922799),d=l(d,h,p,_,t[i+8],6,1873313359),_=l(_,d,h,p,t[i+15],10,-30611744),p=l(p,_,d,h,t[i+6],15,-1560198380),h=l(h,p,_,d,t[i+13],21,1309151649),d=l(d,h,p,_,t[i+4],6,-145523070),_=l(_,d,h,p,t[i+11],10,-1120210379),p=l(p,_,d,h,t[i+2],15,718787259),h=l(h,p,_,d,t[i+9],21,-343485551),d=o(d,r),h=o(h,n),p=o(p,a),_=o(_,f);return[d,h,p,_]}function d(t){var e,i="",r=32*t.length;for(e=0;e<r;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function h(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function p(t){var e,i,r="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}function _(t){return unescape(encodeURIComponent(t))}function v(t){return function(t){return d(f(h(t),8*t.length))}(_(t))}function m(t,e){return function(t,e){var i,r,n=h(t),o=[],a=[];for(o[15]=a[15]=void 0,n.length>16&&(n=f(n,8*t.length)),i=0;i<16;i+=1)o[i]=909522486^n[i],a[i]=1549556828^n[i];return r=f(o.concat(h(e)),512+8*e.length),d(f(a.concat(r),640))}(_(t),_(e))}function g(t,e,i){return e?i?m(e,t):p(m(e,t)):i?v(t):p(v(t))}void 0===(r=function(){return g}.call(e,i,e,t))||(t.exports=r)}()},function(t,e){t.exports='<div class="player-buffer"></div>'},function(t,e){t.exports="\n\n"},function(t,e){t.exports='<div class="part-need-vip" data-bind-key="vipPopState" data-bind-attr="false">\n    <img/>\n    <div>该视频需要成为正式会员后观看</div>\n    <div class="btn-goto-vip">成为正式会员</div>\n    <div>如已登录正式会员账号，请刷新网页</div>\n</div>\n<div class="part-tobe-vip" data-bind-key="vipPopState" data-bind-attr="false">\n    <div class="bg">\n        <div class="btn-tobe-vip"></div>\n        <div class="btn-close"></div>\n    </div>\n</div>'},function(t,e,i){t.exports=i(371)},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var r;window,r=function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return c}));var r=i(1),n=i(2);function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=function(){function t(e,i){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"contentId",null),u(this,"videoId",null),u(this,"playConfig",{}),u(this,"tags",{}),u(this,"initPlayFlag",!1),u(this,"metaData",{asset_name:null,player_name:"kernel",player_version:null,stream_type:null,default_resource:null,duration:"",stream_url:null,cdn_ip:null}),u(this,"playSetting",{initial_speed:1,protocol:"https",session_id:null,blockSt:0,blockT:0,seekSt:0,network:"wifi",device:null,url:null,quality_type:null,st:(new Date).getTime()}),u(this,"metric",{network:null,bitrate:0,efr:0,player_version:null,ps:null,pht:0,buffer_length:0,resolution:null,rf:0,speed:1,ffrc:0,df:0}),u(this,"littleBird",void 0),u(this,"kernel",void 0);var o=i.playConfig,s=i.loggerConfig,c=s.productName,l=s.env,f=s.consumerId,d=s.viewerId,h=s.contentId,p=s.videoId,_=s.assetName,v=s.playerName,m=s.tags,g=s.debugConfig;this.litterBirdConfig={productName:c,env:l,consumerId:f,viewerId:d,debugConfig:g},this.metaData.asset_name=_,this.metaData.player_name=v||this.metaData.player_name,this.tags=m,this.littleBird=new n.default(a({},this.litterBirdConfig)),this.contentId=h,this.videoId=p,this.playConfig=o,this.kernel=e,this.kernel.on("report",(function(t){r.formatData(t)}))}var e,i,o;return e=t,(i=[{key:"formatData",value:function(t){var e=t.type,i=t.value;"download"===e&&this.init(i),"event"===e&&("METADATA_LOAD"===i.type&&this.init(i),"LOAD"===i.type&&this.load(i),"PLAY"===i.type&&this.play(i),"BLOCK_START"===i.type&&this.blockStart(i),"BLOCK_END"===i.type&&this.block(i),"SEEK_START"===i.type&&this.seekStart(i),"SEEK_END"===i.type&&this.seek(i),"PAUSE"===i.type&&this.changePlayEvent(i),"END"!==i.type&&"LIVE_STOP"!==i.type||this.changePlayStop(i),"ERROR"===i.type&&this.error(t),"STOP"!==i.type&&"DESTORY"!==i.type||this.end(),"SPEED_CHANGE"===i.type&&this.changeSpeedReport(i),"AUDIO_OUTPUT_DEVICE_CHANGE"===i.type&&this.changeDevices(i),"NETWORK_CHANGE"===i.type&&this.changeNetwork(i),"QUALITY_CHANGE"===i.type&&(this.changeQuality(t),this.flatKey(i))),"heartbeat"===e&&(this.heartbeat(i),this.flatKey(i)),"realtimeBeacon"===e&&(this.realtimeBeacon(i),this.flatKey(i))}},{key:"updateConfig",value:function(t){t&&t.contentId&&(this.contentId=t.contentId),t&&t.videoId&&(this.videoId=t.videoId),this.end();var e=a(a({},this.litterBirdConfig),{},{contentId:this.contentId,videoId:this.videoId});this.littleBird.updateConfig(e)}},{key:"init",value:function(t){this.metaData.player_version=t&&t.kernel_version||t.version||this.metaData.player_version,this.metaData.stream_type=this.playConfig.box,this.metaData.default_resource=t&&t.download_url||t.url||this.metaData.default_resource,this.metaData.duration=t&&t.playDuration||this.metaData.duration,this.metaData.stream_url=t&&t.download_url||t.url||this.metaData.stream_url,this.metaData.cdn_ip=t&&t.domain||t&&t.custom_http_header,this.playSetting.url=t&&t.download_url||t.url||this.metaData.stream_url;var e={videoId:this.videoId,contentId:this.contentId,metaData:this.metaData,tags:this.tags};this.littleBird.init(e)}},{key:"flatKey",value:function(t){var e=(new Date).getTime()-this.playSetting.st;setTimeout(this.littleBird.addCustomerTags(t,e),1e3)}},{key:"heartbeat",value:function(t){if(t){t&&t.decodedFPS&&(this.metric.efr=null,this.metric.rf=t.decodedFPS),t&&t.position&&(this.metric.pht=t.position),t&&t.decodedFrames&&(this.metric.df=t.decodedFrames);var e=(new Date).getTime(),i=a(a({},this.metric),{},{evs:{startTime:e-this.playSetting.st,action:"heartbeat"}});setTimeout(this.littleBird.assignMetric(i),1e3)}}},{key:"realtimeBeacon",value:function(t){if(t){var e=t.avg_bitrate,i=t.buffer_time,r=t.quality_type;this.metric.bitrate=e,this.metric.buffer_length=i,this.metric.resolution=r,t.position&&(this.metric.pht=t.position),t&&t.first_screen_total_duration&&(this.metric.ffrc=t.first_screen_total_duration);var n=(new Date).getTime(),o=a(a({},this.metric),{},{evs:{startTime:n-this.playSetting.st,action:"realtimeBeacon"}});this.littleBird.assignMetric(o)}}},{key:"load",value:function(t){var e=t.initial_speed,i=t.position,r=t.protocol,n=t.session_id;this.playSetting.initial_speed=e,this.playSetting.protocol=r,this.playSetting.session_id=n,this.metric.pht=i,this.metric.speed=e,this.playSetting.url=this.playConfig.url}},{key:"play",value:function(t){var e=t.position;this.metric.ps="playing",this.metric.pht=e;var i={startTime:0,action:"playing"},n=(new Date).getTime();if(this.initPlayFlag)i.startTime=n-this.playSetting.st;else{var o={startTime:0,action:r.ACTION.DATA_CHANGE,play_url:this.playSetting.url};this.littleBird.changeDataChange(o),this.playConfig.st=(new Date).getTime(),i.startTime=0,this.initPlayFlag=!0}var s={contentId:this.contentId,videoId:this.videoId,sessionId:this.playSetting.session_id,metaData:a({},this.metaData),evs:i,metric:a({},this.metric),initPlayFlag:0===i.startTime};this.littleBird.play(s)}},{key:"blockStart",value:function(t){var e=(new Date).getTime();this.metric.ps="block",this.playSetting.blockSt=t&&t.position,this.playSetting.blockT=e}},{key:"block",value:function(t){var e=(new Date).getTime(),i={startTime:e-this.playSetting.st,st:this.playSetting.blockSt,dur:e-this.playSetting.blockT};this.playSetting.blockT=0,this.littleBird.block(i)}},{key:"seekStart",value:function(t){this.playSetting.seekSt=t&&t.position}},{key:"seek",value:function(t){var e={startTime:(new Date).getTime()-this.playSetting.st,st:this.playSetting.seekSt,et:t.position};this.playSetting.seekSt=0,this.littleBird.seek(e)}},{key:"changePlayEvent",value:function(t){var e=t.type,i={startTime:(new Date).getTime()-this.playSetting.st,action:String(e).toLocaleLowerCase()};this.littleBird.playStateChange(i)}},{key:"changePlayStop",value:function(t){var e={startTime:(new Date).getTime()-this.playSetting.st,action:"live_stop"};"hls"===this.playConfig.box&&(e.action="stop"),"flv"===this.playConfig.box&&(e.action="live_stop"),this.littleBird.playStateChange(e)}},{key:"changeSpeedReport",value:function(t){var e={startTime:(new Date).getTime()-this.playSetting.st,speed:t.speed,initial_speed:this.playSetting.initial_speed,action:"SPEED_CHANGE"};this.playSetting.initial_speed=t.speed,this.littleBird.changeSpeed(e)}},{key:"changeSpeed",value:function(t){var e={startTime:(new Date).getTime()-this.playSetting.st,speed:t,initial_speed:this.playSetting.initial_speed,action:"SPEED_CHANGE"};this.playSetting.initial_speed=t,this.littleBird.changeSpeed(e)}},{key:"changeDevices",value:function(t){var e=(new Date).getTime();if(t&&t.devices.length>0&&t.devices[1]!==t.devices[0]){var i={startTime:e-this.playSetting.st,devices:t&&t.devices[1],action:"device",oldDevices:this.playSetting.device||t&&t.devices[0]};this.playSetting.device=t&&t.devices[1],this.littleBird.changeDevices(i)}}},{key:"changeNetwork",value:function(t){var e={startTime:(new Date).getTime()-this.playSetting.st,network:t.type,action:"network",initnetwork:this.playSetting.network};this.playSetting.network=t.type,this.littleBird.changeNetwork(e)}},{key:"changeQuality",value:function(t){var e=t.type,i=t.value,r={startTime:(new Date).getTime()-this.playSetting.st,re:i&&i.quality_type,initRe:null,action:i&&i.type||e,play_url:i&&i.play_url};this.playSetting.quality_type&&i&&i.quality_type&&i.quality_type!==this.playSetting.quality_type&&(r.initRe=this.playSetting.quality_type),this.playSetting.quality_type=i&&i.quality_type,this.playSetting.url&&i&&i.play_url&&i.play_url!==this.playSetting.url&&(r.init_play_url=this.playSetting.url),this.playSetting.url=i&&i.play_url}},{key:"error",value:function(t){var e=t.value,i={startTime:(new Date).getTime()-this.playSetting.st,msg:e.error_message,type:e.error_type};this.littleBird.error(i)}},{key:"end",value:function(){console.log("kit---end",this.playSetting.st);var t={startTime:(new Date).getTime()-this.playSetting.st};this.littleBird.playEnd(t)}},{key:"destroy",value:function(){"hls"===this.playConfig.box?this.changePlayEvent({type:"stop"}):this.changePlayEvent({type:"live_stop"}),this.end(),this.littleBird.destroy(),this.littleBird=null}}])&&s(e.prototype,i),o&&s(e,o),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"ACTION",(function(){return r}));var r={DATA_CHANGE:"data_change",STATE_CHANGE:"state_change",SEEK:"seek",BLOCK:"block",PLAY_STATE_CHANGE:"play_state_change",END:"end",ERROR:"error"}},function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return p}));var r=i(3),n=i(6),o=i(8),a=i(7);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function f(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var h={interval:1e4,decimals:2,eventNums:20},p=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,"baseOption",{product_name:"test",product:10,appType:"web",h5_extra_attr:{host_product:""}}),d(this,"logConfig",{env:"production",fps:!1,timing:!1,radar:!1}),d(this,"playSetting",{initPlayFlag:!1,ps:null,sp:1,aod:null,re:"",bi:0,rf:0,pht:0,bl:0,ffrc:0,df:0}),d(this,"performance",{st:0}),d(this,"media",{consumer_id:"",device_id:Object(a.generateDID)(),viewer_id:"",ps:"playing",md:{an:null,pn:null,pver:null,st:null,dr:null,dur:null,url:null,cip:null}}),d(this,"options",l({},h)),d(this,"logQueue",[]),d(this,"logger",void 0),d(this,"seq",0),d(this,"tickId",0),d(this,"count",0),d(this,"loopId",0);var o=e.productName,s=e.env,u=e.consumerId,c=e.viewerId,f=e.debugConfig;this.baseOption.h5_extra_attr.host_product=u,this.baseOption=l({product_name:o},this.baseOption),this.logConfig=l({env:s},this.logConfig),this.media={consumerId:u,device_id:Object(a.generateDID)(),viewerId:c,md:{an:null,pn:null,pver:"",st:"",dr:"",dur:"",url:"",cip:""}},f&&(this.options.eventNums=2),this.debugConfig=f,this.logger=i||new r.Weblog(this.logConfig,this.baseOption),this.mediaConfig=Object(n.transformCommonMedia)(this.media,this.playSetting),this.heartbeat()}var e,i,u;return e=t,(i=[{key:"heartbeat",value:function(){var t=this;this.mediaConfig.evs.length>=this.options.eventNums&&("function"==typeof this.performance&&this.performance(this.mediaConfig.m),this.logger.sendImmediately("CUSTOM",{key:"VP_LITTLE_BIRD_ANALYTICS_SDK",value:l({},this.mediaConfig),eventId:"VP_LITTLE_BIRD_ANALYTICS_SDK"}),this.mediaConfig=Object(n.transformCommonMedia)(this.media,this.playSetting)),this.loopId||(this.loopId=setInterval((function(){t.loopId=null,t.mediaConfig.evs.length>=t.options.eventNums&&("function"==typeof t.performance&&t.performance(t.mediaConfig.m),t.logger.sendImmediately("CUSTOM",{key:"VP_LITTLE_BIRD_ANALYTICS_SDK",value:l({},t.mediaConfig),eventId:"VP_LITTLE_BIRD_ANALYTICS_SDK"}),t.mediaConfig=Object(n.transformCommonMedia)(t.media,t.playSetting))}),this.options.interval))}},{key:"stop",value:function(){window.clearInterval(this.loopId)}},{key:"send",value:function(){this.mediaConfig.evs.length>=this.options.eventNums&&(this.logger.sendImmediately("CUSTOM",{key:"VP_LITTLE_BIRD_ANALYTICS_SDK",value:l({},this.mediaConfig),eventId:"VP_LITTLE_BIRD_ANALYTICS_SDK"}),this.mediaConfig=Object(n.transformCommonMedia)(this.media,this.playSetting))}},{key:"init",value:function(t){var e=t.contentId,i=t.videoId,r=t.metaData,n=t.tags;this.mediaConfig.coid=e,this.mediaConfig.vid=i,this.mediaConfig.md.an=r.asset_name||this.mediaConfig.md.an,this.mediaConfig.md.pn=r.player_name||this.mediaConfig.md.pn,this.mediaConfig.md.pver=r.player_version||this.mediaConfig.md.pver,this.mediaConfig.md.st=r.stream_type||this.mediaConfig.md.st,this.mediaConfig.md.dr=r.default_resource||this.mediaConfig.md.dr,this.mediaConfig.md.dur=r.duration||this.mediaConfig.md.dur,(r.default_resource||r.stream_url)&&(this.mediaConfig.md.url=r.default_resource||r.stream_url),this.mediaConfig.md.cip=r.cdn_ip||this.mediaConfig.md.cip,this.mediaConfig.tags=n||{}}},{key:"updateConfig",value:function(t){t&&t.consumerId&&(this.mediaConfig.coid=t.consumerId),t&&t.viewerId&&(this.media.viewerId=t.viewerId),t&&t.contentId&&(this.mediaConfig.coid=t.contentId),t&&t.videoId&&(this.mediaConfig.vid=t.videoId),t&&t.assetName&&(this.mediaConfig.md.an=t.assetName)}},{key:"play",value:function(t){var e=t.contentId,i=t.videoId,r=t.sessionId,n=t.metaData,a=t.evs,s=t.metric,u=t.initPlayFlag;if(this.mediaConfig.coid=e,this.mediaConfig.vid=i,this.mediaConfig.sid=r,sessionStorage.setItem("sessionId",r),sessionStorage.setItem("coid",e),sessionStorage.setItem("vid",i),this.playSetting.initPlayFlag=u,this.mediaConfig.md.an=n.asset_name||this.mediaConfig.md.an,this.mediaConfig.md.pn=n.player_name||this.mediaConfig.md.pn,this.mediaConfig.md.pver=n.player_version||this.mediaConfig.md.pver,this.mediaConfig.md.st=n.stream_type||this.mediaConfig.md.st,this.mediaConfig.md.dr=n.default_resource||this.mediaConfig.md.dr,this.mediaConfig.md.dur=n.duration||this.mediaConfig.md.dur,this.mediaConfig.md.url=n.stream_url||this.mediaConfig.md.url,this.mediaConfig.md.cip=n.cdn_ip||this.mediaConfig.md.cip,s&&s.bitrate&&(this.mediaConfig.m.bi=s&&s.bitrate||this.mediaConfig.m.bi),s&&s.speed&&(this.mediaConfig.m.sp=s&&s.speed||this.mediaConfig.m.sp),this.mediaConfig.m.bl=s&&s.buffer_length||this.mediaConfig.m.bl,this.mediaConfig.m.pht=s&&s.pht||this.mediaConfig.m.pht,this.mediaConfig.m.efr=s&&s.efr||this.mediaConfig.m.efr,this.mediaConfig.m.rf=s&&s.rf||this.mediaConfig.m.rf,this.mediaConfig.m.ffrc=s&&s.ffrc||this.mediaConfig.m.ffrc,this.mediaConfig.m.df=s&&s.df||this.mediaConfig.m.df,u){var c={seq:++this.seq,st:a.startTime,t:o.ACTION.DATA_CHANGE,new:{an:this.mediaConfig.md.an,pn:this.mediaConfig.md.pn}};this.mediaConfig.evs.push(c)}var f={seq:++this.seq,st:a.startTime,t:o.ACTION.PLAY_STATE_CHANGE,new:{ps:a.action}};!u&&this.playSetting.ps&&(f.old={ps:this.playSetting.ps}),this.mediaConfig.evs.push(f),s&&s.ps&&(this.playSetting.ps=s&&s.ps,this.mediaConfig.m.ps=s&&s.ps),this.media.md=l({},this.mediaConfig.md),this.send()}},{key:"playStateChange",value:function(t){var e={seq:++this.seq,st:t.startTime||0,t:o.ACTION.PLAY_STATE_CHANGE,new:{ps:t.action},old:{ps:this.playSetting.ps}};this.mediaConfig.m.ps=t.action,this.playSetting.ps=t.action,this.mediaConfig.evs.push(e),this.send()}},{key:"addCustomerTags",value:function(t,e){for(var i={seq:++this.seq,st:e||0,t:o.ACTION.DATA_CHANGE,new:{},old:{}},r=0,n=Object.entries(t);r<n.length;r++){var a=s(n[r],2),u=a[0],c=a[1];c&&this.mediaConfig.tags&&!this.mediaConfig.tags[u]?(i.new[u]=c,this.mediaConfig.tags[u]=c):c&&this.mediaConfig&&this.mediaConfig.tags&&this.mediaConfig.tags[u]&&this.mediaConfig.tags[u]!==c&&(i.new[u]=c,i.old[u]=this.mediaConfig.tags&&this.mediaConfig.tags[u],this.mediaConfig.tags[u]=c)}Object.keys(i.new).length>0&&this.mediaConfig.evs.push(i)}},{key:"addTags",value:function(t,e){this.mediaConfig.tags[t]=e}},{key:"assignMetric",value:function(t){if(this.mediaConfig.m.bi=t.bitrate||this.mediaConfig.m.bi,this.mediaConfig.m.pht=t.pht||this.mediaConfig.m.pht,this.mediaConfig.m.bl=t.buffer_length||this.mediaConfig.m.bl,this.mediaConfig.m.rf=t.rf||this.mediaConfig.m.rf||0,this.performance.st=t&&t.evs&&t.evs.startTime,this.mediaConfig.m.ffrc=t.ffrc||this.mediaConfig.m.ffrc,this.mediaConfig.m.df=t.df||this.mediaConfig.m.df,t.buffer_length){if(0===this.playSetting.bl){var e={seq:++this.seq,st:this.performance&&this.performance.st>0?this.performance.st:0,t:o.ACTION.STATE_CHANGE,new:{bl:t.buffer_length}};this.mediaConfig.evs.push(e)}if(0!==this.playSetting.bl&&t.buffer_length!==this.playSetting.bl){var i={seq:++this.seq,st:this.performance&&this.performance.st>0?this.performance.st:0,t:o.ACTION.STATE_CHANGE,new:{bl:t.buffer_length},old:{bl:this.playSetting.bl}};this.mediaConfig.evs.push(i)}this.playSetting.bl=t.buffer_length}if(t.bitrate){if(0===this.playSetting.bi){var r={seq:++this.seq,st:this.performance&&this.performance.st>0?this.performance.st:0,t:o.ACTION.STATE_CHANGE,new:{bi:t.bitrate}};this.mediaConfig.evs.push(r)}if(0!==this.playSetting.bi&&t.bitrate!==this.playSetting.bi){var n={seq:++this.seq,st:this.performance&&this.performance.st>0?this.performance.st:0,t:o.ACTION.STATE_CHANGE,new:{bi:t.bitrate},old:{bi:this.playSetting.bi}};this.mediaConfig.evs.push(n)}this.playSetting.bi=t.bitrate}if(t.rf){if(0===this.playSetting.rf){var a={seq:++this.seq,st:this.performance&&this.performance.st>0?this.performance.st:0,t:o.ACTION.STATE_CHANGE,new:{rf:t.rf}};this.mediaConfig.evs.push(a)}if(0!==this.playSetting.rf&&t.rf!==this.playSetting.rf){var s={seq:++this.seq,st:this.performance&&this.performance.st>0?this.performance.st:0,t:o.ACTION.STATE_CHANGE,new:{rf:t.rf},old:{rf:this.playSetting.rf}};this.mediaConfig.evs.push(s)}this.playSetting.rf=t.rf}}},{key:"performance",value:function(t){this.mediaConfig.m.aod=t.audioCodec||this.mediaConfig.m.aod,this.mediaConfig.m.vod=t.videoCodec||this.mediaConfig.m.vod,this.mediaConfig.m.bi=t.bitrate||this.mediaConfig.m.bi,this.mediaConfig.m.efr=t.player_version||this.mediaConfig.m.efr,this.mediaConfig.m.pht=t.pht||this.mediaConfig.m.pht,this.mediaConfig.m.bl=t.bl||t.buffer_length||this.mediaConfig.m.bl,this.mediaConfig.m.rf=t.rf||this.mediaConfig.m.rf||0,this.mediaConfig.m.sp=t.speed||this.mediaConfig.m.sp||1,this.mediaConfig.m.ffrc=t.speed||this.mediaConfig.m.ffrc,this.mediaConfig.m.df=t.speed||this.mediaConfig.m.df,this.send()}},{key:"seek",value:function(t){var e={seq:++this.seq,st:t.startTime||0,t:o.ACTION.SEEK,sk:{st:t.st||0,et:t.et}};this.mediaConfig.evs.push(e),this.send()}},{key:"block",value:function(t){var e={seq:++this.seq,st:t.startTime||0,t:o.ACTION.BLOCK,bk:{st:t.st||0,dur:t.dur}};this.mediaConfig.evs.push(e),this.send()}},{key:"changeUrl",value:function(t){var e={seq:++this.seq,st:t.startTime,t:o.ACTION.DATA_CHANGE,new:{url:t&&t.play_url}};t.init_play_url&&(e.old={url:t.init_play_url}),this.mediaConfig.md.url=t.play_url,this.mediaConfig.evs.push(e),this.send()}},{key:"changeDataChange",value:function(t){if(this.mediaConfig.md.url&&t.play_url&&t.play_url!==this.mediaConfig.md.url){var e={seq:++this.seq,st:t.startTime,t:o.ACTION.DATA_CHANGE,new:{url:t&&t.play_url},old:{url:this.mediaConfig.md.url}};this.mediaConfig.evs.push(e),this.send()}else{var i={seq:++this.seq,st:t.startTime,t:o.ACTION.DATA_CHANGE,new:{url:t&&t.play_url}};this.mediaConfig.evs.push(i),this.send()}}},{key:"changeSpeed",value:function(t){if(t.speed!==this.playSetting.sp){var e={seq:++this.seq,st:t&&t.startTime,t:o.ACTION.STATE_CHANGE,new:{sp:t.speed},old:{sp:this.playSetting.sp}};this.mediaConfig.m.sp=t.speed||1,this.playSetting.sp=t.speed||1,this.mediaConfig.evs.push(e),this.send()}}},{key:"changeResolution",value:function(t){var e={seq:++this.seq,st:t.startTime||(new Date).getTime(),t:o.ACTION.STATE_CHANGE,new:l({re:t.re},t)};this.mediaConfig.evs.push(e),this.send()}},{key:"changeNetwork",value:function(t){var e={seq:++this.seq,st:t.startTime,t:o.ACTION.STATE_CHANGE,new:{ct:t.network||"wifi"}};t.initnetwork&&(e.old={ct:t.initnetwork}),this.mediaConfig.evs.push(e),this.send()}},{key:"changeTagsQuality",value:function(t){var e={seq:++this.seq,st:t.startTime,t:o.ACTION.STATE_CHANGE,new:{quality_type:t.re}};t.initRe&&(e.old={quality_type:t.initRe}),this.mediaConfig.evs.push(e),this.send()}},{key:"changeQuality",value:function(t){var e={seq:++this.seq,st:t.startTime,t:o.ACTION.STATE_CHANGE,new:{re:t.re}};t.initRe&&(e.old={re:t.initRe}),this.mediaConfig.evs.push(e),this.send()}},{key:"changeAod",value:function(t){var e={seq:++this.seq,st:t.startTime,t:o.ACTION.STATE_CHANGE,new:{aod:t.aod}};t.initAod&&(e.old={re:t.initAod}),this.mediaConfig.m.aod=t.aod,this.mediaConfig.evs.push(e)}},{key:"changeDevices",value:function(t){if(t.devices!==this.playSetting.aod){var e={seq:++this.seq,st:t.startTime,t:o.ACTION.STATE_CHANGE,new:{aod:t.devices},old:{aod:this.playSetting.aod||this.mediaConfig.i.di}};this.mediaConfig.i.di=t.devices,this.playSetting.aod=t.devices,this.mediaConfig.m.aod=t.devices,this.mediaConfig.evs.push(e)}}},{key:"error",value:function(t){var e={seq:++this.seq,st:t.startTime,t:o.ACTION.ERROR,msg:t.msg,type:"error"};this.mediaConfig.evs.push(e),this.send()}},{key:"changeMetadata",value:function(t){var e=t.url,i=t.cip,r={seq:++this.seq,st:t&&t.startTime||(new Date).getTime(),t:o.ACTION.STATE_CHANGE,new:{url:e,cip:i}};this.mediaConfig.evs.push(r)}},{key:"playEnd",value:function(t){var e={seq:++this.seq,st:t.startTime,t:"end"};this.mediaConfig.evs.push(e),this.logger.sendImmediately("CUSTOM",{key:"VP_LITTLE_BIRD_ANALYTICS_SDK",value:l({},this.mediaConfig),eventId:"custom_stat_event"}),this.mediaConfig=Object(n.transformCommonMedia)(this.media,this.playSetting)}},{key:"destroy",value:function(){this.stop(),this.logger.destroy()}}])&&f(e.prototype,i),u&&f(e,u),t}()},function(t,e,i){"use strict";i.r(e),function(t){i.d(e,"Weblog",(function(){return Be})),i.d(e,"BasePlugin",(function(){return Gt}));var r,n,o,a=i(5),s=i.n(a);Object.defineProperty||(Object.defineProperty=function(t,e,i){t[e]="[object Object]"===Object.prototype.toString.call(i)&&i.hasOwnProperty("value")?i.value:i}),Object.assign||Object.defineProperty(Object,"assign",{value:function(t){if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!==r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},writable:!0,configurable:!0}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,r=function(){},n=function(){var n=this instanceof r?this:t;return i.apply(n,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),n.prototype=new r,n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),n=r.length>>>0;if(0===n)return-1;var o=+e||0;if(Math.abs(o)===1/0&&(o=0),o>=n)return-1;for(i=Math.max(o>=0?o:n-Math.abs(o),0);i<n;){if(i in r&&r[i]===t)return i;i++}return-1}),Object.keys||(Object.keys=(r=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on non-object");var e=[];for(var i in t)r.call(t,i)&&e.push(i);if(n)for(var a=0,s=o;a<s.length;a++){var u=s[a];r.call(t,u)&&e.push(u)}return e})),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,r;if(null==this)throw new TypeError(" this is null or not defined");var n=Object(this),o=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(i=e),r=0;r<o;){var a=void 0;r in n&&(a=n[r],t.call(i,a,r,n)),r++}})
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */;var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function c(t,e){function i(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var l=function(){return(l=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function f(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&(i[r[n]]=t[r[n]])}return i}function d(t,e,i,r){return new(i||(i=Promise))((function(n,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?n(t.value):new i((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var i,r,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function _(t,e){return t(e={exports:{}},e.exports),e.exports}var v=_((function(t){!function(e){function i(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function r(t,e,r,n,o,a){return i((s=i(i(e,t),i(n,a)))<<(u=o)|s>>>32-u,r);var s,u}function n(t,e,i,n,o,a,s){return r(e&i|~e&n,t,e,o,a,s)}function o(t,e,i,n,o,a,s){return r(e&n|i&~n,t,e,o,a,s)}function a(t,e,i,n,o,a,s){return r(e^i^n,t,e,o,a,s)}function s(t,e,i,n,o,a,s){return r(i^(e|~n),t,e,o,a,s)}function u(t,e){var r,u,c,l,f;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var d=1732584193,h=-271733879,p=-1732584194,_=271733878;for(r=0;r<t.length;r+=16)u=d,c=h,l=p,f=_,d=n(d,h,p,_,t[r],7,-680876936),_=n(_,d,h,p,t[r+1],12,-389564586),p=n(p,_,d,h,t[r+2],17,606105819),h=n(h,p,_,d,t[r+3],22,-1044525330),d=n(d,h,p,_,t[r+4],7,-176418897),_=n(_,d,h,p,t[r+5],12,1200080426),p=n(p,_,d,h,t[r+6],17,-1473231341),h=n(h,p,_,d,t[r+7],22,-45705983),d=n(d,h,p,_,t[r+8],7,1770035416),_=n(_,d,h,p,t[r+9],12,-1958414417),p=n(p,_,d,h,t[r+10],17,-42063),h=n(h,p,_,d,t[r+11],22,-1990404162),d=n(d,h,p,_,t[r+12],7,1804603682),_=n(_,d,h,p,t[r+13],12,-40341101),p=n(p,_,d,h,t[r+14],17,-1502002290),d=o(d,h=n(h,p,_,d,t[r+15],22,1236535329),p,_,t[r+1],5,-165796510),_=o(_,d,h,p,t[r+6],9,-1069501632),p=o(p,_,d,h,t[r+11],14,643717713),h=o(h,p,_,d,t[r],20,-373897302),d=o(d,h,p,_,t[r+5],5,-701558691),_=o(_,d,h,p,t[r+10],9,38016083),p=o(p,_,d,h,t[r+15],14,-660478335),h=o(h,p,_,d,t[r+4],20,-405537848),d=o(d,h,p,_,t[r+9],5,568446438),_=o(_,d,h,p,t[r+14],9,-1019803690),p=o(p,_,d,h,t[r+3],14,-187363961),h=o(h,p,_,d,t[r+8],20,1163531501),d=o(d,h,p,_,t[r+13],5,-1444681467),_=o(_,d,h,p,t[r+2],9,-51403784),p=o(p,_,d,h,t[r+7],14,1735328473),d=a(d,h=o(h,p,_,d,t[r+12],20,-1926607734),p,_,t[r+5],4,-378558),_=a(_,d,h,p,t[r+8],11,-2022574463),p=a(p,_,d,h,t[r+11],16,1839030562),h=a(h,p,_,d,t[r+14],23,-35309556),d=a(d,h,p,_,t[r+1],4,-1530992060),_=a(_,d,h,p,t[r+4],11,1272893353),p=a(p,_,d,h,t[r+7],16,-155497632),h=a(h,p,_,d,t[r+10],23,-1094730640),d=a(d,h,p,_,t[r+13],4,681279174),_=a(_,d,h,p,t[r],11,-358537222),p=a(p,_,d,h,t[r+3],16,-722521979),h=a(h,p,_,d,t[r+6],23,76029189),d=a(d,h,p,_,t[r+9],4,-640364487),_=a(_,d,h,p,t[r+12],11,-421815835),p=a(p,_,d,h,t[r+15],16,530742520),d=s(d,h=a(h,p,_,d,t[r+2],23,-995338651),p,_,t[r],6,-198630844),_=s(_,d,h,p,t[r+7],10,1126891415),p=s(p,_,d,h,t[r+14],15,-1416354905),h=s(h,p,_,d,t[r+5],21,-57434055),d=s(d,h,p,_,t[r+12],6,1700485571),_=s(_,d,h,p,t[r+3],10,-1894986606),p=s(p,_,d,h,t[r+10],15,-1051523),h=s(h,p,_,d,t[r+1],21,-2054922799),d=s(d,h,p,_,t[r+8],6,1873313359),_=s(_,d,h,p,t[r+15],10,-30611744),p=s(p,_,d,h,t[r+6],15,-1560198380),h=s(h,p,_,d,t[r+13],21,1309151649),d=s(d,h,p,_,t[r+4],6,-145523070),_=s(_,d,h,p,t[r+11],10,-1120210379),p=s(p,_,d,h,t[r+2],15,718787259),h=s(h,p,_,d,t[r+9],21,-343485551),d=i(d,u),h=i(h,c),p=i(p,l),_=i(_,f);return[d,h,p,_]}function c(t){var e,i="",r=32*t.length;for(e=0;e<r;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function l(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function f(t){var e,i,r="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}function d(t){return unescape(encodeURIComponent(t))}function h(t){return function(t){return c(u(l(t),8*t.length))}(d(t))}function p(t,e){return function(t,e){var i,r,n=l(t),o=[],a=[];for(o[15]=a[15]=void 0,n.length>16&&(n=u(n,8*t.length)),i=0;i<16;i+=1)o[i]=909522486^n[i],a[i]=1549556828^n[i];return r=u(o.concat(l(e)),512+8*e.length),c(u(a.concat(r),640))}(d(t),d(e))}function _(t,e,i){return e?i?p(e,t):function(t,e){return f(p(t,e))}(e,t):i?h(t):function(t){return f(h(t))}(t)}t.exports?t.exports=_:e.md5=_}(p)})),m=["UVideo","Vstatus","Kwaigo","MvMaster"],g=["Kwai","Kwai_Lite","Kwai_Pro","livemate","ksthanos","ksNebula","ksnebula","kwaiying","pearl","kinder","m2u","LOLita","XFunCore","ACVideoCore","ZIKZAK"].concat(m),y=null,E="",w=function(){return y||(y=(new s.a).getResult()),y};function A(t){if(void 0===t&&(t=location.hostname),!t)return"";var e=t.split("."),i=e.length;return i<=2?"":"."+e[i-2]+"."+e[i-1]}function b(t,e){if(void 0===e&&(e={}),!document.cookie)return null;var i=function(t,e,i){void 0===i&&(i={});var r={};if(t.length>0)for(var n=e?decodeURIComponent:function(t){return t},o=t.split(/;\s/g),a=null,s=null,u=null,c=0,l=o.length;c<l;c++){if(null!==(u=o[c].match(/([^=]+)=/i)))try{a=decodeURIComponent(u[1]),s=n(o[c].substring(u[1].length+1))}catch(t){}else a=decodeURIComponent(o[c]),s="";null!==a&&(r[a]=s)}return r}(document.cookie,!e.raw,e)[t];return void 0===i?null:i}function S(t,e,i){void 0===i&&(i={});try{return document.cookie=function(t,e,i,r){void 0===r&&(r={});var n=encodeURIComponent(t)+"="+(i?encodeURIComponent(e):e),o=r.expires,a=r.path||"/",s=r.domain||"";return o instanceof Date&&(n+="; expires="+o.toUTCString()),"number"==typeof o&&(n+="; max-age=="+o),""!==a&&(n+="; path="+a),""!==s&&(n+="; domain="+s),!0===r.secure&&(n+="; secure"),n}(t,e,!i.raw,i),!0}catch(t){return!1}}function T(t){try{if(window&&window.localStorage){var e=window.localStorage.getItem(t);if(e)try{return JSON.parse(e)}catch(t){return e}}}catch(t){return null}return null}function x(t,e){try{if(window&&window.localStorage)return window.localStorage.setItem(t,JSON.stringify(e)),!0}catch(t){return!1}return!1}function L(){for(var t=1e9*Math.random()>>>0,e=[],i=0;i<7;i++)e.push("0123456789ABCDEF".charAt(16*Math.random()));return t+e.join("")}function C(){var t=b("did")?"did":"_did",e=b(t),i=new Date;i.setFullYear(i.getFullYear()+1);var r=e||"web_"+L();return S(t,r,{expires:i,domain:A(),path:"/"}),r}function I(){return L()}function D(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)}function O(t,e,i,r){return"attachEvent"in t?t.attachEvent("on"+e,i):t.addEventListener(e,i,r)}function R(t,e,i,r){return"attachEvent"in t?t.detachEvent("on"+e,i):t.removeEventListener(e,i,r)}function k(t,e,i){if(void 0===i&&(i=" "),(e-=t.length)<=0)return t;for(var r="";e;)1&e&&(r+=i),e>>=1,i+=i;return r+t}var N,M=(N=null,function(){if(null===N)for(var t=0;t<g.length;t++)if(m.indexOf(g[t])>-1){if(navigator.userAgent.toLowerCase().indexOf(g[t].toLowerCase())>-1){N=!0;break}}else if(navigator.userAgent.indexOf(g[t])>-1){N=!0;break}return N});function P(t){return setTimeout(t,62.5)}var U=clearTimeout;function B(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}function F(t){for(var e={},i=0,r=t.split("&");i<r.length;i++){var n=r[i].split("="),o=n[0],a=n[1];o in e?e[o]instanceof Array?e[o].push(a):e[o]=[e[o],a]:e[o]=a}return e}function K(t){var e="string"==typeof t?JSON.parse(t):t,i=[];return Object.keys(e).forEach((function(t){if(e[t]instanceof Array)for(var r=0,n=e[t];r<n.length;r++){var o=n[r];i.push(t+"="+o)}else"object"==typeof e[t]&&null!==e[t]?i.push(t+"="+JSON.stringify(e[t])):i.push(t+"="+e[t])})),i.join("&")}var j=function(t){var e=t+(new Date).getTime()+C()+L();return v(e)},V=function(){var t=C();if(!E){var e="http://logger-v2.corp.kuaishou.com/#/home?sessionId="+t;console.log("%cLogSDK logger: %c"+e,"color:#1abf89;font-size:1.4em;line-height:2.4em;","font-size:1.2em;"),E="https://logger-v2-backend.corp.kuaishou.com/"+t+"/rest/wd/common/log/collect/misc2"}return E};function H(t){var e="";if("string"==typeof t)e=t;else try{e=JSON.stringify(t)}catch(i){e=String(t)}for(var i=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);i+=n<128?1:n<2048?2:n<65536?3:n<1<<21?4:n<1<<26?5:n<1<<31?6:Number.NaN}return i}var q=function(){for(var t=navigator.userAgent,e=[[/ wxwork\//,"workWechat"],[/ MicroMessenger\//,"wechat"],[/ Kwai\//,"KUAISHOU"],[/ ksthanos\//,"THANOS"],[/ ksNebula\//i,"NEBULA"],[/ QQ\//,"qq"],[/__weibo__([^_]+)/,"weibo"],[/ livemate\//,"livemate"],[/ baiduboxapp\//,"baidu"],[/ MQQBrowser\//,"qqBrowser"],[/\(MSIE ([^;]+);/,"ie"]],i=0;i<e.length;i++){var r=e[i],n=r[0],o=r[1];if(n.exec(t))return o}return""};function G(){var t=b("kpn"),e=q();return t||e||""}var z=function(t){this.env="production",this.retries=0,this.maxErrLog=100,this.timeout=3e4,this.useBeacon=!1,this.wait=1e3,this.maxBatchLength=100,this.lazy=!1,this.showValidateMsg=!1,this.sampleRate=1,this.sampleRateFn=null,this.logger=!1,this.urlMap={},this.openHttpSender=!1,Object.assign(this,t)},W=["display: none;","position: absolute;","top: -9999px","left: -9999px"].join("");function X(t,e){var i=t.url,r=t.data,n="iframe_"+L(),o=function(t){var e=document.createElement("iframe");return document.body.appendChild(e),e.contentWindow.name=t,e.style.cssText=W,e}(n),a=function(t,e){var i=document.createElement("form");return document.body.appendChild(i),i.target=t,i.enctype="multipart/form-data",i.method="POST",i.action=e,i.style.cssText=W,i}(n,i);!function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var r=document.createElement("input");r.name=i,r.value=JSON.stringify(e[i]),t.appendChild(r)}}(a,r);try{a.submit()}catch(t){e(t)}o.onload=function(){document.body.removeChild(o),document.body.removeChild(a),o=null,a=null}}function Y(t){var e=new FormData;for(var i in t)t.hasOwnProperty(i)&&e.append(i,JSON.stringify(t[i]));return e}function Q(t,e){var i=t.url,r=t.data;navigator.sendBeacon(i,Y(r))||e()}var J=w(),Z="Chrome"===J.browser.name&&+(J.browser.major||0)>77,$="function"==typeof(navigator&&navigator.sendBeacon);function tt(t,e){var i=t.url,r=t.data,n=t.async,o=t.useBeacon,a=void 0!==o&&o,s=t.timeout;if($&&(a||Z)&&H(r)<51200)return Q({url:i,data:r},e);if(function(){var t=w();return"IE"===t.browser.name&&t.browser.major&&+t.browser.major<=9}())return X({url:i,data:r},e);try{!function(t,e){var i=t.url,r=t.data,n=t.async,o=void 0===n||n,a=t.timeout,s=new XMLHttpRequest;s.open("POST",i,o),o&&a&&(s.timeout=a),s.onload=function(){s.status<200&&s.status>=300&&304!==s.status&&e(s.response)},s.ontimeout=s.onerror=function(t){e(t)},s.send(Y(r))}({url:i,data:r,async:n,timeout:s},e)}catch(t){$&&Q({url:i,data:r},e)}}var et,it,rt,nt,ot,at=function(){function t(){var t=this;this.logQueue=[],this.errorQueue=[],this.batchWaitTimer=0,this.errorWaitTimer=0,this.flush=function(e){t.sendData(t.logQueue,e),t.logQueue=[]}}return t.prototype.updateBase=function(t){this.commonPackage=t},Object.defineProperty(t.prototype,"url",{get:function(){if(this.config.logger)return V();var t=this.config.env;return t&&/^(https?:)?\/\//.test(t)?t:"production"===t?"https://log-sdk.ksapisrv.com/rest/wd/common/log/collect/misc2":"https://webapi.test.gifshow.com/rest/wd/common/log/collect/misc2"},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e){this.config=new z(l(l({},this.config),t)),this.updateBase(e)},t.prototype.sendData=function(t,e){var i,r=this;if((i=Array.isArray(t)&&t.length?{retry:0,logs:t}:t)&&Array.isArray(i.logs)&&i.logs.length){this.commonPackage.increaseHTTPSeqId();var n=this.config,o=n.useBeacon,a=n.wait,s=n.timeout,u=n.sender,c={url:this.url,data:{common:this.commonPackage.getJSON(),logs:{event:i.logs}},useBeacon:o,async:void 0!==e?e:0!==a,timeout:s};try{"function"==typeof u?u(c,(function(){r.errHandler(i)})):tt(c,(function(){r.errHandler(i)}))}catch(t){}}},t.prototype.flushErrorQueue=function(){var t=this;this.errorQueue.forEach((function(e){e.retry>t.config.retries?D(t.errorQueue,e):(e.retry++,t.sendData(e))}))},t.prototype.send=function(t,e,i){var r=this;if(void 0===e&&(e=!1),e)this.sendData([t],i);else if(this.config.lazy)this.logQueue.push(t);else{if(clearTimeout(this.batchWaitTimer),this.logQueue.length>=this.config.maxBatchLength)return this.config.lazy||this.logQueue.push(t),void this.flush(i);this.logQueue.push(t),this.batchWaitTimer=window.setTimeout((function(){r.flush(i)}),this.config.wait)}},Object.defineProperty(t.prototype,"errorLogCount",{get:function(){return this.errorQueue.reduce((function(t,e){return t+e.logs.length}),0)},enumerable:!1,configurable:!0}),t.prototype.errHandler=function(t){var e=this;this.config.retries&&(this.errorQueue.push(t),clearTimeout(this.errorWaitTimer),this.errorLogCount>=this.config.maxErrLog?this.flushErrorQueue():this.errorWaitTimer=window.setTimeout((function(){e.flushErrorQueue()}),this.config.wait))},t}();!function(t){t[t.UNKNOWN_ACTION=0]="UNKNOWN_ACTION",t[t.ENTER=1]="ENTER",t[t.LEAVE=2]="LEAVE",t[t.RESUME=3]="RESUME"}(et||(et={})),function(t){t[t.UNKNOWN_SUB_ACTION=0]="UNKNOWN_SUB_ACTION",t[t.PAGE_ENTER=1]="PAGE_ENTER",t[t.PAGE_LEAVE=2]="PAGE_LEAVE",t[t.PAGE_RESUME=3]="PAGE_RESUME",t[t.PAGE_PAUSE=4]="PAGE_PAUSE"}(it||(it={})),function(t){t[t.UNKNOWN_TYPE=0]="UNKNOWN_TYPE",t[t.PAGE_AUTO=10]="PAGE_AUTO",t[t.PAGE_CUSTOM=11]="PAGE_CUSTOM",t[t.ELEMENT=12]="ELEMENT"}(rt||(rt={})),function(t){t[t.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",t[t.SUCCESS=1]="SUCCESS",t[t.FAIL=2]="FAIL"}(nt||(nt={})),function(t){t[t.UNKNOWN_ACTION_TYPE=0]="UNKNOWN_ACTION_TYPE",t[t.CLICK=1]="CLICK",t[t.LEFT_PULL=2]="LEFT_PULL",t[t.RIGHT_PULL=3]="RIGHT_PULL",t[t.UP_PULL=4]="UP_PULL",t[t.DOWN_PULL=5]="DOWN_PULL"}(ot||(ot={}));var st,ut,ct,lt,ft=!0,dt=function(t){this.first_load=ft,this.action=et.ENTER,this.time_cost=0,this.sub_action=it.PAGE_ENTER,this.type=rt.ELEMENT,this.status=nt.SUCCESS,this.action_type=ot.CLICK,this.sub_page=!1,ft=!1;var e=t.type,i=t.currentUrlPackage,r=t.referUrlPackage,n=t.name,o=void 0===n?"":n,a=t.action,s=t.beginTime,u=t.params,c=void 0===u?{}:u,l=t.contentPackage,f=t.status,d=t.actionType,h=t.auto;if(this.url_package=i,this.refer_url_package=r,this.content_package=l,f&&(this.status=void 0===nt[f]?nt.UNKNOWN_STATUS:nt[f]),"PV"===e)switch(this.type=h?rt.PAGE_AUTO:rt.PAGE_CUSTOM,d&&(this.action_type=void 0===ot[d]?ot.UNKNOWN_ACTION_TYPE:ot[d]),a){case"leave":this.action=et.LEAVE,this.sub_action=it.PAGE_LEAVE,s&&(this.stay_length=(new Date).valueOf()-s);break;case"enter":this.action=et.ENTER,this.sub_action=it.PAGE_ENTER;break;case"visible":this.action=et.RESUME,this.sub_action=it.PAGE_RESUME;break;case"hidden":this.action=et.LEAVE,this.sub_action=it.PAGE_PAUSE}"SHOW"===e&&o&&c&&(this.element_package={action:o,params:JSON.stringify(c)})};!function(t){t[t.UNKNOWN_TYPE=0]="UNKNOWN_TYPE",t[t.USER_OPERATION=1]="USER_OPERATION",t[t.STAY_LENGTH_STAT_EVENT=2]="STAY_LENGTH_STAT_EVENT",t[t.BACKGROUND_TASK_EVENT=3]="BACKGROUND_TASK_EVENT"}(st||(st={})),function(t){t[t.UNKNOWN_OPERATION=0]="UNKNOWN_OPERATION",t[t.CLICK=1]="CLICK",t[t.DOUBLE_CLICK=2]="DOUBLE_CLICK",t[t.TRIPLE_CLICK=3]="TRIPLE_CLICK",t[t.LONG_PRESS=4]="LONG_PRESS",t[t.PULL=5]="PULL",t[t.DRAG=6]="DRAG",t[t.SCALE=7]="SCALE",t[t.PULL_DOWN=8]="PULL_DOWN",t[t.PULL_UP=9]="PULL_UP"}(ut||(ut={})),function(t){t[t.UNKNOWN_OPERATION_DIRECTION=0]="UNKNOWN_OPERATION_DIRECTION",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT"}(ct||(ct={})),function(t){t[t.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",t[t.START=1]="START",t[t.RETRY=2]="RETRY",t[t.PAUSE=3]="PAUSE",t[t.RESUME=4]="RESUME",t[t.PENDING=5]="PENDING",t[t.PROCESSING=6]="PROCESSING",t[t.SUCCESS=7]="SUCCESS",t[t.FAIL=8]="FAIL",t[t.CANCEL=9]="CANCEL",t[t.FINISH=10]="FINISH"}(lt||(lt={}));var ht,pt,_t,vt,mt,gt,yt=function(t){this.type=st.USER_OPERATION,this.operation_type=ut.CLICK,this.status=lt.UNKNOWN_STATUS;var e=t.sessionId,i=t.currentUrlPackage,r=t.referUrlPackage,n=t.name,o=t.params,a=t.type,s=t.contentPackage,u=t.status,c=t.taskType,l=t.operationDirection;u&&(this.status=void 0===lt[u]?lt.UNKNOWN_STATUS:lt[u]),c&&(this.type=void 0===st[c]?st.USER_OPERATION:st[c]),this.operation_type=ut[a],l&&(this.operation_direction=ct[l]||ct.UNKNOWN_OPERATION_DIRECTION),this.session_id=e,this.url_package=i,this.refer_url_package=r,this.content_package=s,this.element_package={action:n,params:JSON.stringify(o)}},Et=function(t){var e=t.name,i=t.params,r=t.currentUrlPackage,n=t.referUrlPackage;this.key=e,this.value=JSON.stringify(l({url_package:r,refer_url_package:n},i))},wt=[["a7","640x1136",["iPhone 5","iPhone 5s"]],["a7","1536x2048",["iPad Air","iPad Mini 2","iPad Mini 3"]],["a8","640x1136",["iPod touch (6th gen)"]],["a8","750x1334",["iPhone 6"]],["a8","1242x2208",["iPhone 6 Plus"]],["a8","1536x2048",["iPad Air 2","iPad Mini 4"]],["a9","640x1136",["iPhone SE"]],["a9","750x1334",["iPhone 6s"]],["a9","1242x2208",["iPhone 6s Plus"]],["a9x","1536x2048",["iPad Pro (1st gen 9.7-inch)"]],["a9x","2048x2732",["iPad Pro (1st gen 12.9-inch)"]],["a10","750x1334",["iPhone 7"]],["a10","1242x2208",["iPhone 7 Plus"]],["a10x","1668x2224",["iPad Pro (2th gen 10.5-inch)"]],["a10x","2048x2732",["iPad Pro (2th gen 12.9-inch)"]],["a11","750x1334",["iPhone 8"]],["a11","1242x2208",["iPhone 8 Plus"]],["a11","1125x2436",["iPhone X"]],["a12","828x1792",["iPhone Xr"]],["a12","1125x2436",["iPhone Xs"]],["a12","1242x2688",["iPhone Xs Max"]],["a12x","1668x2388",["iPad Pro (3rd gen 11-inch)"]],["a12x","2048x2732",["iPad Pro (3rd gen 12.9-inch)"]]],At=(ht="",function(){if(ht)return ht;var t=window.devicePixelRatio||1,e=Math.floor(Math.min(screen.width,screen.height)*t),i=Math.floor(Math.max(screen.width,screen.height)*t);return ht=e+"x"+i}),bt=(pt="",function(){if(pt)return pt;var t=document.createElement("canvas").getContext("webgl");if(t){var e=t.getExtension("WEBGL_debug_renderer_info");pt=e?t.getParameter(e.UNMASKED_RENDERER_WEBGL):"unknown"}else pt="unknown";return pt}),St=(_t="",function(){if(_t)return _t;var t=w(),e=M();if("iOS"!==t.os.name||e)return t.device.model||"unknown";var i=bt(),r=At(),n=i.match(/^apple\s+([_a-z0-9-]+)\s+gpu$/i);if(!n)return _t="unknown";for(var o=0,a=wt;o<a.length;o++){var s=a[o];if(n[1].toLocaleLowerCase()===s[0]&&r===s[1]){_t=s[2].join(" or ");break}}return _t=_t||t.device.model||"unknown"});function Tt(t){console&&console.warn&&console.warn(t)}function xt(t){console&&console.error&&console.error(t)}!function(t){t[t.UNKNOWN_NETWORK=0]="UNKNOWN_NETWORK",t[t.NOT_CONNECTED=1]="NOT_CONNECTED",t[t.WIFI=2]="WIFI",t[t.MOBILE_4G=3]="MOBILE_4G",t[t.MOBILE_3G=4]="MOBILE_3G",t[t.MOBILE_2G=5]="MOBILE_2G",t[t.MOBILE_UNKNOWN=6]="MOBILE_UNKNOWN"}(vt||(vt={})),function(t){t[t.UNKNOWN_PLATFORM=0]="UNKNOWN_PLATFORM",t[t.ANDROID_PHONE=1]="ANDROID_PHONE",t[t.ANDROID_PAD=2]="ANDROID_PAD",t[t.IPHONE=3]="IPHONE",t[t.IPAD=4]="IPAD",t[t.WINDOWS_PC=5]="WINDOWS_PC",t[t.ANDROID_PHONE_H5=6]="ANDROID_PHONE_H5",t[t.IPHONE_H5=7]="IPHONE_H5",t[t.OUTSIDE_ANDROID_H5=8]="OUTSIDE_ANDROID_H5",t[t.OUTSIDE_IOS_H5=9]="OUTSIDE_IOS_H5",t[t.PC_WEB=10]="PC_WEB"}(mt||(mt={})),function(t){t.NATIVE="NATIVE",t.H5="H5",t.MP_WECHAT="MP_WECHAT",t.MP_ALIPAY="MP_ALIPAY",t.MP_BAIDU="MP_BAIDU",t.WEB="WEB"}(gt||(gt={}));var Lt={unknown:vt.UNKNOWN_NETWORK,none:vt.NOT_CONNECTED,wifi:vt.WIFI,"4g":vt.MOBILE_4G,"3g":vt.MOBILE_3G,"2g":vt.MOBILE_2G,"slow-2g":vt.MOBILE_2G};function Ct(){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!t)return Lt.unknown;var e=t.type,i=t.effectiveType;return Lt[e]||Lt[i]||Lt.unknown}function It(){var t=w();if(!t.os.name)return mt.UNKNOWN_PLATFORM;var e=M();return"Android"===t.os.name?e?mt.ANDROID_PHONE_H5:mt.OUTSIDE_ANDROID_H5:"iOS"===t.os.name?e?mt.IPHONE_H5:mt.OUTSIDE_IOS_H5:mt.PC_WEB}var Dt,Ot=[["identity_package","device_id"],["identity_package","global_id"],["identity_package","user_id"],["app_package","product"],["app_package","version_name"],["app_package","package_name"],["app_package","product_name"],["app_package","channel"],["network_package","type"]],Rt=function(){function t(e,i){if(this.identity_package={device_id:C(),global_id:"",user_id:""},this.app_package={language:navigator.language,platform:It(),container:gt.H5,package_name:"",product_name:"",version_name:"",channel:""},this.device_package={os_version:w().os.version||"unknown",model:St(),ua:navigator.userAgent},this.network_package={type:Ct()},this.need_encrypt=!1,this.sdk_version="3.7.11",function t(e,i){i&&Object.keys(i).forEach((function(r){var n=i[r];"object"==typeof n&&"h5_extra_attr"!==r?t(e[r],n):n&&(e[r]=n)}))}(this,e),M()||function(t,e){for(var i=0,r=Ot;i<r.length;i++){for(var n=r[i],o=void 0,a=0,s=n;a<s.length;a++){var u=s[a];o=o?o[u]:t[u]}o||e&&Tt('Base Option "'+n[n.length-1]+'" should be set when in Kwai App')}}(this,i.showValidateMsg),this.app_package.version_name){var r=this.app_package.version_name.lastIndexOf(".");this.app_package.version_code=+this.app_package.version_name.slice(r+1)||0}this.network_package.type=this.network_package.type||Ct();var n=l(l({},e),i);this.h5_extra_attr=l(l(l({},t.DefaultH5ExtraAttr),n.h5_extra_attr),{product_name:n.product_name})}return t.prototype.genH5SeqId=function(t){var e=Number(T(t)||0),i=Number(b(t)||0),r=Math.max(e,i),n=r+1;return x(t,n),S(t,""+n),r},t.prototype.increaseH5SeqId=function(){this.h5_extra_attr.seq_id=this.genH5SeqId(t.H5_SEQ_ID_KEY)},t.prototype.setH5ClientTimestamp=function(){this.h5_extra_attr.client_timestamp=(new Date).valueOf()},t.prototype.increaseHTTPSeqId=function(){this.h5_extra_attr.http_seq_id=this.genH5SeqId(t.HTTP_SEQ_ID_KEY)},t.prototype.setDomin=function(){this.h5_extra_attr.domain=window&&window.location&&window.location.origin||""},t.prototype.getJSON=function(){return l(l({},this),{h5_extra_attr:JSON.stringify(this.h5_extra_attr)})},t.prototype.setBridgeInfo=function(t){this.h5_extra_attr.bridge_info=t},t.prototype.getH5ExtraAttr=function(){return JSON.stringify(this.h5_extra_attr)},t.prototype.update=function(t){var e=this;if("object"==typeof t){var i=JSON.parse(JSON.stringify(this));Object.keys(t).forEach((function(r){var n=t[r];if(r in i)"object"!=typeof i[r]||"object"!=typeof n||Array.isArray(i[r])&&n||(n=l(l({},i[r]),n)),e[r]=n;else for(var o=0,a=["identity_package","app_package","device_package"];o<a.length;o++){var s=a[o];if(r in i[s]){e[s][r]=n;break}}}))}},t.H5_SEQ_ID_KEY="WEBLOGGER_H5_SEQ_ID",t.HTTP_SEQ_ID_KEY="WEBLOGGER_HTTP_SEQ_ID",t.DefaultH5ExtraAttr={host_product:G(),app_version_name:b("appver")||"",resolution:At(),domain:window&&window.location&&window.location.origin||"",sdk_name:"webLogger",sdk_version:"3.7.11"},t}(),kt=(Dt=(new Date).getTimezoneOffset()/60)<=0?"GMT+"+k(-Dt+"",2,"0")+":00":"GMT-"+k(Dt+"",2,"0")+":00",Nt=function(){function t(t){this.client_timestamp=(new Date).valueOf(),this.client_increment_id=0,this.session_id=sessionStorage.getItem("sessionId")||I(),this.time_zone=kt,this.event_id="",Object.assign(this,t),this.genIncrementId()}return t.prototype.genIncrementId=function(){var t="WEBLOGGER_INCREAMENT_ID_KEY",e=Number(T(t)||0),i=Number(b(t)||0),r=Math.max(e,i);this.client_increment_id=r++,x(t,r),S(t,""+r)},t}();function Mt(t,e){switch(t){case"PV":case"SHOW":return new Nt({event_package:{show_event:new dt({type:t,status:e.status,currentUrlPackage:e.currentUrlPackage,referUrlPackage:e.referUrlPackage,action:e.type,beginTime:e.beginTime,name:e.name,params:e.params,contentPackage:e.contentPackage,operationDirection:e.operationDirection,auto:e.auto})},event_id:e.eventId});case"CUSTOM":return new Nt({stat_package:{custom_stat_event:new Et({currentUrlPackage:e.currentUrlPackage,name:e.name,params:e.params})},event_id:e.eventId});case"RADAR":var i=e.params.currentUrlPackage||e.currentUrlPackage;return delete e.params.currentUrlPackage,new Nt({stat_package:{custom_stat_event:new Et({currentUrlPackage:i,referUrlPackage:e.referUrlPackage,name:e.name,params:e.params})},event_id:e.eventId});default:return new Nt({event_package:{task_event:new yt({type:t,status:e.status,taskType:e.taskType,sessionId:sessionStorage.getItem("sessionId")||I(),currentUrlPackage:e.currentUrlPackage,referUrlPackage:e.referUrlPackage,name:e.name,params:e.params,contentPackage:e.contentPackage})},event_id:e.eventId})}}var Pt,Ut=[{keys:["identity_package","device_id"],type:"string",validator:function(t){return"string"==typeof t}},{keys:["identity_package","user_id"],type:"string",validator:function(t){return"string"==typeof t}},{keys:["identity_package","union_id"],type:"string",validator:function(t){return"string"==typeof t}},{keys:["identity_package","global_id"],type:"string",validator:function(t){return"string"==typeof t}},{keys:["app_package","product"],type:"number",validator:function(t){return"number"==typeof t}},{keys:["app_package","channel"],type:"string",validator:function(t){return"string"==typeof t}},{keys:["app_package","version_name"],type:"string",validator:function(t){return"string"==typeof t}},{keys:["app_package","package_name"],type:"string",validator:function(t){return"string"==typeof t}},{keys:["app_package","product_name"],type:"string",validator:function(t){return"string"==typeof t}},{keys:["app_package","platform"],type:"number",validator:function(t){return"number"==typeof t}},{keys:["experiment"],type:"Array",validator:function(t){return t instanceof Array}},{keys:["service_name"],type:"string",validator:function(t){return"string"==typeof t}},{keys:["sub_biz"],type:"string",validator:function(t){return"string"==typeof t}},{keys:["need_encrypt"],type:"boolean",validator:function(t){return"boolean"==typeof t}},{keys:["safety_id"],type:"string",validator:function(t){return"string"==typeof t}},{keys:["h5_extra_attr"],type:"Object",validator:function(t){return t instanceof Object}}];function Bt(t,e){for(var i={identity_package:{},network_package:{},app_package:{},experiment:[],service_name:"",safety_id:""},r=0,n=Ut;r<n.length;r++){var o=n[r],a=o.keys,s=o.validator,u=o.type,c=a[0],l=a[1],f=t[l||c];if(l?i[c][l]=t[l]:i[c]=t[c],void 0!==f&&!s(f))throw new Error(["There is an error init value on '"+(l||c)+"', ","the type should be '"+u+"', ","but your type is '"+typeof f+"'"].join(""))}return t.network_type&&(i.network_package=i.network_package||{},i.network_package.type=Lt[t.network_type]),new Rt(i,e)}!function(t){t[t.UNKNOWN_PAGE_TYPE=0]="UNKNOWN_PAGE_TYPE",t[t.NATIVE=1]="NATIVE",t[t.H5=2]="H5",t[t.MINA=3]="MINA"}(Pt||(Pt={}));var Ft,Kt,jt,Vt=function(){function t(t,e,i){var r,n;if(void 0===e&&(e="web"),void 0===i&&(i={}),"string"==typeof t){var o=function(t){void 0===t&&(t=location.href);var e=t.lastIndexOf("?");return-1===e?{page:t,params:void 0}:{page:t.slice(0,e),params:F(t.slice(e+1))}}(t);r=o.page,n=o.params}else r=(t||{}).page||"",n=(t||{}).params||{};if("function"==typeof i){var a=i({url:t,page:r,params:n});"string"==typeof a?r=a:"object"==typeof a&&(a.page&&(r=a.page),a.params&&(n=a.params))}else{var s=this._getMappingUrl(t,i);s&&(r=s)}switch(e){case"web":this.page_type=Pt.H5;break;case"native":this.page_type=Pt.NATIVE;break;case"mina":this.page_type=Pt.MINA;break;default:this.page_type=Pt.UNKNOWN_PAGE_TYPE}this.params=JSON.stringify(n),this.page=r,this.identity=j(r)}return t.prototype._getMappingUrl=function(t,e){var i="",r="";i="string"==typeof t?t:(t||{}).page||"";for(var n=Object.keys(e),o=0,a=n.length;o<a;o++){var s=n[o];if(i.indexOf(s)>-1){r=e[s];break}}return r},t}(),Ht={device_id:"",global_id:"",union_id:"",user_id:"",product:0,channel:"",version_name:"",package_name:"",product_name:"",network_type:"unknown",appType:Pt.H5,service_name:"",sub_biz:"",need_encrypt:!1,safety_id:"",experiment:[],h5_extra_attr:{}},qt=function(){function t(){this.events={}}return t.prototype.on=function(t,e){e&&"function"==typeof e&&(this.events[t]=this.events[t]||[],this.events[t].push(e))},t.prototype.off=function(t,e){this.events[t]&&(e&&"function"==typeof e&&D(this.events[t],e),e||(this.events[t]=[]))},t.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.events[t]&&this.events[t].forEach((function(t){t.apply(void 0,e)}))},t}(),Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(qt),zt={updateInterval:2e4,crashThreshold:1e4},Wt=function(t){function e(e,i){var r=t.call(this)||this;r.eventName="onpagehide"in window?"pagehide":"beforeunload",r.options=l({},zt),r.monitorId="@ks.monitor.crash",r.historyMoniorInfo=null,r.stop=function(){clearInterval(r.updateIntervalId);try{localStorage.removeItem(r.monitorId)}catch(t){}};try{var n=localStorage.getItem(r.monitorId);r.historyMoniorInfo=JSON.parse(n)||{}}catch(t){}return Object.assign(r.options,i),O(window,r.eventName,r.stop),r.on("crash",(function(t){e.sendImmediately("CUSTOM","crash",t)})),r.start(),r}return c(e,t),e.prototype.destroy=function(){this.stop(),this.off("crash"),R(window,this.eventName,this.stop)},e.prototype.checkHistoryCrash=function(){var t=(new Date).valueOf();this.historyMoniorInfo&&t-this.historyMoniorInfo.time>this.options.crashThreshold&&this.emit("crash",this.historyMoniorInfo)},e.prototype.start=function(){var t=this;this.checkHistoryCrash(),this.updateIntervalId=window.setInterval((function(){t.update()}),this.options.updateInterval),this.update()},e.prototype.update=function(){if(window.performance&&window.performance.memory){var t={time:(new Date).valueOf(),memory:{limit:window.performance.memory.jsHeapSizeLimit/1024,total:window.performance.memory.totalJSHeapSize/1024,used:window.performance.memory.usedJSHeapSize/1024}};try{localStorage.setItem(this.monitorId,JSON.stringify(t))}catch(t){}}},e.key="crachMonitor",e}(Gt),Xt={interval:1e4,decimals:2},Yt=function(t){function e(e,i){var r=t.call(this)||this;return r.options=l({},Xt),r.count=0,Object.assign(r.options,i),r.on("performance",(function(t){e.collect("CUSTOM","fps",{fps:t})})),r.start(),r}return c(e,t),e.prototype.destroy=function(){this.off("performance"),this.stop()},e.prototype.start=function(){this.loop(),this.fpsTick()},e.prototype.fpsTick=function(){var t=this;this.fpsTickId=function(t){return(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||P).call(this,t)}((function(){t.count++,t.fpsTick()}))},e.prototype.loop=function(){var t=this;this.loopBeginTime=(new Date).valueOf(),this.loopId=window.setTimeout((function(){t.loopEndTime=(new Date).valueOf();var e=t.calculate();t.emit("performance",e),t.count=0,t.loop()}),this.options.interval)},e.prototype.stop=function(){!function(t){(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||U).call(this,t)}(this.fpsTickId),window.clearTimeout(this.loopId)},e.prototype.calculate=function(){return+(1e3/((this.loopEndTime-this.loopBeginTime)/this.count)).toFixed(this.options.decimals)},e.key="fpsMonitor",e}(Gt),Qt="undefined"!=typeof window?window.performance:null,Jt=Qt&&Qt.timing||null,Zt=(Qt&&Qt.getEntriesByType&&Qt.getEntriesByType("navigation")[0],{dnsLookup:{end:"domainLookupEnd",start:"domainLookupStart"},tcpConnection:{end:"connectEnd",start:"connectStart"},resourceLoad:{end:"responseEnd",start:"requestStart"},jsCost:{custom:function(){if("function"!=typeof performance.getEntries)return 0;var t=performance.getEntries(),e=t[0],i=t.filter((function(t){return"script"===t.initiatorType}))[0];return i?e.domComplete-i.fetchStart:0}},documentContentLoaded:{end:"domComplete",start:"fetchStart"},load:{end:"loadEventEnd",start:"fetchStart"},timeToFirstByte:{end:"loadEventEnd",start:"fetchStart"},firstScreen:{custom:function(t,e){var i=(e||{}).endPoint,r=void 0!==i?i:(new Date).valueOf();return Jt&&r-Jt.fetchStart||0}},whiteScreen:{custom:function(t,e){var i=(e||{}).endPoint,r=void 0!==i?i:(new Date).valueOf();return Jt&&r-Jt.fetchStart||0}}}),$t=function(t){function e(e){var i=t.call(this)||this;return i.load=function(){setTimeout((function(){var t=i.collect();t&&["load","documentContentLoaded","dnsLookup","tcpConnection","jsCost","timeToFirstByte"].forEach((function(e){var r;"jsCost"===e&&0===t[e]||i.weblog.collect("CUSTOM",te[e],((r={})[te[e]]=t[e],r))}))}))},i.weblog=e,Jt?(O(window,"load",i.load),i.on("perf",(function(t){var e,r=t.key,n=t.data;i.weblog.collect("CUSTOM",te[r],((e={})[te[r]]=n[r],e))})),i):(xt("The Timing Monitor need performance APIs to Support!"),i)}return c(e,t),e.prototype.destroy=function(){R(window,"load",this.load),this.off("perf")},e.prototype.calculate=function(t,e){var i=Zt[t];if(!i)throw new Error("The perf key is not correct!");return"function"==typeof i.custom?i.custom(t,e):Jt[Zt[t].end]-Jt[Zt[t].start]},e.prototype.mark=function(t,e){var i=this.collect(t,e);this.emit("perf",{key:t,data:i})},e.prototype.collect=function(t,e){var i,r=this;if(Jt)return t?((i={})[t]=this.calculate(t,e),i):Object.keys(Zt).reduce((function(t,i){return t[i]=r.calculate(i,e),t}),{})},e.key="timingMonitor",e}(Gt),te={load:"total_download_cost",documentContentLoaded:"operational_cost",dnsLookup:"dns_query_cost",tcpConnection:"tcp_cost",jsCost:"js_cost",whiteScreen:"white_screen_cost",firstScreen:"first_screen_cost",timeToFirstByte:"ttfb_cost"},ee=function(){var t="undefined"!=typeof window?window.performance:null;if(t&&t.timing){if("function"==typeof t.timing.toJSON){var e=t.timing.toJSON();return e&&!e.redirectStart&&(e.redirectStart=e.navigationStart),e}return t.timing}return null};!function(t){t.LOAD="load",t.RES="resource",t.API="api",t.ERROR="error",t.SDK_ERROR="sdk_error",t.CUSTOM="custom",t.BATCH="batch"}(Ft||(Ft={})),function(t){t.LOAD="load_statistics",t.RES="resource_statistics",t.API="api_statistics",t.ERROR="error_statistics",t.SDK_ERROR="sdk_error",t.CUSTOM="custom_statistics"}(Kt||(Kt={})),function(t){t.SCRIPT="script",t.RES="res",t.API="api",t.VIDEO="video"}(jt||(jt={}));var ie={redirect:{end:"fetchStart",start:"navigationStart"},dns:{end:"domainLookupEnd",start:"domainLookupStart"},dns_start:{end:"domainLookupEnd",start:"navigationStart"},tcp:{end:"connectEnd",start:"connectStart"},tcp_start:{end:"connectEnd",start:"navigationStart"},redirect_count:{custom:function(t,e){return e.redirectCount}},ssl:{custom:function(t,e){return 0===e.secureConnectionStart?null:e.connectEnd-e.secureConnectionStart}},ssl_start:{custom:function(t,e){return 0===e.secureConnectionStart?null:e.secureConnectionStart-e.redirectStart}},ttfb:{end:"responseStart",start:"requestStart"},trans:{end:"responseEnd",start:"responseStart"},dom_parse:{end:"domInteractive",start:"responseEnd"},dom_parse_start:{end:"domInteractive",start:"navigationStart"},blank:{end:"domLoading",start:"navigationStart"},fb:{end:"responseStart",start:"navigationStart"},dom_ready:{end:"domContentLoadedEventEnd",start:"navigationStart"},total:{end:"loadEventStart",start:"navigationStart"},resource:{end:"loadEventStart",start:"domContentLoadedEventEnd"},fp:{custom:function(){if("function"!=typeof performance.getEntries)return null;var t=performance.getEntries().filter((function(t){return"first-paint"===t.name}))[0];return t?Math.ceil(t.startTime+t.duration):null}},js_cost:{custom:function(){if("function"!=typeof performance.getEntries)return null;var t=ee(),e=performance.getEntries(),i=performance.getEntries().filter((function(t){return"navigation"===t.initiatorType}))[0],r=e.filter((function(t){return"script"===t.initiatorType}))[0],n=i?i.domComplete:t.domComplete-t.navigationStart;return r&&n?n-r.fetchStart:null}},tti:{end:"domInteractive",start:"navigationStart"},protocol:{custom:function(t,e){return e.nextHopProtocol}}},re={fetch_start:{custom:function(t,e){return Math.round(e.fetchStart)}},dns:{end:"domainLookupEnd",start:"domainLookupStart",cachedSkip:!0},tcp:{end:"connectEnd",start:"connectStart",cachedSkip:!0},ssl:{cachedSkip:!0,custom:function(t,e){return 0===e.secureConnectionStart?null:e.connectEnd-e.secureConnectionStart}},ttfb:{end:"responseStart",start:"requestStart",cachedSkip:!0},trans:{end:"responseEnd",start:"responseStart",cachedSkip:!0},fb:{end:"responseStart",start:"fetchStart",cachedSkip:!0},total:{end:"responseEnd",start:"fetchStart"},size:{cachedSkip:!0,custom:function(t,e){return e.encodedBodySize},noThrottle:!0},protocol:{custom:function(t,e){return e.nextHopProtocol}},file:{custom:function(t,e){return e.name},noThrottle:!0},res_type:{custom:function(t,e){return e.initiatorType}},cached:{custom:function(t,e){return 0===e.transferSize||null==e.transferSize&&0===e.domainLookupStart},noThrottle:!0}},ne=["//wlog.kuaishou.com/rest/n/log/web/collect","/rest/wd/common/log/collect/misc2"],oe=/^(https?:)?\/\//;function ae(t,e){if(!t)return!1;var i=t.replace(oe,"");return e.some((function(t){return i.indexOf(t)>=0}))}var se={};function ue(t){var e=se[t];e?e.endTime||(e.endTime=(new Date).getTime(),e.duration=e.endTime-e.startTime):se[t]={startTime:(new Date).getTime()}}var ce,le,fe=function(){return"".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)},de=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return{name:t,value:e,delta:0,entries:[],id:fe(),isFinal:!1}},he=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var i=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return i.observe({type:t,buffered:!0}),i}}catch(t){}},pe=!1,_e=!1,ve=function(t){pe=!t.persisted},me=function(){addEventListener("pagehide",ve),addEventListener("beforeunload",(function(){}))},ge=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_e||(me(),_e=!0),addEventListener("visibilitychange",(function(e){var i=e.timeStamp;"hidden"===document.visibilityState&&t({timeStamp:i,isUnloading:pe})}),{capture:!0,once:e})},ye=function(t,e,i,r){var n;return function(){i&&e.isFinal&&i.disconnect(),e.value>=0&&(r||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(n||0),(e.delta||e.isFinal||void 0===n)&&(t(e),n=e.value))}},Ee=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=de("CLS",0),n=function(t){t.hadRecentInput||(r.value+=t.value,r.entries.push(t),e())},o=he("layout-shift",n);o&&(e=ye(t,r,o,i),ge((function(t){var i=t.isUnloading;o.takeRecords().map(n),i&&(r.isFinal=!0),e()})))},we=function(){return void 0===ce&&(ce="hidden"===document.visibilityState?0:1/0,ge((function(t){var e=t.timeStamp;return ce=e}),!0)),{get timeStamp(){return ce}}},Ae=function(t){var e=de("FID"),i=we(),r=function(t){t.startTime<i.timeStamp&&(e.value=t.processingStart-t.startTime,e.entries.push(t),e.isFinal=!0,o())},n=he("first-input",r),o=ye(t,e,n);n?ge((function(){n.takeRecords().map(r),n.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,r){r.timeStamp<i.timeStamp&&(e.value=t,e.isFinal=!0,e.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+t}],o())}))},be=function(){return le||(le=new Promise((function(t){return["scroll","keydown","pointerdown"].map((function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})}))}))),le},Se=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=de("LCP"),n=we(),o=function(t){var i=t.startTime;i<n.timeStamp?(r.value=i,r.entries.push(t)):r.isFinal=!0,e()},a=he("largest-contentful-paint",o);if(a){e=ye(t,r,a,i);var s=function(){r.isFinal||(a.takeRecords().map(o),r.isFinal=!0,e())};be().then(s),ge(s,!0)}},Te=["KUAISHOU","THANOS","NEBULA"],xe=function(t){function e(e,i){var r=t.call(this)||this;return r.kpn=G(),r.plugins=[],r.logQueue=[],r.queueConfig={wait:1500,maxBatchLength:200},r.batchTimer=0,r.startedLoadReport=!1,r.radarSessionId="",r.isInKwai=Te.indexOf(r.kpn)>=0,r.isUsingBridge=null,r.isUsingLegacy=null,r.isUsingDetachedReport=null,r.isSupportedYodaConcat=null,r.customDimension={},r.observeResource=function(t){t.getEntriesByType("resource").forEach((function(t){return r.reportPerformance(t)}))},r.observerLcp=function(t){t.getEntries().forEach((function(t){r.reportPerformance(t)}))},r.asyncReportTiming=function(){ue("radarCreated-onload"),ue("onload-firstReport"),setTimeout((function(){ue("inSettimeout"),r.reportPerformance(ee()),r.startedLoadReport=!0;try{r.observeResource(performance),Ae((function(t){r.logCollect({key:Ft.LOAD,value:{FID:t.value}})})),Ee((function(t){r.logCollect({key:Ft.LOAD,value:{CLS:t.value}})})),Se((function(t){r.logCollect({key:Ft.LOAD,value:{LCP:t.value}})})),new PerformanceObserver(r.observeResource).observe({entryTypes:["resource"]})}catch(t){Tt("[Radar] 由于不支持 Performance API Level 2，只进行请求监控和异常监控")}ue("inSettimeout"),ue("radarCreated-firstReport"),ue("onload-firstReport"),r.logCollect({key:Ft.CUSTOM,value:{radar_cost:se}})}),1e3)},ue("radarCreated-firstReport"),ue("radarCreated-onload"),r.weblog=e,r.options=i,r.queueConfig=l(l({},r.queueConfig),r.options?r.options.queue:{}),r}return c(e,t),e.prototype.use=function(t,e){this.plugins.push(new t(e,this.options))},e.prototype.created=function(){this.register(),this.plugins.forEach((function(t){t.created()}))},e.prototype.destroy=function(){R(window,"load",this.asyncReportTiming),this.plugins.forEach((function(t){t.destroy()}))},e.prototype.register=function(){return d(this,void 0,void 0,(function(){var t,e,i;return h(this,(function(r){switch(r.label){case 0:return ee()?(O(window,"load",this.asyncReportTiming),(t=this.weblog.bridge)?[3,1]:(this.isUsingBridge=!1,this.isSupportedYodaConcat=!1,this.isUsingLegacy=!1,[3,6])):(Tt("[Radar] 由于不支持 Performance API，只进行请求监控和异常监控"),[2]);case 1:return null!=this.isUsingBridge?[3,3]:(e=this,[4,this.detectIsUsingBridge(t)]);case 2:e.isUsingBridge=r.sent(),r.label=3;case 3:return null!=this.isSupportedYodaConcat?[3,5]:(i=this,[4,this.detectIsSupportedYodaConcat(t)]);case 4:i.isSupportedYodaConcat=r.sent(),r.label=5;case 5:this.isUsingLegacy=this.isUsingBridge&&!this.isSupportedYodaConcat,r.label=6;case 6:return this.radarSessionId=this.nanoId(),this.isUsingDetachedReport=this.isInKwai&&!this.isUsingBridge||this.isUsingLegacy,[2]}}))}))},e.prototype.throttle=function(t,e,i,r){if(void 0===r&&(r={}),e.noThrottle||"number"!=typeof t)return t;var n=r.startPoint,o=r.endPoint;if(t>6e4||t<0){var a="["+i+" 异常]: "+t+"，原始数据为："+e.end+": "+o+" - "+e.start+": "+n;return this.logCollect({key:Ft.SDK_ERROR,value:{msg:a}}),null}return Math.round(t)},e.prototype.reportPerformance=function(t){this.plugins.forEach((function(e){e.when(t)&&e.onPerfReport(t)}))},e.prototype.calculate=function(t,e,i){var r=e[t];if(r){if(r.cachedSkip&&this.calculate("cached",e,i))return;if("function"==typeof r.custom){var n=r.custom(t,i);return this.throttle(n,r,t)}var o=r.end,a=r.start,s=+i[o],u=+i[a],c=s-u;return this.throttle(c,r,t,{startPoint:u,endPoint:s})}xt("perf key "+t+" is unexpected!")},e.prototype.generateLog=function(t,e){var i=this,r={};return Object.keys(t).forEach((function(n){var o=n,a=i.calculate(o,t,e);null!=a&&(r[o]=a)})),r},e.prototype.detectIsUsingBridge=function(t){return d(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return t&&"function"==typeof t.isSupportBridgeLogger?[4,t.isSupportBridgeLogger()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,!1]}}))}))},e.prototype.detectIsSupportedYodaConcat=function(t){return d(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return t&&"function"==typeof t.isSupportBridgeLogger?[4,t.isSupportBridgeLogger("sendRadarLog")]:[3,2];case 1:return[2,e.sent()];case 2:return[2,!1]}}))}))},e.prototype.subDimension=function(t){this.customDimension&&(t.dimension||(t.dimension={}),Object.assign(t.dimension,this.customDimension))},e.prototype.nanoId=function(){for(var t=1e9*Math.random()>>>0,e=[],i=0;i<7;i++)e.push("0123456789ABCDEF".charAt(16*Math.random()));return t+e.join("")},e.prototype.flush=function(){if(this.options&&this.startedLoadReport){var t={project_id:this.options.projectId,app_version_name:b("appver")||"",radar_session_id:this.radarSessionId,dom_num:document.all.length};this.weblog.collect("RADAR","radar_log",l(l({currentUrlPackage:this.currentUrlPackage},t),{data:this.logQueue})),this.logQueue=[]}},e.prototype.decorateLog=function(t){this.currentUrlPackage||(this.currentUrlPackage=this.weblog.currentUrlPackage),this.customDimension&&this.subDimension(t),this.currentUrlPackage.page!==this.weblog.currentUrlPackage.page&&(this.flush(),this.currentUrlPackage=this.weblog.currentUrlPackage)},e.prototype.logCollect=function(t){var e=this;this.options&&(this.batchTimer&&clearTimeout(this.batchTimer),this.decorateLog(t),this.logQueue.push(t),this.logQueue.length>this.queueConfig.maxBatchLength?this.flush():this.batchTimer=window.setTimeout((function(){e.flush()}),this.queueConfig.wait))},e}(Gt),Le=function(t){this.radar=t},Ce=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="navigation",e.eventName="onpagehide"in window?"pagehide":"beforeunload",e.logData={},e.logSended=!1,e.record={fmp:!1,base:!1},e.reportOnUnload=function(t){e.logSended||e.radar.isSupportedYodaConcat||(e.logSended=!0,e.reportFirstScreen(e.logData),e.radar.logCollect(e.data),"noflash"!==t&&(e.radar.flush(),e.radar.weblog.flush()))},e}return c(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.sepDimension({key:Ft.LOAD,value:this.logData})},enumerable:!1,configurable:!0}),e.prototype.created=function(){return d(this,void 0,void 0,(function(){var t=this;return h(this,(function(e){return this.radar.isUsingDetachedReport&&(this.delay=setTimeout((function(){return t.reportOnUnload("noflash")}),1e4)),O(window,this.eventName,this.reportOnUnload),[2]}))}))},e.prototype.when=function(t){if(t.custom){var e=(t.entry||{}).key;return["fmp","play_clicked","play_idr"].indexOf(e)>-1}return!t.entryType||"navigation"===t.entryType},e.prototype.onPerfReport=function(t){return d(this,void 0,void 0,(function(){var e,i,r,n,o;return h(this,(function(a){return t.custom?(e=t.entry)&&(i=e.key,r=e.value,Object.assign(this.logData,((o={})[i]=r,o)),"fmp"===i&&(this.record.fmp=!0)):(n=this.radar.generateLog(ie,t),Object.assign(this.logData,n),this.record.base=!0),this.radar.isSupportedYodaConcat?this.radar.logCollect(this.data):this.radar.isUsingDetachedReport&&this.record.fmp&&this.record.base&&this.reportOnUnload("noflash"),[2]}))}))},e.prototype.destroy=function(){clearTimeout(this.delay),R(window,this.eventName,this.reportOnUnload)},e.prototype.sepDimension=function(t){var e=t.key,i=t.value,r=i.protocol;return{key:e,value:f(i,["protocol"]),dimension:{protocol:r}}},e.prototype.reportFirstScreen=function(t){if(t.play_clicked&&t.play_idr){var e=t.play_idr-t.play_clicked;e>0&&e<6e4&&(this.logData.play_first_screen=e)}},e}(Le),Ie=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="resource",e}return c(e,t),e.prototype.created=function(){},e.prototype.when=function(t){return!ae(t.name,this.radar.ignoreList)&&"resource"===t.entryType},e.prototype.onPerfReport=function(t){var e=this.radar.generateLog(re,t);this.radar.logCollect(this.sepDimension({key:Ft.RES,value:e}))},e.prototype.destroy=function(){},e.prototype.sepDimension=function(t){var e=t.key,i=t.value,r=i.protocol,n=i.file,o=i.cached,a=i.res_path,s=i.failed,u=i.res_type;return{key:e,value:f(i,["protocol","file","cached","res_path","failed","res_type"]),dimension:{protocol:r,file:n,cached:o,failed:s,res_path:a,res_type:u}}},e}(Le),De=_((function(t){(function(e,i){var r,n,o,a,s,u,c,l,f,d,h,_,v,m,g,y,E,w,A,b,S,T,x,L,C,I,D=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};d=null,d="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:void 0!==p?p:e,E=d.document,l="addEventListener",c="removeEventListener",o="dispatchEvent",m="XMLHttpRequest",f=["load","loadend","loadstart"],r=["progress","abort","error","timeout"],L="undefined"!=typeof navigator&&navigator.useragent?navigator.userAgent:"",b=parseInt((/msie (\d+)/.exec(L.toLowerCase())||[])[1]),isNaN(b)&&(b=parseInt((/trident\/.*; rv:(\d+)/.exec(L.toLowerCase())||[])[1])),(I=Array.prototype).indexOf||(I.indexOf=function(t){var e,i,r;for(e=i=0,r=this.length;i<r;e=++i)if(this[e]===t)return e;return-1}),x=function(t,e){return Array.prototype.slice.call(t,e)},y=function(t){return"returnValue"===t||"totalSize"===t||"position"===t},A=function(t,e){var i;for(i in t)if(t[i],!y(i))try{e[i]=t[i]}catch(t){}return e},S=function(t){return void 0===t?null:t},T=function(t,e,i){var r,n,a,s;for(n=function(t){return function(r){var n,a,s;for(a in n={},r)y(a)||(s=r[a],n[a]=s===e?i:s);return i[o](t,n)}},a=0,s=t.length;a<s;a++)r=t[a],i._has(r)&&(e["on"+r]=n(r))},w=function(t,e){var i,r,n;if(E&&null!=E.createEventObject)return(r=E.createEventObject()).type=t,r;try{return i=new Event(t),e.target?((n=Object.assign({},i)).target=e.target,n):i}catch(e){return{type:t}}},(C=(n=function(t){var e,r,n;return r={},n=function(t){return r[t]||[]},(e={})[l]=function(t,e,o){r[t]=n(t),r[t].indexOf(e)>=0||(o=o===i?r[t].length:o,r[t].splice(o,0,e))},e[c]=function(t,e){var o;t!==i?(e===i&&(r[t]=[]),-1!==(o=n(t).indexOf(e))&&n(t).splice(o,1)):r={}},e[o]=function(){var i,r,o,a,s,u,c;for(r=(i=x(arguments)).shift(),(!t||i[0]instanceof Event)&&(i[0]=A(i[0],w(r,i[0]||{}))),(a=e["on"+r])&&a.apply(e,i),o=s=0,u=(c=n(r).concat(n("*"))).length;s<u;o=++s)c[o].apply(e,i)},e._has=function(t){return!(!r[t]&&!e["on"+t])},t&&(e.listeners=function(t){return x(n(t))},e.on=e[l],e.off=e[c],e.fire=e[o],e.once=function(t,i){var r;return r=function(){return e.off(t,r),i.apply(null,arguments)},e.on(t,r)},e.destroy=function(){return r={}}),e})(!0)).EventEmitter=n,C.before=function(t,e){if(t.length<1||t.length>2)throw"invalid hook";return C[l]("before",t,e)},C.after=function(t,e){if(t.length<2||t.length>3)throw"invalid hook";return C[l]("after",t,e)},C.enable=function(){d[m]=v,"function"==typeof h&&(d.fetch=h),s&&(d.FormData=_)},C.disable=function(){d[m]=C[m],d.fetch=C.fetch,s&&(d.FormData=s)},g=C.headers=function(t,e){var i,r,n,o,a,s,u,c,l;switch(null==e&&(e={}),typeof t){case"object":for(n in r=[],t)a=t[n],o=n.toLowerCase(),r.push(o+":\t"+a);return r.join("\n")+"\n";case"string":for(u=0,c=(r=t.split("\n")).length;u<c;u++)i=r[u],/([^:]+):\s*(.+)/.test(i)&&(o=null!=(l=RegExp.$1)?l.toLowerCase():void 0,s=RegExp.$2,null==e[o]&&(e[o]=s));return e}},s=d.FormData,_=function(t){var e,i;this.fd=t?new s(t):new s,this.form=t,e=[],Object.defineProperty(this,"entries",{get:function(){return(t?x(t.querySelectorAll("input,select")).filter((function(t){var e;return"checkbox"!==(e=t.type)&&"radio"!==e||t.checked})).map((function(t){return[t.name,"file"===t.type?t.files:t.value]})):[]).concat(e)}}),this.append=(i=this,function(){var t;return t=x(arguments),e.push(t),i.fd.append.apply(i.fd,t)})},s&&(C.FormData=s,d.FormData=_),u=d[m],C[m]=u,v=d[m]=function(){var t,e,i,a,s,u,c,d,h,p,v,y,E,w,x,L,I,O,R,k;I=new C[m],E=null,u=void 0,w=void 0,v=void 0,h=function(){var t,e,i,r;if(v.status=E||I.status,-1===E&&b<10||(v.statusText=I.statusText),-1!==E)for(t in r=g(I.getAllResponseHeaders()))i=r[t],v.headers[t]||(e=t.toLowerCase(),v.headers[e]=i)},d=function(){if(I.responseType&&"text"!==I.responseType)"document"===I.responseType?(v.xml=I.responseXML,v.data=I.responseXML):v.data=I.response;else{v.text=I.responseText,v.data=I.responseText;try{v.xml=I.responseXML}catch(t){}}"responseURL"in I&&(v.finalUrl=I.responseURL)},L=function(){s.status=v.status,s.statusText=v.statusText},x=function(){"text"in v&&(s.responseText=v.text),"xml"in v&&(s.responseXML=v.xml),"data"in v&&(s.response=v.data),"finalUrl"in v&&(s.responseURL=v.finalUrl)},i=function(i,r){for(;i>t&&t<4;)s.readyState=++t,1===t&&s[o]("loadstart",{}),2===t&&L(),4===t&&(L(),x()),s[o]("readystatechange",r||{}),4===t&&(!1===p.async?e():setTimeout(e,0))},e=function(){u||s[o]("load",{}),s[o]("loadend",{}),u&&(s.readyState=0)},t=0,y=function(t,e){var r,n;4===t?(r=C.listeners("after"),(n=function(){var t;return r.length?2===(t=r.shift()).length?(t(p,v),n()):3===t.length&&p.async?t(p,v,n):n():i(4,e)})()):i(t,e)},s=(p={}).xhr=n(),I.onreadystatechange=function(t){try{2===I.readyState&&h()}catch(t){}4===I.readyState&&(w=!1,h(),d()),y(I.readyState,t)},c=function(){u=!0},s[l]("error",c),s[l]("timeout",c),s[l]("abort",c),s[l]("progress",(function(){t<3?y(3):s[o]("readystatechange",{target:I})})),("withCredentials"in I||C.addWithCredentials)&&(s.withCredentials=!1),s.status=0;for(O=0,R=(k=r.concat(f)).length;O<R;O++)a=k[O],s["on"+a]=null;return s.open=function(e,i,r,n,o){t=0,u=!1,w=!1,p.headers={},p.headerNames={},p.status=0,(v={}).headers={},p.method=e,p.url=i,p.async=!1!==r,p.user=n,p.pass=o,y(1)},s.send=function(t){var e,i,n,o,a,u,c,l;for(u=0,c=(l=["type","timeout","withCredentials"]).length;u<c;u++)(n="type"===(i=l[u])?"responseType":i)in s&&(p[i]=s[n]);p.body=t,a=function(){var t,e,o,a,u,c;for(T(r,I,s),s.upload&&T(r.concat(f),I.upload,s.upload),w=!0,I.open(p.method,p.url,p.async,p.user,p.pass),o=0,a=(u=["type","timeout","withCredentials"]).length;o<a;o++)n="type"===(i=u[o])?"responseType":i,i in p&&(I[n]=p[i]);for(t in c=p.headers)e=c[t],t&&I.setRequestHeader(t,e);p.body instanceof _&&(p.body=p.body.fd),I.send(p.body)},e=C.listeners("before"),(o=function(){var t,i;return e.length?((t=function(t){if("object"==typeof t&&("number"==typeof t.status||"number"==typeof v.status))return A(t,v),D.call(t,"data")<0&&(t.data=t.response||t.text),void y(4);o()}).head=function(t){return A(t,v),y(2)},t.progress=function(t){return A(t,v),y(3)},1===(i=e.shift()).length?t(i(p)):2===i.length&&p.async?i(p,t):t()):a()})()},s.abort=function(){E=-1,w?I.abort():s[o]("abort",{})},s.setRequestHeader=function(t,e){var i,r;i=null!=t?t.toLowerCase():void 0,r=p.headerNames[i]=p.headerNames[i]||t,p.headers[r]&&(e=p.headers[r]+", "+e),p.headers[r]=e},s.getResponseHeader=function(t){var e;return e=null!=t?t.toLowerCase():void 0,S(v.headers[e])},s.getAllResponseHeaders=function(){return S(g(v.headers))},I.overrideMimeType&&(s.overrideMimeType=function(){return I.overrideMimeType.apply(I,arguments)}),I.upload&&(s.upload=p.upload=n()),s.UNSENT=0,s.OPENED=1,s.HEADERS_RECEIVED=2,s.LOADING=3,s.DONE=4,s.response="",s.responseText="",s.responseXML=null,s.readyState=0,s.statusText="",s},"function"==typeof d.fetch&&(a=d.fetch,C.fetch=a,h=d.fetch=function(t,e){var i,r,n;return null==e&&(e={headers:{}}),e.url=t,n=null,t instanceof Request&&(n=t,e.url=n.url),r=C.listeners("before"),i=C.listeners("after"),new Promise((function(o,s){var u,c,l,f,d;c=function(){return e.body instanceof _&&(e.body=e.body.fd),e.headers&&(e.headers=new Headers(e.headers)),n||(n=new Request(e.url,e)),A(e,n)},l=function(t){var e;return i.length?2===(e=i.shift()).length?(e(c(),t),l(t)):3===e.length?e(c(),t,l):l(t):o(t)},u=function(t){var e;if(void 0!==t)return e=new Response(t.body||t.text,t),o(e),void l(e);f()},f=function(){var t;if(r.length)return 1===(t=r.shift()).length?u(t(e)):2===t.length?t(c(),u):void 0;d()},d=function(){return a(t,e).then((function(t){return l(t)})).catch((function(t){return l(t),s(t)}))},f()}))}),v.UNSENT=0,v.OPENED=1,v.HEADERS_RECEIVED=2,v.LOADING=3,v.DONE=4,"function"==typeof i&&i.amd?i("xhook",[],(function(){return C})):t.exports?t.exports={xhook:C}:d&&(d.xhook=C)}).call(p,window)})).xhook;De.disable();var Oe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.queue=[],e.xhrLog=[],e.key="api",e.logList=[],e.perfList=[],e.beforeHook=function(t){if(!ae(t.url,e.radar.ignoreList)){var i={api:e.requestURLCompletion(t.url),method:t.method,request:t,startTime:Date.now()};e.queue.push(i)}},e.afterHook=function(t,i){var r,n=e.queue.filter((function(e){return e.request?e.request.url===t.url:e.api===t.url}))[0];if(n){delete n.request;var o=n.startTime,a=f(n,["startTime"]),s="function"==typeof(r=i.headers).get?+r.get("Content-Length")||0:+r["content-length"]||0,u=l({duration:Date.now()-o,total:Date.now()-o,status:i.status,size:+s},a);"string"==typeof i.text&&(u.responseData=i.text),e.isResponseError(i)?e.radar.logCollect(e.sepDimension({key:Ft.API,value:u})):(e.logList.push(u),e.mergeAPIPerf(null,u)),e.queue=e.queue.filter((function(e){return e.request!==t}))}},e}return c(e,t),e.prototype.when=function(t){return!ae(t.name,this.radar.ignoreList)&&"resource"===t.entryType&&("fetch"===t.initiatorType||"xmlhttprequest"===t.initiatorType)},e.prototype.onPerfReport=function(t){var e=this.radar.generateLog(re,t);this.perfList.push(e),this.mergeAPIPerf(l(l({},e),{api:e.file}))},e.prototype.mergeAPIPerf=function(t,e){var i=t||e,r=t?this.logList:this.perfList;if(i){for(var n=-1,o=0,a=r.length;o<a;o++){var s=r[o],u=(i.api||"").replace(/\?.+$/,""),c=(s.api||"").replace(/\?.+$/,""),l=i.size;u===c&&(Object.assign(i,s),delete i.file,l&&(i.size=l),!i.size&&i.responseData&&(i.size=H(i.responseData)),delete i.responseData,n=o)}-1!==n&&(r.splice(n,1),this.radar.logCollect(this.sepDimension({key:Ft.API,value:i})))}},e.prototype.sepDimension=function(t){var e=t.key,i=t.value,r=i.protocol,n=i.cached,o=i.status,a=i.api,s=i.method;return{key:e,value:f(i,["protocol","cached","status","api","method"]),dimension:{protocol:r,api:a,status:o,cached:n,method:s}}},e.prototype.requestURLCompletion=function(t){var e=document.location,i=e.protocol,r=e.host;return 0===t.indexOf("//")?i+t:0===t.indexOf("/")?i+"//"+r+t:t},e.prototype.isResponseError=function(t){return 0===t.status},e.prototype.created=function(){De.disable();var t=window.FormData;De.before(this.beforeHook),De.after(this.afterHook),De.enable(),window.FormData=t},e.prototype.destroy=function(){De.disable()},e}(Le),Re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="error",e.onResError=function(t){var i,r=e.isScriptError(t),n=t.error;if(r){var o={error_type:jt.SCRIPT,error_cons_type:t.type,msg:t.message||t.reason,stack:n?n.stack:null,file:t.filename,line:t.lineno,col:t.colno};e.collect(o)}else e.radar.logCollect(e.sepDimension({key:Ft.RES,value:{failed:!0,file:t.target.src,cached:!1,res_path:(i=t.path||t.composedPath&&t.composedPath(),i?i.map((function(t){var e=t.tagName,i=void 0===e?"":e,r=t.id,n=t.className,o=i.toLowerCase();return r&&(o+="#"+r),n&&(o+=n.split(" ").map((function(t){return"."+t})).join("")),o})).filter((function(t){return t})).join(","):"")}}))},e.onPromiseError=function(t){var i=t.reason&&t.reason.message||"",r={error_type:jt.SCRIPT,error_cons_type:t.type,msg:i};e.collect(r)},e}return c(e,t),e.prototype.when=function(t){if(t.custom){var e=(t.entry||{}).key;if(["play_block","play_error"].indexOf(e)>-1)return!0}return!1},e.prototype.onPerfReport=function(t){if(t.custom){var e=t.entry||{},i=e.key,r=e.value;this.collect({error_type:jt.VIDEO,error_cons_type:i,msg:r})}},e.prototype.sepDimension=function(t){var e=t.key;if("error"===e){var i=t.value,r=i.file,n=i.error_cons_type,o=i.error_type,a=i.msg,s=i.col,u=i.line;return{key:e,value:f(i,["file","error_cons_type","error_type","msg","col","line"]),dimension:{error_cons_type:n,file:r,error_type:o,msg:a,col:s,line:u}}}var c=t.value,l=c.protocol,d=c.file,h=c.cached,p=c.res_path,_=c.failed,v=c.res_type;return{key:e,value:f(c,["protocol","file","cached","res_path","failed","res_type"]),dimension:{protocol:l,file:d,cached:h,failed:_,res_path:p,res_type:v}}},e.prototype.collect=function(t){this.radar.logCollect(this.sepDimension({key:Ft.ERROR,value:t}))},e.prototype.isScriptError=function(t){return t.message||null!=t.lineno},e.prototype.created=function(){O(window,"error",this.onResError,!0),O(window,"unhandledrejection",this.onPromiseError)},e.prototype.destroy=function(){R(window,"error",this.onResError,!0),R(window,"unhandledrejection",this.onPromiseError)},e}(Le),ke=["play_block","play_error"],Ne=["c_dimension1","c_dimension2","c_dimension3"],Me=function(t){function e(e,i){var r,n=t.call(this,e,i)||this;return n.customReported=[],n.ignoreList=(r=n.options&&n.options.ignoreList,void 0===r&&(r=[]),r.concat(ne).map((function(t){return t.replace(oe,"")}))).concat(e.logger.url),n.validOption()?(n.use(Ce,n),n.use(Ie,n),i&&i.unuseAPIPlugin||n.use(Oe,n),i&&i.unuseErrorPlugin||n.use(Re,n),t.prototype.created.call(n),n):n}return c(e,t),e.samplingControl=function(t){if(!t)return!1;var e=t.sampling;return Math.random()<e},e.prototype.collect=function(t,e){0===t.indexOf("c_")?this.logCollect({key:Ft.CUSTOM,value:{metric_value:e},dimension:{metric_name:t}}):xt("[Radar] 传入的自定义指标 "+t+" 必须为 c_ 开头")},e.prototype.reportTimePoint=function(t,e){if(this.customReported.indexOf(t)>-1)return null;-1===ke.indexOf(t)&&this.customReported.push(t);var i=e;if("string"!=typeof e){var r=function(t){var e="undefined"!=typeof window?window.performance:null;if(!e)return{value:null};if(null!=t)return{value:t-e.timing.navigationStart,detail:{start:"navigationStart",startPoint:e.timing.navigationStart,end:"customTime",endPoint:t}};if("function"==typeof e.now)return{value:e.now(),detail:{start:"navigationStart",startPoint:e.timing.navigationStart,end:"perfNowAPI",endPoint:e.now()}};var i=Date.now();return{value:i-e.timing.navigationStart,detail:{start:"navigationStart",startPoint:e.timing.navigationStart,end:"dateNow",endPoint:i}}}(e);if(null==r.value)return;i=this.throttle(r.value,r.detail,"fmp",r.detail)}return null!=i?(this.reportPerformance({custom:!0,entry:{key:t,value:i}}),i):void 0},e.prototype.fmp=function(t){var e=this.reportTimePoint("fmp",t);if(e){try{performance.timing&&(performance.timing.fmp=e)}catch(t){}var i=F(location.search.slice(1));1!=+b("debug")&&1!=+i.debug||console.warn("[radar] fmp: ",e),this.logCollect({key:Ft.CUSTOM,value:{fmp:e,merge:!0}})}},e.prototype.playClicked=function(t){this.reportTimePoint("play_clicked",t)},e.prototype.playIDR=function(t){this.reportTimePoint("play_idr",t)},e.prototype.playBlock=function(t){this.reportTimePoint("play_block",t)},e.prototype.playError=function(t){this.reportTimePoint("play_error",t)},e.prototype.setDimensions=function(t){var e=this,i=Object.keys(t);i.some((function(t){return-1===Ne.indexOf(t)}))&&xt("[Radar] 传入的自定义维度只能为 "+Ne.join("、")+"，目前传入的是："+i.join("、")),i.forEach((function(i){var r=i;null==t[r]?delete e.customDimension[r]:e.customDimension[r]=t[r]}))},e.prototype.validOption=function(){if(!this.options)return!1;var t=this.options,e=t.sampling;return"string"!=typeof t.projectId?(xt("[Radar] 必须配置 projectId 属性"),!1):!(e>1||e<0)||(xt("[Radar] 采样率 sampling 必须在 0~1 之间"),!1)},e.key="radar",e}(xe),Pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.fmp=function(){},e.prototype.playClicked=function(){},e.prototype.playIDR=function(){},e.prototype.playBlock=function(){},e.prototype.playError=function(){},e.prototype.setDimensions=function(){},e.prototype.destroy=function(){},e.key="radar",e}(Gt),Ue=function(t){function e(e,i){var r=t.call(this)||this;return r.oldPushState=history.pushState,r.oldReplaceState=history.replaceState,r.beginTime=Jt&&Jt.fetchStart||(new Date).valueOf(),r.visibilityChange=function(){r.autoPVFilter(location.href,null)&&("hidden"===document.visibilityState&&r.weblog.collect("PV",{type:"hidden",beginTime:r.beginTime,auto:!0}),"visible"===document.visibilityState&&r.weblog.collect("PV",{type:"visible",beginTime:r.beginTime,auto:!0}))},r.proxyPushState=function(t,e,i){return r.urlChange(),r.oldPushState.call(history,t,e,i)},r.proxyReplaceState=function(t,e,i){return r.urlChange(),r.oldReplaceState.call(history,t,e,i)},r.urlChange=function(){setTimeout((function(){if(!r.autoPVFilter(location.href,r.weblog.currentUrl))return!1;r.weblog.collect("PV",{type:"leave",beginTime:r.beginTime,auto:!0}),r.weblog.updateCurrentUrlPackage(location.href),r.weblog.collect("PV",{type:"enter",beginTime:r.beginTime,auto:!0}),r.beginTime=(new Date).valueOf()}))},r.autoPVFilter=i||function(){return!0},r.weblog=e,r.autoPVFilter(location.href,null)&&r.weblog.collect("PV",{type:"enter",beginTime:r.beginTime,auto:!0}),history.pushState=r.proxyPushState,history.replaceState=r.proxyReplaceState,O(window,B()?"popstate":"hashchange",r.urlChange),O(document,"visibilitychange",r.visibilityChange),r}return c(e,t),e.prototype.destroy=function(){this.weblog.sendImmediately("PV",{type:"leave",auto:!0}),R(window,B()?"popstate":"hashchange",this.urlChange),R(document,"visibilitychange",this.visibilityChange),history.pushState=this.oldPushState,history.replaceState=this.oldReplaceState},e.key="autoPV",e}(Gt),Be=function(t){function e(e,i){void 0===e&&(e={});var r=t.call(this)||this;r.version="3.7.11",r.logConfig={},r.isSampled=!0,r.logger=new at,r.plugins={},r.flush=function(){r.logger.flush(!1)},Jt||Tt("Your browser don't support performance API, the auto pv duration may not correct"),r.baseOption=l(l({},Ht),i),r.logConfig=e,r.commomPackage=Bt(r.baseOption,r.logConfig);var n=e.autoPV,o=e.fps,a=e.timing,s=e.radar,u=e.crash,c=e.autoPVFilter,d=e.referer,h=f(e,["autoPV","fps","timing","radar","crash","autoPVFilter","referer"]);r.currentUrlPackage=new Vt(location.href,"web",r.logConfig.urlMap);var p="",_="web";return d?(p=d.value,_=d.type&&d.type||_):document.referrer&&(p=document.referrer),p&&(r.referUrlPackage=new Vt(p,_,r.logConfig.urlMap)),r.logger.init(h,r.commomPackage),r.isSampled=r.getIfSampled(),O(window,"pagehide",r.flush),O(window,"beforeunload",r.flush),r.initBuildInPlugins({radar:s,autoPV:n,fps:o,timing:a,crash:u,autoPVFilter:c}),r}return c(e,t),e.prototype.getIfSampled=function(){var t=this.logConfig.sampleRate||this.logger.config.sampleRate,e=this.logConfig.sampleRateFn||this.logger.config.sampleRateFn;if(e)try{return e()}catch(t){return console.log(t,"抽样函数报错"),!1}return!(!t||t<0)&&Math.random()<t},Object.defineProperty(e.prototype,"currentUrl",{get:function(){var t=this.currentUrlPackage,e=t.page,i=t.params;return i&&"object"==typeof i?e+"?"+K(i):e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"referUrl",{get:function(){if(!this.referUrlPackage)return"";var t=this.referUrlPackage,e=t.page,i=t.params;return i&&"object"==typeof i?e+"?"+K(i):e},enumerable:!1,configurable:!0}),e.prototype.initBuildInPlugins=function(t){var e=t.autoPV,i=t.radar,r=t.fps,n=t.timing,o=t.crash,a=t.autoPVFilter;e=void 0===e||e,n=void 0===n||n,o=void 0===o||o,(r=void 0===r||r)&&this.plug(Yt),n&&this.plug($t),o&&this.plug(Wt),e&&this.plug(Ue,a),i&&(i.sampling&&Me.samplingControl(i)?this.plug(Me,i):this.plug(Pe,i))},e.prototype.updateCurrentUrlPackage=function(t){void 0===t&&(t=location.href),this.referUrlPackage=this.currentUrlPackage,this.currentUrlPackage=new Vt(t,"web",this.logConfig.urlMap)},e.prototype.updateBase=function(t){this.logger.updateBase(Bt(l(l({},this.baseOption),t),this.logConfig))},e.prototype.updateCommonPackage=function(t){"object"==typeof t&&this.commomPackage&&this.commomPackage.update(t)},e.prototype.plug=function(t,e){if(this.plugins[t.key])throw new Error("There is a duplex plugin called "+t.key);return this.plugins[t.key]=new t(this,e),this},e.prototype.unplug=function(t){var e=this.plugins[t];e&&(e.destroy(),delete this.plugins[t])},e.prototype.unplugAll=function(){for(var t in this.plugins)this.plugins[t]&&this.unplug(t)},e.prototype.generateLog=function(t,e,i,r){if(void 0===t&&(t="CLICK"),(r=e&&e.contentPackage||r)&&(r="string"==typeof r?r:JSON.stringify(r)),"object"==typeof e){if("PV"===t){var n=e,o=n.type,a=n.beginTime,s=n.page,u=n.params,c=n.eventId,l=n.status,f=n.auto;return s&&(this.currentUrlPackage.page=s),u&&(this.currentUrlPackage.params="string"==typeof u?u:JSON.stringify(u)),Mt("PV",{type:o,beginTime:a,name:"PV",params:{},currentUrlPackage:this.currentUrlPackage,referUrlPackage:this.referUrlPackage,contentPackage:r,status:l,eventId:c,auto:f})}if("SHOW"===t){var d=e,h=d.action,p=d.params,_=d.eventId,v=d.urlPage;return v&&v.page&&(this.currentUrlPackage.page=v&&v.page),Mt(t,{name:h,params:p,currentUrlPackage:this.currentUrlPackage,referUrlPackage:this.referUrlPackage,contentPackage:r,eventId:_})}if("CUSTOM"===t){var m=e,g=m.key,y=m.value,E=m.eventId,w=m.urlPage;return w&&w.page&&(this.currentUrlPackage.page=w&&w.page),Mt(t,{name:g,params:y,currentUrlPackage:this.currentUrlPackage,eventId:E})}var A=e,b=A.action,S=A.params,T=A.status,x=A.type,L=A.eventId,C=A.urlPage;return C&&C.page&&(this.currentUrlPackage.page=C&&C.page),Mt(t,{name:b,params:S,contentPackage:r,currentUrlPackage:this.currentUrlPackage,referUrlPackage:this.referUrlPackage,status:T,taskType:x,eventId:L})}if("RADAR"===t){var I=i.currentUrlPackage||this.currentUrlPackage;return delete i.currentUrlPackage,Mt(t,{name:e,params:i,contentPackage:r,currentUrlPackage:I,referUrlPackage:this.referUrlPackage})}return Mt(t,{name:e,params:i,contentPackage:r,currentUrlPackage:this.currentUrlPackage,referUrlPackage:this.referUrlPackage})},e.prototype.send=function(t,e,i,r,n,o,a){if(void 0===t&&(t="CLICK"),this.isSampled){var s=this.generateLog(t,e,i,r);this.logger.send(s,!!n,o)}},e.prototype.collect=function(t,e,i,r){if(void 0===t&&(t="CLICK"),"string"==typeof t)return this.send(t,e,i,r,!1);var n=t;return this.send(n.type,e,i,r,!1,n.async)},e.prototype.sendImmediately=function(t,e,i,r){if(void 0===t&&(t="CLICK"),"string"==typeof t)this.send(t,e,i,r,!0);else{var n=t;this.send(n.type,e,i,r,!0,n.async)}},e.prototype.destroy=function(){this.unplugAll(),R(window,"pagehide",this.flush),R(window,"beforeunload",this.flush)},e}(qt)}.call(this,i(4))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var r;
/*!
 * UAParser.js v0.7.22
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2019 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */!function(n,o){"use strict";var a="model",s="name",u="type",c="vendor",l="version",f="mobile",d="tablet",h="smarttv",p={extend:function(t,e){var i={};for(var r in t)e[r]&&e[r].length%2==0?i[r]=e[r].concat(t[r]):i[r]=t[r];return i},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},_={rgx:function(t,e){for(var i,r,n,o,a,s,u=0;u<e.length&&!a;){var c=e[u],l=e[u+1];for(i=r=0;i<c.length&&!a;)if(a=c[i++].exec(t))for(n=0;n<l.length;n++)s=a[++r],"object"==typeof(o=l[n])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;u+=2}},str:function(t,e){for(var i in e)if("object"==typeof e[i]&&e[i].length>0){for(var r=0;r<e[i].length;r++)if(p.has(e[i][r],t))return"?"===i?void 0:i}else if(p.has(e[i],t))return"?"===i?void 0:i;return t}},v={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,l],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[s,l],[/(konqueror)\/([\w\.]+)/i],[[s,"Konqueror"],l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],l],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],l],[/(Avast)\/([\w\.]+)/i],[[s,"Avast Secure Browser"],l],[/(AVG)\/([\w\.]+)/i],[[s,"AVG Secure Browser"],l],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],l],[/(focus)\/([\w\.]+)/i],[[s,"Firefox Focus"],l],[/(opt)\/([\w\.]+)/i],[[s,"Opera Touch"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],l],[/(windowswechat qbcore)\/([\w\.]+)/i],[[s,"WeChat(Win) Desktop"],l],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],l],[/(brave)\/([\w\.]+)/i],[[s,"Brave"],l],[/(qqbrowserlite)\/([\w\.]+)/i],[s,l],[/(QQ)\/([\d\.]+)/i],[s,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,l],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[s,l],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,l],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[s,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[s,l],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[s,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[s,"Sailfish Browser"],l],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,l],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],l],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[s,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,s],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[l,_.str,v.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[s,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[a,c,[u,d]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[c,"Apple"],[u,d]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[c,"Apple"],[u,h]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,a,[u,d]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[a,[c,"Amazon"],[u,d]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[a,_.str,v.device.amazon.model],[c,"Amazon"],[u,f]],[/android.+aft([bms])\sbuild/i],[a,[c,"Amazon"],[u,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,c,[u,f]],[/\((ip[honed|\s\w*]+);/i],[a,[c,"Apple"],[u,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,a,[u,f]],[/\(bb10;\s(\w+)/i],[a,[c,"BlackBerry"],[u,f]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[a,[c,"Asus"],[u,d]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[a,"Xperia Tablet"],[u,d]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[c,"Sony"],[u,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,a,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[c,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[c,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[c,_.str,v.device.sprint.vendor],[a,_.str,v.device.sprint.model],[u,f]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[c,[a,/_/g," "],[u,f]],[/(nexus\s9)/i],[a,[c,"HTC"],[u,d]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29|ele-l29)/i],[a,[c,"Huawei"],[u,f]],[/android.+(bah2?-a?[lw]\d{2})/i],[a,[c,"Huawei"],[u,d]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,a,[u,f]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[c,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[c,"Microsoft"],[u,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[c,"Motorola"],[u,f]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[c,"Motorola"],[u,d]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,p.trim],[a,p.trim],[u,h]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[c,"Samsung"],[u,h]],[/\(dtv[\);].+(aquos)/i],[a,[c,"Sharp"],[u,h]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],a,[u,d]],[/smart-tv.+(samsung)/i],[c,[u,h],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[c,"Samsung"],a,[u,f]],[/sie-(\w*)/i],[a,[c,"Siemens"],[u,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[c,"Nokia"],a,[u,f]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[a,[c,"Acer"],[u,d]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[c,"LG"],[u,d]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],a,[u,d]],[/(lg) netcast\.tv/i],[c,a,[u,h]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[c,"LG"],[u,f]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[c,a,[u,d]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[c,"Lenovo"],[u,d]],[/(lenovo)[_\s-]?([\w-]+)/i],[c,a,[u,f]],[/linux;.+((jolla));/i],[c,a,[u,f]],[/((pebble))app\/[\d\.]+\s/i],[c,a,[u,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[c,a,[u,f]],[/crkey/i],[[a,"Chromecast"],[c,"Google"],[u,h]],[/android.+;\s(glass)\s\d/i],[a,[c,"Google"],[u,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[a,[c,"Google"],[u,d]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[a,[c,"Google"],[u,f]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]?[\w\s]+))\s+build/i],[[a,/_/g," "],[c,"Xiaomi"],[u,f]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]?[\w\s]+))\s+build/i],[[a,/_/g," "],[c,"Xiaomi"],[u,d]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[c,"Meizu"],[u,f]],[/(mz)-([\w-]{2,})/i],[[c,"Meizu"],a,[u,f]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[a,[c,"OnePlus"],[u,f]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[c,"RCA"],[u,d]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[a,[c,"Dell"],[u,d]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[c,"Verizon"],[u,d]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[c,"Barnes & Noble"],a,[u,d]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[c,"NuVision"],[u,d]],[/android.+;\s(k88)\sbuild/i],[a,[c,"ZTE"],[u,d]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[c,"Swiss"],[u,f]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[c,"Swiss"],[u,d]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[c,"Zeki"],[u,d]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[c,"Dragon Touch"],a,[u,d]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[c,"Insignia"],[u,d]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[c,"NextBook"],[u,d]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[c,"Voice"],a,[u,f]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[c,"LvTel"],a,[u,f]],[/android.+;\s(PH-1)\s/i],[a,[c,"Essential"],[u,f]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[c,"Envizen"],[u,d]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[c,a,[u,d]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[a,[c,"MachSpeed"],[u,d]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[c,a,[u,d]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[c,"Rotor"],[u,d]],[/android.+(KS(.+))\s+build/i],[a,[c,"Amazon"],[u,d]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[c,a,[u,d]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,p.lowerize],c,a],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,h]],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[c,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,l],[/rv\:([\w\.]{1,9}).+(gecko)/i],[l,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[l,_.str,v.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[l,_.str,v.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[s,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],l],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],l],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,l],[/(haiku)\s(\w+)/i],[s,l],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[s,l]]},g=function(t,e){if("object"==typeof t&&(e=t,t=void 0),!(this instanceof g))return new g(t,e).getResult();var i=t||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),r=e?p.extend(m,e):m;return this.getBrowser=function(){var t={name:void 0,version:void 0};return _.rgx.call(t,i,r.browser),t.major=p.major(t.version),t},this.getCPU=function(){var t={architecture:void 0};return _.rgx.call(t,i,r.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return _.rgx.call(t,i,r.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return _.rgx.call(t,i,r.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return _.rgx.call(t,i,r.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(t){return i=t,this},this};g.VERSION="0.7.22",g.BROWSER={NAME:s,MAJOR:"major",VERSION:l},g.CPU={ARCHITECTURE:"architecture"},g.DEVICE={MODEL:a,VENDOR:c,TYPE:u,CONSOLE:"console",MOBILE:f,SMARTTV:h,TABLET:d,WEARABLE:"wearable",EMBEDDED:"embedded"},g.ENGINE={NAME:s,VERSION:l},g.OS={NAME:s,VERSION:l},void 0!==e?(void 0!==t&&t.exports&&(e=t.exports=g),e.UAParser=g):void 0===(r=function(){return g}.call(e,i,e,t))||(t.exports=r);var y=n&&(n.jQuery||n.Zepto);if(y&&!y.ua){var E=new g;y.ua=E.getResult(),y.ua.get=function(){return E.getUA()},y.ua.set=function(t){E.setUA(t);var e=E.getResult();for(var i in e)y.ua[i]=e[i]}}}("object"==typeof window?window:this)},function(t,e,i){"use strict";i.r(e),i.d(e,"BASE",(function(){return n})),i.d(e,"transformCommonMedia",(function(){return a}));var r=i(7),n={device_id:"",global_id:"",union_id:"",user_id:"",product:0,channel:"",version_name:"",package_name:"",product_name:"",network_type:"unknown",service_name:"",sub_biz:"",need_encrypt:!1,safety_id:"",experiment:[],h5_extra_attr:{}},o=0;function a(t,e){return function(t,e){return{sid:sessionStorage.getItem("sessionId")||Object(r.generateSessionID)(),coid:sessionStorage.getItem("coid"),vid:sessionStorage.getItem("vid"),sv:"0.1.0",i:{ci:t&&t.consumerId,di:Object(r.generateDID)(),vi:t&&t.viewerId},seq:++o,t:"session",evs:[],md:{an:t.md&&t.md.an,pn:t.md&&t.md.pn||"kernel",pver:t.md&&t.md.pver,st:t.md&&t.md.st,dr:t.md&&t.md.dr,dur:t.md&&t.md.dur||0,url:t.md&&t.md.url,cip:t.md&&t.md.cip},tags:{},m:{ct:"wifi",aod:e&&e.aod,bi:e&&e.bi,efr:null,ps:e&&e.ps,pht:e&&e.pht,bl:e&&e.bl,rf:e&&e.rf,sp:e&&e.sp||1,ffrc:e&&e.ffrc||0,df:e&&e.df||0}}}(t,e)}},function(t,e,i){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function o(t){if(!t)return location.hostname;var e=t.split("."),i=e.length;return i<=2?"":".".concat(e[i-2],".").concat(e[i-1])}function a(t){if(!document.cookie)return null;var e=function(t,e,i){var r={};if(t.length>0)for(var n=e?decodeURIComponent:function(t){return t},o=t.split(/;\s/g),a=null,s=null,u=null,c=0,l=o.length;c<l;c++){if(null!==(u=o[c].match(/([^=]+)=/i)))try{a=decodeURIComponent(u[1]),s=n(o[c].substring(u[1].length+1))}catch(t){}else a=decodeURIComponent(o[c]),s="";null!==a&&(r[a]=s)}return r}(document.cookie)[t];return e||null}function s(){return document.cookie.split(";").reduce((function(t,e){var i=r(e.split("="),2),n=i[0],o=i[1];return t[n.trim()]=o,t}),{})}function u(t,e,i){document.cookie=function(t,e,i,r){var n="".concat(encodeURIComponent(t),"=").concat(i?encodeURIComponent(e):e),o=r.expires,a=r.path||"/",s=r.domain||"";return o instanceof Date&&(n+="; expires=".concat(o.toUTCString())),"number"==typeof o&&(n+="; max-age==".concat(o)),""!==a&&(n+="; path=".concat(a)),""!==s&&(n+="; domain=".concat(s)),!0===r.secure&&(n+="; secure"),n}(t,e,!i.raw,i)}function c(){for(var t=1e9*Math.random()>>>0,e=[],i=0;i<7;i++)e.push("0123456789ABCDEF".charAt(16*Math.random()));return t+e.join("")}function l(){var t=a("did")?"did":"_did",e=a(t),i=new Date;i.setFullYear(i.getFullYear()+1);var r=e||"web_".concat(c());return u(t,r,{expires:i,domain:o(),path:"/"}),r}function f(){return c()}function d(t,e){return t.indexOf(e)>-1}function h(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)}function p(t,e,i,r){return"attachEvent"in t?t.detachEvent("on"+e,i):t.removeEventListener(e,i,r)}i.r(e),i.d(e,"resolveTopLevelDomain",(function(){return o})),i.d(e,"getCookie",(function(){return a})),i.d(e,"getCookies",(function(){return s})),i.d(e,"setCookie",(function(){return u})),i.d(e,"nanoId",(function(){return c})),i.d(e,"generateDID",(function(){return l})),i.d(e,"generateSessionID",(function(){return f})),i.d(e,"inArray",(function(){return d})),i.d(e,"deleteArray",(function(){return h})),i.d(e,"removeMonitor",(function(){return p})),i.d(e,"networkType",(function(){return v})),i.d(e,"network",(function(){return m})),i.d(e,"throttle",(function(){return g}));var _=5,v={unknown:0,none:1,wifi:2,"4g":3,"3g":4,"2g":_,"slow-2g":_};function m(){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!t)return v.unknown;var e=t.type,i=t.effectiveType;return v[e]||v[i]||v.unknown}function g(t,e){var i=null;return function(){var r=this,n=arguments;i||(i=setTimeout((function(){i=null,t.apply(r,n)}),e))}}},function(t,e,i){"use strict";i.r(e),i.d(e,"ACTION",(function(){return r}));var r={DATA_CHANGE:"data_change",STATE_CHANGE:"state_change",SEEK:"seek",BLOCK:"block",PLAY_STATE_CHANGE:"play_state_change",END:"end",ERROR:"error"}}]).default},t.exports=r()},function(t,e,i){var r=i(151);"string"==typeof r&&(r=[[t.i,r,""]]);var n={attributes:{id:"player-style"},injectType:"singletonStyleTag",insert:"head",singleton:!0};i(46)(r,n);r.locals&&(t.exports=r.locals)},function(t,e,i){(t.exports=i(45)(!1)).push([t.i,".container-player{position:relative;margin:0;padding:0;width:100%;height:100%;background:white;font-family:-apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif;font-size:12px;color:#999999;-moz-box-sizing:border-box;box-sizing:border-box;vertical-align:baseline;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:left;z-index:auto}.container-player *{padding:0;margin:0}.container-player table,.container-player tr,.container-player td,.container-player th{vertical-align:middle}.container-player .container-video{position:relative;width:100%;height:100%}.container-player .container-video video{position:relative;display:block;width:100%;background:black;cursor:pointer}.container-player .container-video video.no-cursor{cursor:none}.container-player .container-plugins-outer{z-index:2}\n",""])},function(t,e,i){"use strict";i(153);var r,n=(r=i(325))&&r.__esModule?r:{default:r};n.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),n.default._babelPolyfill=!0},function(t,e,i){"use strict";i(154),i(297),i(299),i(302),i(304),i(306),i(308),i(310),i(312),i(314),i(316),i(318),i(320),i(324)},function(t,e,i){i(155),i(158),i(159),i(160),i(161),i(162),i(163),i(164),i(165),i(166),i(167),i(168),i(169),i(170),i(171),i(172),i(173),i(174),i(175),i(176),i(177),i(178),i(179),i(180),i(181),i(182),i(183),i(184),i(185),i(186),i(187),i(188),i(189),i(190),i(191),i(192),i(193),i(194),i(195),i(196),i(197),i(198),i(199),i(201),i(202),i(203),i(204),i(205),i(206),i(207),i(208),i(209),i(210),i(211),i(212),i(213),i(214),i(215),i(216),i(217),i(218),i(219),i(220),i(221),i(222),i(223),i(224),i(225),i(226),i(227),i(228),i(229),i(230),i(231),i(232),i(233),i(234),i(236),i(237),i(239),i(240),i(241),i(242),i(243),i(244),i(245),i(247),i(248),i(249),i(250),i(251),i(252),i(253),i(254),i(255),i(256),i(257),i(258),i(259),i(86),i(260),i(115),i(261),i(116),i(262),i(263),i(264),i(265),i(117),i(268),i(269),i(270),i(271),i(272),i(273),i(274),i(275),i(276),i(277),i(278),i(279),i(280),i(281),i(282),i(283),i(284),i(285),i(286),i(287),i(288),i(289),i(290),i(291),i(292),i(293),i(294),i(295),i(296),t.exports=i(7)},function(t,e,i){"use strict";var r=i(1),n=i(14),o=i(8),a=i(0),s=i(11),u=i(28).KEY,c=i(2),l=i(53),f=i(39),d=i(30),h=i(5),p=i(67),_=i(96),v=i(157),m=i(56),g=i(3),y=i(4),E=i(10),w=i(16),A=i(27),b=i(29),S=i(34),T=i(99),x=i(21),L=i(55),C=i(9),I=i(32),D=x.f,O=C.f,R=T.f,k=r.Symbol,N=r.JSON,M=N&&N.stringify,P=h("_hidden"),U=h("toPrimitive"),B={}.propertyIsEnumerable,F=l("symbol-registry"),K=l("symbols"),j=l("op-symbols"),V=Object.prototype,H="function"==typeof k&&!!L.f,q=r.QObject,G=!q||!q.prototype||!q.prototype.findChild,z=o&&c((function(){return 7!=S(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(t,e,i){var r=D(V,e);r&&delete V[e],O(t,e,i),r&&t!==V&&O(V,e,r)}:O,W=function(t){var e=K[t]=S(k.prototype);return e._k=t,e},X=H&&"symbol"==typeof k.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof k},Y=function(t,e,i){return t===V&&Y(j,e,i),g(t),e=A(e,!0),g(i),n(K,e)?(i.enumerable?(n(t,P)&&t[P][e]&&(t[P][e]=!1),i=S(i,{enumerable:b(0,!1)})):(n(t,P)||O(t,P,b(1,{})),t[P][e]=!0),z(t,e,i)):O(t,e,i)},Q=function(t,e){g(t);for(var i,r=v(e=w(e)),n=0,o=r.length;o>n;)Y(t,i=r[n++],e[i]);return t},J=function(t){var e=B.call(this,t=A(t,!0));return!(this===V&&n(K,t)&&!n(j,t))&&(!(e||!n(this,t)||!n(K,t)||n(this,P)&&this[P][t])||e)},Z=function(t,e){if(t=w(t),e=A(e,!0),t!==V||!n(K,e)||n(j,e)){var i=D(t,e);return!i||!n(K,e)||n(t,P)&&t[P][e]||(i.enumerable=!0),i}},$=function(t){for(var e,i=R(w(t)),r=[],o=0;i.length>o;)n(K,e=i[o++])||e==P||e==u||r.push(e);return r},tt=function(t){for(var e,i=t===V,r=R(i?j:w(t)),o=[],a=0;r.length>a;)!n(K,e=r[a++])||i&&!n(V,e)||o.push(K[e]);return o};H||(s((k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(i){this===V&&e.call(j,i),n(this,P)&&n(this[P],t)&&(this[P][t]=!1),z(this,t,b(1,i))};return o&&G&&z(V,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",(function(){return this._k})),x.f=Z,C.f=Y,i(35).f=T.f=$,i(48).f=J,L.f=tt,o&&!i(31)&&s(V,"propertyIsEnumerable",J,!0),p.f=function(t){return W(h(t))}),a(a.G+a.W+a.F*!H,{Symbol:k});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;et.length>it;)h(et[it++]);for(var rt=I(h.store),nt=0;rt.length>nt;)_(rt[nt++]);a(a.S+a.F*!H,"Symbol",{for:function(t){return n(F,t+="")?F[t]:F[t]=k(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!H,"Object",{create:function(t,e){return void 0===e?S(t):Q(S(t),e)},defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var ot=c((function(){L.f(1)}));a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return L.f(E(t))}}),N&&a(a.S+a.F*(!H||c((function(){var t=k();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))}))),"JSON",{stringify:function(t){for(var e,i,r=[t],n=1;arguments.length>n;)r.push(arguments[n++]);if(i=e=r[1],(y(e)||void 0!==t)&&!X(t))return m(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!X(e))return e}),r[1]=e,M.apply(N,r)}}),k.prototype[U]||i(15)(k.prototype,U,k.prototype.valueOf),f(k,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,i){t.exports=i(53)("native-function-to-string",Function.toString)},function(t,e,i){var r=i(32),n=i(55),o=i(48);t.exports=function(t){var e=r(t),i=n.f;if(i)for(var a,s=i(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,i){var r=i(0);r(r.S,"Object",{create:i(34)})},function(t,e,i){var r=i(0);r(r.S+r.F*!i(8),"Object",{defineProperty:i(9).f})},function(t,e,i){var r=i(0);r(r.S+r.F*!i(8),"Object",{defineProperties:i(98)})},function(t,e,i){var r=i(16),n=i(21).f;i(22)("getOwnPropertyDescriptor",(function(){return function(t,e){return n(r(t),e)}}))},function(t,e,i){var r=i(10),n=i(36);i(22)("getPrototypeOf",(function(){return function(t){return n(r(t))}}))},function(t,e,i){var r=i(10),n=i(32);i(22)("keys",(function(){return function(t){return n(r(t))}}))},function(t,e,i){i(22)("getOwnPropertyNames",(function(){return i(99).f}))},function(t,e,i){var r=i(4),n=i(28).onFreeze;i(22)("freeze",(function(t){return function(e){return t&&r(e)?t(n(e)):e}}))},function(t,e,i){var r=i(4),n=i(28).onFreeze;i(22)("seal",(function(t){return function(e){return t&&r(e)?t(n(e)):e}}))},function(t,e,i){var r=i(4),n=i(28).onFreeze;i(22)("preventExtensions",(function(t){return function(e){return t&&r(e)?t(n(e)):e}}))},function(t,e,i){var r=i(4);i(22)("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,i){var r=i(4);i(22)("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,i){var r=i(4);i(22)("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},function(t,e,i){var r=i(0);r(r.S+r.F,"Object",{assign:i(100)})},function(t,e,i){var r=i(0);r(r.S,"Object",{is:i(101)})},function(t,e,i){var r=i(0);r(r.S,"Object",{setPrototypeOf:i(71).set})},function(t,e,i){"use strict";var r=i(49),n={};n[i(5)("toStringTag")]="z",n+""!="[object z]"&&i(11)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,i){var r=i(0);r(r.P,"Function",{bind:i(102)})},function(t,e,i){var r=i(9).f,n=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in n||i(8)&&r(n,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var r=i(4),n=i(36),o=i(5)("hasInstance"),a=Function.prototype;o in a||i(9).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=n(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var r=i(0),n=i(104);r(r.G+r.F*(parseInt!=n),{parseInt:n})},function(t,e,i){var r=i(0),n=i(105);r(r.G+r.F*(parseFloat!=n),{parseFloat:n})},function(t,e,i){"use strict";var r=i(1),n=i(14),o=i(24),a=i(73),s=i(27),u=i(2),c=i(35).f,l=i(21).f,f=i(9).f,d=i(40).trim,h=r.Number,p=h,_=h.prototype,v="Number"==o(i(34)(_)),m="trim"in String.prototype,g=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var i,r,n,o=(e=m?e.trim():d(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>n)return NaN;return parseInt(u,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof h&&(v?u((function(){_.valueOf.call(i)})):"Number"!=o(i))?a(new p(g(e)),i,h):g(e)};for(var y,E=i(8)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;E.length>w;w++)n(p,y=E[w])&&!n(h,y)&&f(h,y,l(p,y));h.prototype=_,_.constructor=h,i(11)(r,"Number",h)}},function(t,e,i){"use strict";var r=i(0),n=i(20),o=i(106),a=i(74),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(t,e){for(var i=-1,r=e;++i<6;)r+=t*c[i],c[i]=r%1e7,r=u(r/1e7)},d=function(t){for(var e=6,i=0;--e>=0;)i+=c[e],c[e]=u(i/t),i=i%t*1e7},h=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var i=String(c[t]);e=""===e?i:e+a.call("0",7-i.length)+i}return e},p=function(t,e,i){return 0===e?i:e%2==1?p(t,e-1,i*t):p(t*t,e/2,i)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(2)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,i,r,s,u=o(this,l),c=n(t),_="",v="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(_="-",u=-u),u>1e-21)if(i=(e=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}(u*p(2,69,1))-69)<0?u*p(2,-e,1):u/p(2,e,1),i*=4503599627370496,(e=52-e)>0){for(f(0,i),r=c;r>=7;)f(1e7,0),r-=7;for(f(p(10,r,1),0),r=e-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),v=h()}else f(0,i),f(1<<-e,0),v=h()+a.call("0",c);return v=c>0?_+((s=v.length)<=c?"0."+a.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c)):_+v}})},function(t,e,i){"use strict";var r=i(0),n=i(2),o=i(106),a=1..toPrecision;r(r.P+r.F*(n((function(){return"1"!==a.call(1,void 0)}))||!n((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,i){var r=i(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var r=i(0),n=i(1).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&n(t)}})},function(t,e,i){var r=i(0);r(r.S,"Number",{isInteger:i(107)})},function(t,e,i){var r=i(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var r=i(0),n=i(107),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return n(t)&&o(t)<=9007199254740991}})},function(t,e,i){var r=i(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var r=i(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var r=i(0),n=i(105);r(r.S+r.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},function(t,e,i){var r=i(0),n=i(104);r(r.S+r.F*(Number.parseInt!=n),"Number",{parseInt:n})},function(t,e,i){var r=i(0),n=i(108),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:n(t-1+o(t-1)*o(t+1))}})},function(t,e,i){var r=i(0),n=Math.asinh;r(r.S+r.F*!(n&&1/n(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,i){var r=i(0),n=Math.atanh;r(r.S+r.F*!(n&&1/n(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var r=i(0),n=i(75);r(r.S,"Math",{cbrt:function(t){return n(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var r=i(0),n=Math.exp;r(r.S,"Math",{cosh:function(t){return(n(t=+t)+n(-t))/2}})},function(t,e,i){var r=i(0),n=i(76);r(r.S+r.F*(n!=Math.expm1),"Math",{expm1:n})},function(t,e,i){var r=i(0);r(r.S,"Math",{fround:i(200)})},function(t,e,i){var r=i(75),n=Math.pow,o=n(2,-52),a=n(2,-23),s=n(2,127)*(2-a),u=n(2,-126);t.exports=Math.fround||function(t){var e,i,n=Math.abs(t),c=r(t);return n<u?c*(n/u/a+1/o-1/o)*u*a:(i=(e=(1+a/o)*n)-(e-n))>s||i!=i?c*(1/0):c*i}},function(t,e,i){var r=i(0),n=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var i,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(i=n(arguments[a++]))?(o=o*(r=u/i)*r+1,u=i):o+=i>0?(r=i/u)*r:i;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,i){var r=i(0),n=Math.imul;r(r.S+r.F*i(2)((function(){return-5!=n(4294967295,5)||2!=n.length})),"Math",{imul:function(t,e){var i=+t,r=+e,n=65535&i,o=65535&r;return 0|n*o+((65535&i>>>16)*o+n*(65535&r>>>16)<<16>>>0)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var r=i(0);r(r.S,"Math",{log1p:i(108)})},function(t,e,i){var r=i(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var r=i(0);r(r.S,"Math",{sign:i(75)})},function(t,e,i){var r=i(0),n=i(76),o=Math.exp;r(r.S+r.F*i(2)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(n(t)-n(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,i){var r=i(0),n=i(76),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=n(t=+t),i=n(-t);return e==1/0?1:i==1/0?-1:(e-i)/(o(t)+o(-t))}})},function(t,e,i){var r=i(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,i){var r=i(0),n=i(33),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,i=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],n(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var r=i(0),n=i(16),o=i(6);r(r.S,"String",{raw:function(t){for(var e=n(t.raw),i=o(e.length),r=arguments.length,a=[],s=0;i>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,i){"use strict";i(40)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,i){"use strict";var r=i(77)(!0);i(78)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=r(e,i),this._i+=t.length,{value:t,done:!1})}))},function(t,e,i){"use strict";var r=i(0),n=i(77)(!1);r(r.P,"String",{codePointAt:function(t){return n(this,t)}})},function(t,e,i){"use strict";var r=i(0),n=i(6),o=i(79),a="".endsWith;r(r.P+r.F*i(81)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),i=arguments.length>1?arguments[1]:void 0,r=n(e.length),s=void 0===i?r:Math.min(n(i),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,i){"use strict";var r=i(0),n=i(79);r(r.P+r.F*i(81)("includes"),"String",{includes:function(t){return!!~n(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var r=i(0);r(r.P,"String",{repeat:i(74)})},function(t,e,i){"use strict";var r=i(0),n=i(6),o=i(79),a="".startsWith;r(r.P+r.F*i(81)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),i=n(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,i):e.slice(i,i+r.length)===r}})},function(t,e,i){"use strict";i(12)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,i){"use strict";i(12)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,i){"use strict";i(12)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,i){"use strict";i(12)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,i){"use strict";i(12)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,i){"use strict";i(12)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,i){"use strict";i(12)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,i){"use strict";i(12)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,i){"use strict";i(12)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,i){"use strict";i(12)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,i){"use strict";i(12)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,i){"use strict";i(12)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,i){"use strict";i(12)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,i){var r=i(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var r=i(0),n=i(10),o=i(27);r(r.P+r.F*i(2)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=n(this),i=o(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var r=i(0),n=i(235);r(r.P+r.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(t,e,i){"use strict";var r=i(2),n=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(n.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(i>99?i:"0"+a(i))+"Z"}:o},function(t,e,i){var r=Date.prototype,n=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&i(11)(r,"toString",(function(){var t=o.call(this);return t==t?n.call(this):"Invalid Date"}))},function(t,e,i){var r=i(5)("toPrimitive"),n=Date.prototype;r in n||i(15)(n,r,i(238))},function(t,e,i){"use strict";var r=i(3),n=i(27);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return n(r(this),"number"!=t)}},function(t,e,i){var r=i(0);r(r.S,"Array",{isArray:i(56)})},function(t,e,i){"use strict";var r=i(18),n=i(0),o=i(10),a=i(110),s=i(82),u=i(6),c=i(83),l=i(84);n(n.S+n.F*!i(57)((function(t){Array.from(t)})),"Array",{from:function(t){var e,i,n,f,d=o(t),h="function"==typeof this?this:Array,p=arguments.length,_=p>1?arguments[1]:void 0,v=void 0!==_,m=0,g=l(d);if(v&&(_=r(_,p>2?arguments[2]:void 0,2)),null==g||h==Array&&s(g))for(i=new h(e=u(d.length));e>m;m++)c(i,m,v?_(d[m],m):d[m]);else for(f=g.call(d),i=new h;!(n=f.next()).done;m++)c(i,m,v?a(f,_,[n.value,m],!0):n.value);return i.length=m,i}})},function(t,e,i){"use strict";var r=i(0),n=i(83);r(r.S+r.F*i(2)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)n(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var r=i(0),n=i(16),o=[].join;r(r.P+r.F*(i(47)!=Object||!i(17)(o)),"Array",{join:function(t){return o.call(n(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var r=i(0),n=i(70),o=i(24),a=i(33),s=i(6),u=[].slice;r(r.P+r.F*i(2)((function(){n&&u.call(n)})),"Array",{slice:function(t,e){var i=s(this.length),r=o(this);if(e=void 0===e?i:e,"Array"==r)return u.call(this,t,e);for(var n=a(t,i),c=a(e,i),l=s(c-n),f=new Array(l),d=0;d<l;d++)f[d]="String"==r?this.charAt(n+d):this[n+d];return f}})},function(t,e,i){"use strict";var r=i(0),n=i(19),o=i(10),a=i(2),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!i(17)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),n(t))}})},function(t,e,i){"use strict";var r=i(0),n=i(23)(0),o=i(17)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return n(this,t,arguments[1])}})},function(t,e,i){var r=i(4),n=i(56),o=i(5)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){"use strict";var r=i(0),n=i(23)(1);r(r.P+r.F*!i(17)([].map,!0),"Array",{map:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(23)(2);r(r.P+r.F*!i(17)([].filter,!0),"Array",{filter:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(23)(3);r(r.P+r.F*!i(17)([].some,!0),"Array",{some:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(23)(4);r(r.P+r.F*!i(17)([].every,!0),"Array",{every:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(112);r(r.P+r.F*!i(17)([].reduce,!0),"Array",{reduce:function(t){return n(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var r=i(0),n=i(112);r(r.P+r.F*!i(17)([].reduceRight,!0),"Array",{reduceRight:function(t){return n(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var r=i(0),n=i(54)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!i(17)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(16),o=i(20),a=i(6),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!i(17)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=n(this),i=a(e.length),r=i-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=i+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,i){var r=i(0);r(r.P,"Array",{copyWithin:i(113)}),i(37)("copyWithin")},function(t,e,i){var r=i(0);r(r.P,"Array",{fill:i(85)}),i(37)("fill")},function(t,e,i){"use strict";var r=i(0),n=i(23)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i(37)("find")},function(t,e,i){"use strict";var r=i(0),n=i(23)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i(37)(o)},function(t,e,i){i(42)("Array")},function(t,e,i){var r=i(1),n=i(73),o=i(9).f,a=i(35).f,s=i(80),u=i(58),c=r.RegExp,l=c,f=c.prototype,d=/a/g,h=/a/g,p=new c(d)!==d;if(i(8)&&(!p||i(2)((function(){return h[i(5)("match")]=!1,c(d)!=d||c(h)==h||"/a/i"!=c(d,"i")})))){c=function(t,e){var i=this instanceof c,r=s(t),o=void 0===e;return!i&&r&&t.constructor===c&&o?t:n(p?new l(r&&!o?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&o?u.call(t):e),i?this:f,c)};for(var _=function(t){t in c||o(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},v=a(l),m=0;v.length>m;)_(v[m++]);f.constructor=c,c.prototype=f,i(11)(r,"RegExp",c)}i(42)("RegExp")},function(t,e,i){"use strict";i(116);var r=i(3),n=i(58),o=i(8),a=/./.toString,s=function(t){i(11)(RegExp.prototype,"toString",t,!0)};i(2)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?n.call(t):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(t,e,i){"use strict";var r=i(3),n=i(6),o=i(88),a=i(59);i(60)("match",1,(function(t,e,i,s){return[function(i){var r=t(this),n=null==i?void 0:i[e];return void 0!==n?n.call(i,r):new RegExp(i)[e](String(r))},function(t){var e=s(i,t,this);if(e.done)return e.value;var u=r(t),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;for(var f,d=[],h=0;null!==(f=a(u,c));){var p=String(f[0]);d[h]=p,""===p&&(u.lastIndex=o(c,n(u.lastIndex),l)),h++}return 0===h?null:d}]}))},function(t,e,i){"use strict";var r=i(3),n=i(10),o=i(6),a=i(20),s=i(88),u=i(59),c=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;i(60)("replace",2,(function(t,e,i,p){return[function(r,n){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,n):i.call(String(o),r,n)},function(t,e){var n=p(i,t,this,e);if(n.done)return n.value;var f=r(t),d=String(this),h="function"==typeof e;h||(e=String(e));var v=f.global;if(v){var m=f.unicode;f.lastIndex=0}for(var g=[];;){var y=u(f,d);if(null===y)break;if(g.push(y),!v)break;""===String(y[0])&&(f.lastIndex=s(d,o(f.lastIndex),m))}for(var E,w="",A=0,b=0;b<g.length;b++){y=g[b];for(var S=String(y[0]),T=c(l(a(y.index),d.length),0),x=[],L=1;L<y.length;L++)x.push(void 0===(E=y[L])?E:String(E));var C=y.groups;if(h){var I=[S].concat(x,T,d);void 0!==C&&I.push(C);var D=String(e.apply(void 0,I))}else D=_(S,d,T,x,C,e);T>=A&&(w+=d.slice(A,T)+D,A=T+S.length)}return w+d.slice(A)}];function _(t,e,r,o,a,s){var u=r+t.length,c=o.length,l=h;return void 0!==a&&(a=n(a),l=d),i.call(s,l,(function(i,n){var s;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=a[n.slice(1,-1)];break;default:var l=+n;if(0===l)return i;if(l>c){var d=f(l/10);return 0===d?i:d<=c?void 0===o[d-1]?n.charAt(1):o[d-1]+n.charAt(1):i}s=o[l-1]}return void 0===s?"":s}))}}))},function(t,e,i){"use strict";var r=i(3),n=i(101),o=i(59);i(60)("search",1,(function(t,e,i,a){return[function(i){var r=t(this),n=null==i?void 0:i[e];return void 0!==n?n.call(i,r):new RegExp(i)[e](String(r))},function(t){var e=a(i,t,this);if(e.done)return e.value;var s=r(t),u=String(this),c=s.lastIndex;n(c,0)||(s.lastIndex=0);var l=o(s,u);return n(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]}))},function(t,e,i){"use strict";var r=i(80),n=i(3),o=i(50),a=i(88),s=i(6),u=i(59),c=i(87),l=i(2),f=Math.min,d=[].push,h=!l((function(){RegExp(4294967295,"y")}));i(60)("split",2,(function(t,e,i,l){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return i.call(n,t,e);for(var o,a,s,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?4294967295:e>>>0,p=new RegExp(t.source,l+"g");(o=c.call(p,n))&&!((a=p.lastIndex)>f&&(u.push(n.slice(f,o.index)),o.length>1&&o.index<n.length&&d.apply(u,o.slice(1)),s=o[0].length,f=a,u.length>=h));)p.lastIndex===o.index&&p.lastIndex++;return f===n.length?!s&&p.test("")||u.push(""):u.push(n.slice(f)),u.length>h?u.slice(0,h):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,r){var n=t(this),o=null==i?void 0:i[e];return void 0!==o?o.call(i,n,r):p.call(String(n),i,r)},function(t,e){var r=l(p,t,this,e,p!==i);if(r.done)return r.value;var c=n(t),d=String(this),_=o(c,RegExp),v=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),g=new _(h?c:"^(?:"+c.source+")",m),y=void 0===e?4294967295:e>>>0;if(0===y)return[];if(0===d.length)return null===u(g,d)?[d]:[];for(var E=0,w=0,A=[];w<d.length;){g.lastIndex=h?w:0;var b,S=u(g,h?d:d.slice(w));if(null===S||(b=f(s(g.lastIndex+(h?0:w)),d.length))===E)w=a(d,w,v);else{if(A.push(d.slice(E,w)),A.length===y)return A;for(var T=1;T<=S.length-1;T++)if(A.push(S[T]),A.length===y)return A;w=E=b}}return A.push(d.slice(E)),A}]}))},function(t,e,i){var r=i(1),n=i(89).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==i(24)(a);t.exports=function(){var t,e,i,c=function(){var r,n;for(u&&(r=a.domain)&&r.exit();t;){n=t.fn,t=t.next;try{n()}catch(r){throw t?i():e=void 0,r}}e=void 0,r&&r.enter()};if(u)i=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);i=function(){l.then(c)}}else i=function(){n.call(r,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),i=function(){d.data=f=!f}}return function(r){var n={fn:r,next:void 0};e&&(e.next=n),t||(t=n,i()),e=n}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){"use strict";var r=i(120),n=i(38);t.exports=i(63)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(n(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(n(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,i){"use strict";var r=i(120),n=i(38);t.exports=i(63)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(n(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,i){"use strict";var r,n=i(1),o=i(23)(0),a=i(11),s=i(28),u=i(100),c=i(121),l=i(4),f=i(38),d=i(38),h=!n.ActiveXObject&&"ActiveXObject"in n,p=s.getWeak,_=Object.isExtensible,v=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(l(t)){var e=p(t);return!0===e?v(f(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(f(this,"WeakMap"),t,e)}},y=t.exports=i(63)("WeakMap",m,g,c,!0,!0);d&&h&&(u((r=c.getConstructor(m,"WeakMap")).prototype,g),s.NEED=!0,o(["delete","has","get","set"],(function(t){var e=y.prototype,i=e[t];a(e,t,(function(e,n){if(l(e)&&!_(e)){this._f||(this._f=new r);var o=this._f[t](e,n);return"set"==t?this:o}return i.call(this,e,n)}))})))},function(t,e,i){"use strict";var r=i(121),n=i(38);i(63)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(n(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,i){"use strict";var r=i(0),n=i(64),o=i(90),a=i(3),s=i(33),u=i(6),c=i(4),l=i(1).ArrayBuffer,f=i(50),d=o.ArrayBuffer,h=o.DataView,p=n.ABV&&l.isView,_=d.prototype.slice,v=n.VIEW;r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!n.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||c(t)&&v in t}}),r(r.P+r.U+r.F*i(2)((function(){return!new d(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,e){if(void 0!==_&&void 0===e)return _.call(a(this),t);for(var i=a(this).byteLength,r=s(t,i),n=s(void 0===e?i:e,i),o=new(f(this,d))(u(n-r)),c=new h(this),l=new h(o),p=0;r<n;)l.setUint8(p++,c.getUint8(r++));return o}}),i(42)("ArrayBuffer")},function(t,e,i){var r=i(0);r(r.G+r.W+r.F*!i(64).ABV,{DataView:i(90).DataView})},function(t,e,i){i(26)("Int8",1,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},function(t,e,i){i(26)("Uint8",1,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},function(t,e,i){i(26)("Uint8",1,(function(t){return function(e,i,r){return t(this,e,i,r)}}),!0)},function(t,e,i){i(26)("Int16",2,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},function(t,e,i){i(26)("Uint16",2,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},function(t,e,i){i(26)("Int32",4,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},function(t,e,i){i(26)("Uint32",4,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},function(t,e,i){i(26)("Float32",4,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},function(t,e,i){i(26)("Float64",8,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},function(t,e,i){var r=i(0),n=i(19),o=i(3),a=(i(1).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!i(2)((function(){a((function(){}))})),"Reflect",{apply:function(t,e,i){var r=n(t),u=o(i);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,i){var r=i(0),n=i(34),o=i(19),a=i(3),s=i(4),u=i(2),c=i(102),l=(i(1).Reflect||{}).construct,f=u((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),d=!u((function(){l((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(t,e){o(t),a(e);var i=arguments.length<3?t:o(arguments[2]);if(d&&!f)return l(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=i.prototype,h=n(s(u)?u:Object.prototype),p=Function.apply.call(t,h,e);return s(p)?p:h}})},function(t,e,i){var r=i(9),n=i(0),o=i(3),a=i(27);n(n.S+n.F*i(2)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,i){o(t),e=a(e,!0),o(i);try{return r.f(t,e,i),!0}catch(t){return!1}}})},function(t,e,i){var r=i(0),n=i(21).f,o=i(3);r(r.S,"Reflect",{deleteProperty:function(t,e){var i=n(o(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var r=i(0),n=i(3),o=function(t){this._t=n(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(109)(o,"Object",(function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,i){var r=i(21),n=i(36),o=i(14),a=i(0),s=i(4),u=i(3);a(a.S,"Reflect",{get:function t(e,i){var a,c,l=arguments.length<3?e:arguments[2];return u(e)===l?e[i]:(a=r.f(e,i))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=n(e))?t(c,i,l):void 0}})},function(t,e,i){var r=i(21),n=i(0),o=i(3);n(n.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,i){var r=i(0),n=i(36),o=i(3);r(r.S,"Reflect",{getPrototypeOf:function(t){return n(o(t))}})},function(t,e,i){var r=i(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var r=i(0),n=i(3),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return n(t),!o||o(t)}})},function(t,e,i){var r=i(0);r(r.S,"Reflect",{ownKeys:i(123)})},function(t,e,i){var r=i(0),n=i(3),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){n(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,i){var r=i(9),n=i(21),o=i(36),a=i(14),s=i(0),u=i(29),c=i(3),l=i(4);s(s.S,"Reflect",{set:function t(e,i,s){var f,d,h=arguments.length<4?e:arguments[3],p=n.f(c(e),i);if(!p){if(l(d=o(e)))return t(d,i,s,h);p=u(0)}if(a(p,"value")){if(!1===p.writable||!l(h))return!1;if(f=n.f(h,i)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,r.f(h,i,f)}else r.f(h,i,u(0,s));return!0}return void 0!==p.set&&(p.set.call(h,s),!0)}})},function(t,e,i){var r=i(0),n=i(71);n&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){n.check(t,e);try{return n.set(t,e),!0}catch(t){return!1}}})},function(t,e,i){i(298),t.exports=i(7).Array.includes},function(t,e,i){"use strict";var r=i(0),n=i(54)(!0);r(r.P,"Array",{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i(37)("includes")},function(t,e,i){i(300),t.exports=i(7).Array.flatMap},function(t,e,i){"use strict";var r=i(0),n=i(301),o=i(10),a=i(6),s=i(19),u=i(111);r(r.P,"Array",{flatMap:function(t){var e,i,r=o(this);return s(t),e=a(r.length),i=u(r,0),n(i,r,r,e,0,1,t,arguments[1]),i}}),i(37)("flatMap")},function(t,e,i){"use strict";var r=i(56),n=i(4),o=i(6),a=i(18),s=i(5)("isConcatSpreadable");t.exports=function t(e,i,u,c,l,f,d,h){for(var p,_,v=l,m=0,g=!!d&&a(d,h,3);m<c;){if(m in u){if(p=g?g(u[m],m,i):u[m],_=!1,n(p)&&(_=void 0!==(_=p[s])?!!_:r(p)),_&&f>0)v=t(e,i,p,o(p.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=p}v++}m++}return v}},function(t,e,i){i(303),t.exports=i(7).String.padStart},function(t,e,i){"use strict";var r=i(0),n=i(124),o=i(62),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,i){i(305),t.exports=i(7).String.padEnd},function(t,e,i){"use strict";var r=i(0),n=i(124),o=i(62),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,i){i(307),t.exports=i(7).String.trimLeft},function(t,e,i){"use strict";i(40)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,i){i(309),t.exports=i(7).String.trimRight},function(t,e,i){"use strict";i(40)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,i){i(311),t.exports=i(67).f("asyncIterator")},function(t,e,i){i(96)("asyncIterator")},function(t,e,i){i(313),t.exports=i(7).Object.getOwnPropertyDescriptors},function(t,e,i){var r=i(0),n=i(123),o=i(16),a=i(21),s=i(83);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,r=o(t),u=a.f,c=n(r),l={},f=0;c.length>f;)void 0!==(i=u(r,e=c[f++]))&&s(l,e,i);return l}})},function(t,e,i){i(315),t.exports=i(7).Object.values},function(t,e,i){var r=i(0),n=i(125)(!1);r(r.S,"Object",{values:function(t){return n(t)}})},function(t,e,i){i(317),t.exports=i(7).Object.entries},function(t,e,i){var r=i(0),n=i(125)(!0);r(r.S,"Object",{entries:function(t){return n(t)}})},function(t,e,i){"use strict";i(117),i(319),t.exports=i(7).Promise.finally},function(t,e,i){"use strict";var r=i(0),n=i(7),o=i(1),a=i(50),s=i(119);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,n.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then((function(){return i}))}:t,i?function(i){return s(e,t()).then((function(){throw i}))}:t)}})},function(t,e,i){i(321),i(322),i(323),t.exports=i(7)},function(t,e,i){var r=i(1),n=i(0),o=i(62),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,i){var r=arguments.length>2,n=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,n)}:e,i)}};n(n.G+n.B+n.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,i){var r=i(0),n=i(89);r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},function(t,e,i){for(var r=i(86),n=i(32),o=i(11),a=i(1),s=i(15),u=i(41),c=i(5),l=c("iterator"),f=c("toStringTag"),d=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(h),_=0;_<p.length;_++){var v,m=p[_],g=h[m],y=a[m],E=y&&y.prototype;if(E&&(E[l]||s(E,l,d),E[f]||s(E,f,m),u[m]=d,g))for(v in r)E[v]||o(E,v,r[v],!0)}},function(t,e,i){var r=function(t){"use strict";var e,i=Object.prototype,r=i.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,i){return t[e]=i}}function c(t,e,i,r){var n=e&&e.prototype instanceof v?e:v,o=Object.create(n.prototype),a=new C(r||[]);return o._invoke=function(t,e,i){var r=f;return function(n,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===n)throw o;return D()}for(i.method=n,i.arg=o;;){var a=i.delegate;if(a){var s=T(a,i);if(s){if(s===_)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===f)throw r=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var u=l(t,e,i);if("normal"===u.type){if(r=i.done?p:d,u.arg===_)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=p,i.method="throw",i.arg=u.arg)}}}(t,i,a),o}function l(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",_={};function v(){}function m(){}function g(){}var y={};y[o]=function(){return this};var E=Object.getPrototypeOf,w=E&&E(E(I([])));w&&w!==i&&r.call(w,o)&&(y=w);var A=g.prototype=v.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){var i;this._invoke=function(n,o){function a(){return new e((function(i,a){!function i(n,o,a,s){var u=l(t[n],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}(n,o,i,a)}))}return i=i?i.then(a,a):a()}}function T(t,i){var r=t.iterator[i.method];if(r===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,T(t,i),"throw"===i.method))return _;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var n=l(r,t.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,_;var o=n.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,_):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,_)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function I(t){if(t){var i=t[o];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function i(){for(;++n<t.length;)if(r.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=e,i.done=!0,i};return a.next=a}}return{next:D}}function D(){return{value:e,done:!0}}return m.prototype=A.constructor=g,g.constructor=m,m.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},t.awrap=function(t){return{__await:t}},b(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,i,r,n,o){void 0===o&&(o=Promise);var a=new S(c(e,i,r,n),o);return t.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(A),u(A,s,"Generator"),A[o]=function(){return this},A.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var r=e.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=I,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(r,n){return s.type="throw",s.arg=t,i.next=r,n&&(i.method="next",i.arg=e),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),L(i),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;L(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:I(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=e),_}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,i){i(326),t.exports=i(126).global},function(t,e,i){var r=i(327);r(r.G,{global:i(91)})},function(t,e,i){var r=i(91),n=i(126),o=i(328),a=i(330),s=i(337),u=function(t,e,i){var c,l,f,d=t&u.F,h=t&u.G,p=t&u.S,_=t&u.P,v=t&u.B,m=t&u.W,g=h?n:n[e]||(n[e]={}),y=g.prototype,E=h?r:p?r[e]:(r[e]||{}).prototype;for(c in h&&(i=e),i)(l=!d&&E&&void 0!==E[c])&&s(g,c)||(f=l?E[c]:i[c],g[c]=h&&"function"!=typeof E[c]?i[c]:v&&l?o(f,r):m&&E[c]==f?function(t){var e=function(e,i,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):_&&"function"==typeof f?o(Function.call,f):f,_&&((g.virtual||(g.virtual={}))[c]=f,t&u.R&&y&&!y[c]&&a(y,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,i){var r=i(329);t.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var r=i(331),n=i(336);t.exports=i(93)?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var r=i(332),n=i(333),o=i(335),a=Object.defineProperty;e.f=i(93)?Object.defineProperty:function(t,e,i){if(r(t),e=o(e,!0),r(i),n)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var r=i(92);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){t.exports=!i(93)&&!i(127)((function(){return 7!=Object.defineProperty(i(334)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var r=i(92),n=i(91).document,o=r(n)&&r(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},function(t,e,i){var r=i(92);t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var r=i(339);"string"==typeof r&&(r=[[t.i,r,""]]);var n={attributes:{id:"player-style"},injectType:"singletonStyleTag",insert:"head",singleton:!0};i(46)(r,n);r.locals&&(t.exports=r.locals)},function(t,e,i){(t.exports=i(45)(!1)).push([t.i,".container-player{overflow:visible}.container-player .container-video video{height:-webkit-calc(100% - 40px);height:calc(100% - 40px)}\n",""])},function(t,e,i){"use strict";var r=i(13),n=i(133),o=i(341),a=i(139);function s(t){var e=new o(t),i=n(o.prototype.request,e);return r.extend(i,o.prototype,e),r.extend(i,e),i}var u=s(i(136));u.Axios=o,u.create=function(t){return s(a(u.defaults,t))},u.Cancel=i(140),u.CancelToken=i(355),u.isCancel=i(135),u.all=function(t){return Promise.all(t)},u.spread=i(356),t.exports=u,t.exports.default=u},function(t,e,i){"use strict";var r=i(13),n=i(134),o=i(342),a=i(343),s=i(139);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)i=i.then(e.shift(),e.shift());return i},u.prototype.getUri=function(t){return t=s(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,i){return this.request(r.merge(i||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,i,n){return this.request(r.merge(n||{},{method:t,url:e,data:i}))}})),t.exports=u},function(t,e,i){"use strict";var r=i(13);function n(){this.handlers=[]}n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=n},function(t,e,i){"use strict";var r=i(13),n=i(344),o=i(135),a=i(136);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=n(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=n(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=n(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,i){"use strict";var r=i(13);t.exports=function(t,e,i){return r.forEach(i,(function(i){t=i(t,e)})),t}},function(t,e){var i,r,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=s(d);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function _(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new p(t,e)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=_,n.addListener=_,n.once=_,n.off=_,n.removeListener=_,n.removeAllListeners=_,n.emit=_,n.prependListener=_,n.prependOnceListener=_,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,i){"use strict";var r=i(13);t.exports=function(t,e){r.forEach(t,(function(i,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[r])}))}},function(t,e,i){"use strict";var r=i(138);t.exports=function(t,e,i){var n=i.config.validateStatus;!n||n(i.status)?t(i):e(r("Request failed with status code "+i.status,i.config,null,i.request,i))}},function(t,e,i){"use strict";t.exports=function(t,e,i,r,n){return t.config=e,i&&(t.code=i),t.request=r,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,i){"use strict";var r=i(350),n=i(351);t.exports=function(t,e){return t&&!r(e)?n(t,e):e}},function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,i){"use strict";var r=i(13),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),i=r.trim(t.substr(o+1)),e){if(a[e]&&n.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([i]):a[e]?a[e]+", "+i:i}})),a):a}},function(t,e,i){"use strict";var r=i(13);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(t){var r=t;return e&&(i.setAttribute("href",r),r=i.href),i.setAttribute("href",r),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=n(window.location.href),function(e){var i=r.isString(e)?n(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},function(t,e,i){"use strict";var r=i(13);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,i,n,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),r.isString(n)&&s.push("path="+n),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,i){"use strict";var r=i(140);function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;t((function(t){i.reason||(i.reason=new r(t),e(i.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n((function(e){t=e})),cancel:t}},t.exports=n},function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,i){var r,n,o;
/**
 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/long.js for details
 */n=[],void 0===(o="function"==typeof(r=function(){"use strict";function t(t,e,i){this.low=0|t,this.high=0|e,this.unsigned=!!i}function e(t){return!0===(t&&t.__isLong__)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),t.isLong=e;var i={},r={};function n(t,e){var n,o,s;return e?(s=0<=(t>>>=0)&&t<256)&&(o=r[t])?o:(n=a(t,(0|t)<0?-1:0,!0),s&&(r[t]=n),n):(s=-128<=(t|=0)&&t<128)&&(o=i[t])?o:(n=a(t,t<0?-1:0,!1),s&&(i[t]=n),n)}function o(t,e){if(isNaN(t)||!isFinite(t))return e?_:p;if(e){if(t<0)return _;if(t>=f)return E}else{if(t<=-d)return w;if(t+1>=d)return y}return t<0?o(-t,e).neg():a(t%l|0,t/l|0,e)}function a(e,i,r){return new t(e,i,r)}t.fromInt=n,t.fromNumber=o,t.fromBits=a;var s=Math.pow;function u(t,e,i){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return p;if("number"==typeof e?(i=e,e=!1):e=!!e,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(t.substring(1),e,i).neg();for(var n=o(s(i,8)),a=p,c=0;c<t.length;c+=8){var l=Math.min(8,t.length-c),f=parseInt(t.substring(c,c+l),i);if(l<8){var d=o(s(i,l));a=a.mul(d).add(o(f))}else a=(a=a.mul(n)).add(o(f))}return a.unsigned=e,a}function c(e){return e instanceof t?e:"number"==typeof e?o(e):"string"==typeof e?u(e):a(e.low,e.high,e.unsigned)}t.fromString=u,t.fromValue=c;var l=4294967296,f=l*l,d=f/2,h=n(1<<24),p=n(0);t.ZERO=p;var _=n(0,!0);t.UZERO=_;var v=n(1);t.ONE=v;var m=n(1,!0);t.UONE=m;var g=n(-1);t.NEG_ONE=g;var y=a(-1,2147483647,!1);t.MAX_VALUE=y;var E=a(-1,-1,!0);t.MAX_UNSIGNED_VALUE=E;var w=a(0,-2147483648,!1);t.MIN_VALUE=w;var A=t.prototype;return A.toInt=function(){return this.unsigned?this.low>>>0:this.low},A.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},A.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var e=o(t),i=this.div(e),r=i.mul(e).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var n=o(s(t,6),this.unsigned),a=this,u="";;){var c=a.div(n),l=(a.sub(c.mul(n)).toInt()>>>0).toString(t);if((a=c).isZero())return l+u;for(;l.length<6;)l="0"+l;u=""+l+u}},A.getHighBits=function(){return this.high},A.getHighBitsUnsigned=function(){return this.high>>>0},A.getLowBits=function(){return this.low},A.getLowBitsUnsigned=function(){return this.low>>>0},A.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},A.isZero=function(){return 0===this.high&&0===this.low},A.isNegative=function(){return!this.unsigned&&this.high<0},A.isPositive=function(){return this.unsigned||this.high>=0},A.isOdd=function(){return 1==(1&this.low)},A.isEven=function(){return 0==(1&this.low)},A.equals=function(t){return e(t)||(t=c(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},A.eq=A.equals,A.notEquals=function(t){return!this.eq(t)},A.neq=A.notEquals,A.lessThan=function(t){return this.comp(t)<0},A.lt=A.lessThan,A.lessThanOrEqual=function(t){return this.comp(t)<=0},A.lte=A.lessThanOrEqual,A.greaterThan=function(t){return this.comp(t)>0},A.gt=A.greaterThan,A.greaterThanOrEqual=function(t){return this.comp(t)>=0},A.gte=A.greaterThanOrEqual,A.compare=function(t){if(e(t)||(t=c(t)),this.eq(t))return 0;var i=this.isNegative(),r=t.isNegative();return i&&!r?-1:!i&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},A.comp=A.compare,A.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(v)},A.neg=A.negate,A.add=function(t){e(t)||(t=c(t));var i=this.high>>>16,r=65535&this.high,n=this.low>>>16,o=65535&this.low,s=t.high>>>16,u=65535&t.high,l=t.low>>>16,f=0,d=0,h=0,p=0;return h+=(p+=o+(65535&t.low))>>>16,d+=(h+=n+l)>>>16,f+=(d+=r+u)>>>16,f+=i+s,a((h&=65535)<<16|(p&=65535),(f&=65535)<<16|(d&=65535),this.unsigned)},A.subtract=function(t){return e(t)||(t=c(t)),this.add(t.neg())},A.sub=A.subtract,A.multiply=function(t){if(this.isZero())return p;if(e(t)||(t=c(t)),t.isZero())return p;if(this.eq(w))return t.isOdd()?w:p;if(t.eq(w))return this.isOdd()?w:p;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(h)&&t.lt(h))return o(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,r=65535&this.high,n=this.low>>>16,s=65535&this.low,u=t.high>>>16,l=65535&t.high,f=t.low>>>16,d=65535&t.low,_=0,v=0,m=0,g=0;return m+=(g+=s*d)>>>16,v+=(m+=n*d)>>>16,m&=65535,v+=(m+=s*f)>>>16,_+=(v+=r*d)>>>16,v&=65535,_+=(v+=n*f)>>>16,v&=65535,_+=(v+=s*l)>>>16,_+=i*d+r*f+n*l+s*u,a((m&=65535)<<16|(g&=65535),(_&=65535)<<16|(v&=65535),this.unsigned)},A.mul=A.multiply,A.divide=function(t){if(e(t)||(t=c(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?_:p;var i,r,n;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return _;if(t.gt(this.shru(1)))return m;n=_}else{if(this.eq(w))return t.eq(v)||t.eq(g)?w:t.eq(w)?v:(i=this.shr(1).div(t).shl(1)).eq(p)?t.isNegative()?v:g:(r=this.sub(t.mul(i)),n=i.add(r.div(t)));if(t.eq(w))return this.unsigned?_:p;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();n=p}for(r=this;r.gte(t);){i=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),u=a<=48?1:s(2,a-48),l=o(i),f=l.mul(t);f.isNegative()||f.gt(r);)f=(l=o(i-=u,this.unsigned)).mul(t);l.isZero()&&(l=v),n=n.add(l),r=r.sub(f)}return n},A.div=A.divide,A.modulo=function(t){return e(t)||(t=c(t)),this.sub(this.div(t).mul(t))},A.mod=A.modulo,A.not=function(){return a(~this.low,~this.high,this.unsigned)},A.and=function(t){return e(t)||(t=c(t)),a(this.low&t.low,this.high&t.high,this.unsigned)},A.or=function(t){return e(t)||(t=c(t)),a(this.low|t.low,this.high|t.high,this.unsigned)},A.xor=function(t){return e(t)||(t=c(t)),a(this.low^t.low,this.high^t.high,this.unsigned)},A.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):a(0,this.low<<t-32,this.unsigned)},A.shl=A.shiftLeft,A.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):a(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},A.shr=A.shiftRight,A.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),0==(t&=63))return this;var i=this.high;return t<32?a(this.low>>>t|i<<32-t,i>>>t,this.unsigned):a(32===t?i:i>>>t-32,0,this.unsigned)},A.shru=A.shiftRightUnsigned,A.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},A.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},A.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},A.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},A.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t})?r.apply(e,n):r)||(t.exports=o)},function(t,e,i){var r,n,o,a,s,u=["WMOgwpNzw77CusOOFsOhbMOpPMKowpHDoG3CjsKsw7Q7w4Fcw7Zaw6fDvH/CvWnDoxzDjMONfMOtwrg8w7HDoE4=","JBTDqA==","wpLDtXjDtxLCnFTDoQ==","acKQNcOKbsK1dF8=","GHghdys=","wqjDu8KmNW0=","JcKBw7FYw6A=","w5rCkD7CsRvCk8KSw7U=","wo8Bw5w=","wp7DusKnOGbDhBbCug==","CsKUw7vDvEbDpFw=","w59kc8K9w4scw7xOL8Ouw5vCvMO0woLCvcKAw57CjlbDuixpw7fDisO7BHgKTMOLMsK8wpc=","VMOOBFEywqvCjEDCj8O8ORQNQyfDtsOiw5fCicKFXcOzSCfCtMO0X8ObSzrCuwswBsKuesOPwonDn8Oc","SMKvJg==","Oidmw70ALsKcwo0=","w7dfwqo=","w4vDhAxbw68MwrRKwro=","wrd8w4DCocORKg==","FcK8w5l8w6XCuw==","w781w40bAz4Ofg==","BsOSw5U=","wqvDnD8ABMOxVA==","UMOnwpLDrAQJADgRAiHCrkTCuWptw7B7w7FLJMKuA1hkw5bCnsKlwozDp8O9w7pxw6nCosKIXgIWw6g=","IkjDgw==","w5szw5g9OzgZbMOi","w6XCpl3DtUJ3","wqUFw4rDsAMGLMOvG8K8wpc=","JipG","asKYNg==","dChIJ8OTaMOew7VyD8O+","A8Kgw4x8w7U=","Zz5VccK0MMKNwqA=","KcO3DH3CrGgC","AsOow4c6w7jChcOCT8KnwoLCisKdZUfCgMKvemw5FGQuUcKkCcKywoHCpcKKw7VealhjMWoMLMOiwpI=","AsOgLHPCungYOMKD","wrrChcOW","wofDl3bCnQ3Cg8KSw5lewowdQX/DvcKmD0XCnsK5wp4HwoLDlAzCgcOxLArCsMK1NGrCog==","AGMVJsOsbcOfw452DsO9dcK0wo8/JDosw6vCuGnDicO+H8Knw6FuwrfDrsO2GyjDi8KYPsKmZ8KSBx4=","w6zDiho=","LMOWw4PChWgNQirCpcO8Nw==","wr3DjSgtD8OxQm0=","NsOJHA==","woVtecKoDTNkG8K9w4g3","ScK+wpg7w6XClcOU","wrLChVFRw4EawqN0wq7CkgsewpJxLiMIcGNTw77DoQx0cHbClVRgPcO2dEI=","w6/CrEtoeMORBsKQScOQw4hHwrpYHCsUw6V+fsKGw6F1woLCr8OiEMOCw63DkMO/wpfCjA==","wpbCsUJlHDvCrFLCpQjDshXDiMOqGMKkwpjCsMO4w5DDrMKTwrB1OXtGAW3DqRnCqMKC","wozDhTwK","wqRxw4nCqg==","MDzDsR4=","w47CmXnDlw==","LsKLw7bDhi1f","Sn/CtsKgwrRl","NTlHwpzDhQk=","wqLChcOBw5AVw5g=","wrDDqW7Dvz7DgA==","cHQyw7fCmA==","w4LCnCDCoAvCncKS","GsOWw5/CjUwE","wrlhZcKmMTt6Gg==","w5vCnCrClhY=","wqTDtHnDujk=","w4/CkDfCkg7CjsKNw6M=","PsOqD3fCqg==","Wx8rw6HClylhwqs=","FwBuw43DgsOB","w43DlWLDsHrDs8O9","f0XCicKBwpwz","VTpvdDTCgxJkA0TCm8O9w5k4w73DgsKEwpd1w5zCqMOnaA7ClMKQwqpWw4zDr8OCw6BT","w5Vpw7gHWiI3QcKhK8OFwoFgwr0zT3XDsWY1LcOrw6HDhSLCmsK8w6rDhBDCg1o1w47CvyjCtjXDjw==","WMKdwp7ChFcIQxHCocO9NG8pw5bDscKldXRQw5sAL8O0w7ZbRhDDuGElY2g=","w6/CrEtoeMORBsKQScOQw4hHwrpYHCsUw6V+fsKGw6F1woLCr8OiBsOcw7zCisK1wpvDkcOnwpw=","FsOgbcO6wq8REcKEw70/wqXDkizCggNLEMOLeUzDqcOXO8KhJDzDo8O6w6t5NsOzwp7ChcKOP2DCozl+","G8KgbE0Pwo3CkQJrwpsbUw==","GngndQ==","ITVrwq5Za8Oiw550PMOyw7Q=","wpwGw58=","GMKDw7nDt0c=","ZHosw78=","wqLDowhq","PhJxUX9NHMKdw6PCrANs","MxBhVndNNcKww6HCoRBww6A=","LMKow5/DoAIZKQIbDCbCog==","w75Owrg3AGbCmw==","wpbCsUJlHDvCrFLCpQjDshXDiMOqGMKkwpjCsMO4w5DDrMKTwrB1OXtLGnzDoVPCpMOfD8OJ","w6/CrEtoeMORBsKQScOQw4hHwrpYHCsUw6V+fsKGw6F1woLCr8OiAMODw7zCicK0wo/DksOuwoDDr3slw6Av","wqI+LsK2w4UVw5p4MsOpw5rCuw==","AEjDhcK/w5zCqg==","Hmw0fzXCgw==","OMO4wqLCqA==","wrnDiz0LBQ==","DxJ/Xw==","w6vDhAxbw50=","wpIrMMK/","PhJxUX9N","cGTCsMKgwrt1esKcw5LDqsOBYcKB","fsKnwoo2w77ClQ==","Sn/CssKqwqh1bA==","w6DCimABGcOhQkHClcKZK8OkUzjCoSnCq2bCmcKwwr0Sw5HCo8O8dFjDtWLCiTd9bw==","w5FOwpfDsTwDLcOUH8K9wpTCqsORL8KWWMKyw58CXsKiUy0ww6hQXDFAw6PCh8Os","w73CtSTDsCXDgQPCjUzCoRo1wqPDh8ONw4dcJsOpJ8OOc8Kow7Itwr7CrFVKw79edsKmf8Ke","Q27CoA==","w5XCoErDsVd/w6vChMOew7DDiTk=","BsO/wqDCvg==","wqkEw6M=","w5oWAAE=","FQER","w5nCt0rDsVdmw43CpcOLw7TDnC7DjQ==","NxPDqw==","F8KwcXoLwpPCtx8=","w4rCmDXCnw==","TGHCpQ==","asKNdsOQwrIaBA==","w7bCmivClgPCk8KSw45Wwo8JUWE=","w45Ow4o=","XmJ9MsK0G8K2","w5FOwpfDsTwDLcOUH8K9wpTCqsORL8KWWMKyw58CXsKiUy0ww6hQUjoHwqjDg8O1Kg==","w7DDghw=","fsKkJwsCdsOXwqkt","wpfDtcKnOXvCjw==","OcKCw6VU","bSgdw5bDhz4=","DwF2UmJc","TQ44w4bCgDk=","w6fDtwx4Gw==","dx4tw5DChg==","woYlLsK3w5c=","WsKiMi06cMOAwrs=","w4PDmwxQw40bwrVY","w5vDswJlFg==","wqVow4Umw7U=","wqZxw4HCq8Ob","GcOLCnBsw57CkjNKw4dfwpTCrQ==","HBjDrcOsMMKDMhvCtijDhMKJSg==","UTkKw5LDki9pS380M8KuaC9Lwoce","fARqDcOOTcKLwqcr","w7l1wo7DscKndMO4","TcKWIMOsVsKzY00Z","w7DDvh5jFi0=","fE/Cg8O0","wp7DqgV1fw==","MMKEw6rDoFw=","FBvDgktc","DUfDo8K8w4HCv3PDpcK7wpbDqA==","YXcvw7zCmQ==","w6A5w4Q+DiI=","wpp1w4/CtsOW","Cx3DrcO8Cg==","DMKAw6TDvVE=","NMObwobDoA==","MzNSwpLDgxhD","IcKhw455w5DCrMOZKMO1","wr5kbMKo","IBxIw74CKw==","F8KwcW4Hwo7Cswdywokb","NxTDoMOj","wo1ww4/CpsOtD8OLdcOSw5o=","F8K3bE0PwpTCtyN2wpIdaQDCl8Kjw6TCqQ==","wqICHcOhwpZM","wrPDvcK2","w40cFhBGwqE=","w6QRAhc=","acKIIMO8","wopvw5M=","wrHDrRM=","KFwBKG7DkQ==","N8KWw7dZw71+","woDDvMK1InY=","O8KAw6pI","wpXCjMOTw4sY","w4RYwow5BnPCqsKgdcKVFw==","NcOBH1d0w57Ckgg=","LsK4cUcc","LDxowr9Y","BMO/wqjCv8Oq","fQV7esK2Pw==","Z2rCo8KmwolJXsOmwoLCsA==","wqQkwqUMVDI3VsKhJcOCwrxpwrQwBWQ=","wpZVw6/Dt8KLcQ==","eGUNwpPDnghVRVEtwo/DicOiw43Dnn0UGsKDw7/Cu8KdchDClULCocOXw5IIVMKUPsKUOXdF","V3Nv","b8KhMMOwwoEHBsK6w6k=","w47CtUvDvFNg","NMK5SA==","EC1Xw60=","Ji5Cw6Y=","wpwSw53DvicC","G8KcXxs=","SzVOLcOtbQ==","w43DnGg=","wqvDnDsKGMOh","CThWwpzDhQk=","wrbDusK9JQ==","wpQywqMZQDIee8KiI8OVwpw=","CwbDuMOuFsKv","wp0Mw5fDvDg0IcOxFw==","MMKHw6VT","NMKBw7U=","wpMPw48=","w6Q1w40x","JMK7aQ==","w4HCkD7Cmw==","wr/DtHw=","csKQNcOg","Gz1uwqQ=","GsOcw4Y=","w67CvV/DvA==","OkDDgMK1","FsKPXA==","w6Azw50=","wpkjO8K7","wqbDjSgH","LsOBH30=","wqVsw7U=","w7DDhAk=","wp0lKw==","RcKkIg==","BBp0Ww==","wpp5w4/CscOf","c8Kowqw1w6PCgMOlacK+wojCnQ==","eMKVPcOrfMKSeFYF","TGLCq8Kp","CwXDvsOgAcKvES0=","wqATw4zDvicC","wpghwrA=","wq7DtxB2YsOBL8KqSsOYw5ha","wrfDvcKzOQ==","wr7DkTwH","HAZgWw==","wq3DiCABEw==","GDFRw6jDsMKW","NC5Mw6rDoQ==","OMOwwrXCtMOuTMOowonDrxvDvcKnw68=","Ozlowq9jV8Ovwog=","XRI5woQ=","wpoYw4jDsCETOw==","w7EmJMKpMjZlIMK5w4k0RsOXw7NHwojCjRwSwq86UAfDkcOqwqXDtygcFsKVB3U=","wpbCsUJlHDvCrFLCpQjDshXDiMOqGMKkwpjCsMO4w5DDrMKTwrB1OXtWWjjCp1TCrcKDAMKUBsKN","aWwKw6fDq8KXAGHCuXDDkcOYKMOyworDusOQwqBzw4gQT3fCpGvCpVJgw5IkLcKOdnAh","FEUn","wptsw4M6","H8OHPSfDry4=","wp3DrA5cTsKx","GcOAGWZl","ChrDmVs=","QMKlPBs=","w7JYwqEs","Z8KqLcOSwqkbFcK3w7kqwqQ=","L8OuEH4=","wrpqw6VQw6/Cm3HCrQ==","fQV7e8K7PQ==","w7HDmX3DpW7Ds8O9RgTDqE3CssK3","GsKDw6Jfw4BSwpIdUHk=","w7HDmX3DpW7Ds8O9RgzDpV7Cn8Kgwq1IwpAj","wqlIw6VmwqXCng==","TMKzJQAxcMOW","ScK9w6jCv8OgXMOowp7DpxjDqcK3w7E5wqdzw6ABdnLDmnl0w4UuYGfDgcKbw4M3w57CtA==","ScK9w6jCv8OgXMOowp7DpxjDqcK3w7E5wqdzw6ABdnLDmnl0w4UuYHzCmMOdwot6w5vCtcKpAMOBwo8=","VMKnIA==","L8OywrTCucOqSg==","w4DCqVk=","TcKWIMOs","wpnDiz0LN8O3VX/CgQ==","w7pawq83","BMOhwqLCsMO7XQ==","wozDs2rDrSI=","c8KXO8O8","wpYOw5HDqw==","UnRkKQ==","GsKhw4s=","FsKgw5rDqg==","wpJpw4M9","wq3DrRM=","JMOmG3o=","Ky1S","RiRdIA==","wrvDsmzDtg==","EsKmw4o=","U3NqNQ==","QMKpwp8=","RMKvwo88","OBrDuw==","D8O6wqDCuQ==","wpcowqA=","B8KFw6zDuw==","CcKmw4/Dphg=","DcKAw4ddw6d7wpFXHCg1","dHInw5HCksOxw5LCjg==","wr/DvmXDuT7DjQ==","wqVww5Y6w77Djy9s","GCpEw7rDrA==","w5nCvFnDp14=","w5TDhh9cw702wocew7LDjw==","wqVjw5Yww7zDnjlXw5IGLloEwpxbU8Om","wqgPwpZcBHQ=","wrrDrMKkPmzCiVc=","ScK9w6jCv8OgXMOowp7DpxjDqcK3w7E5wqdzw6ABdnLDmnl0w4UuYGnDisOcwohzw4c=","eGUNwpPDnghVRVEtwo/DicOiw43Dnn0UGsKDw7/Cu8KdchDClULCvMKXwpZOU8KdYsKbZA==","dsOAwq1VA2RBwrHDmcKJVS3Dsztjwo9eMcKGw4FTwo3CoUILcyAYworCvSMWw7HDqsOGbMOOw7dkUQ==","a3Ii","w4tiwozDusKUcsO5KR8=","TDYXw5TDmBhlc3owIg==","woFYw70=","wpZow6dr","JcKTXl0WwqrCkGw=","PAfDhU1kwpdnIg==","OMO3wqjCksO9QcO9wrXDiBvDosKhw7Y=","CSJMwovDohlSUVk7wpg=","GC5nw6XDq8KQDg==","wpXClsOww5Qfw4nDhw==","JCNJw6U=","TGbCrsKp","wqpiw65+","w6XCtVTDuA==","w7/DihJT","KcOfw7PChlcPTQ==","wqQrwpUFWiU5","w4N/wrzDssK6Y8Og","KcKiw75xw77CvcOA","MMKew4nDv1vDs0Q=","ecKYPsOk","GcKBR1M=","DcKCw4FQw7x5wrg=","w5oPJxRMwrAw","w5nCuHrDuFlxw4M=","wqVyw6Y5w7LDiTc=","PAbDskNAwpF1","cSF4JMOsasOR","cT94JMOsasOR","w7HDlk3DrGDDpMOz","Awd2","wp7DoRZjdsOBBsKHQcOTw5xXwqQ=","wpFvw4fCtcOSIsOOAsKz","bcKWIMOsZA==","wpXCgMOXw4tB","O8Kcw6daGGVhwoDDl8KUSCjDqzFi","HcK7w5jDox8I","w4RSwq0rQA==","w79/wpvDv8KhZQ==","w5oZAAsQ","wplyw4E0w6nDjxlxw5wVNGIVwp9Z","L8O9GXPCqnk=","wpHDgCocRw==","DcKKw6ZPwqE=","TcKuNh06dMORwoo4w5vDiMKA","wozDv27DrXk=","wrbDtWjDrDPDlRLCkE3CoR0r","UT4dw4TCgQ==","w7howp3DrMKscMO/CgrDvMK2AA==","wozDuHnDuyvDkQPCmkTCog4lwr0=","wp1peMKi","AxrDvsOrI8K4ED/Cgg==","VzHDtg==","LcKPWVscwr3Cm37Cmw==","wo1vw5Yxw64=","IUDDgMKfw4zCqlTDrw==","d24zw7s=","wrVow53CrQ==","YjUP","BcKnw5tfw6jCqsOOOg==","w6tiwozDusKm","SHZkPsKj","PsKLw61bw6dy","wpImM8K9w4E=","w6szwoHCq8ORI8OvGMKNwoF0wozDisKGOFUaDsKEw4F2w7cIHFVcbC5TEcKmD8OQDA==","w7XCswI1JcKNB8O+CcKMw48Dw6EQWzJDwqMqN8KTwrdsw4XDr8KsUcKaw6/DmMK1wpvDjMOuw5fDvw==","LHpPw4zDpsKqCn3CmSrCgMO4FsO1wrXCgw==","w7bDsl5tHxHCi1nCnwTDvijDl8ONIsK8","w646OMOzaGQ3R8K/w5MxWsOIw75bw5I=","TSVbOsOAZsOew7RaFQ==","wq3DpwphY8Od","SsKjNB0Aa8OBwq0Vw4A=","IMOqEnXCqnQ=","McKGw6JOw5Ju","MUHDhsKvw7bCsVXDucKOwoc=","w6MPChVgwrs6w4jCvFLCiGI=","FcKvw5Jzw77CqsKLL8OjccOgKMKww5TDoDbCnw==","Yj8Ww5DDhzM=","KMKPw7BICQ==","XSFTK8Om","KcOhH2DCp2wF","XcKgIQ==","w5BsworDt8K7MQ==","wrV8w5zCtsOb","NsKBX1Yzw74=","w7UcFwtG","ETbDjg==","w4xmwp3DrcOi","FcOaw4HCgl0eUivCtMOm","wqtnWMKzLztuGA==","w7gzw7ktCCMFag==","TMKhEcOgwrIcGsK8","wrrDixwbBMOsSXk=","G8KDw5jDp0bDuUFW","LMKBw5FPHmlKwok=","BztawrhCdsOAw5w=","ABZ9VGJR","EEjDlMK4woPDqg==","wol0w5Y8w7PDjTV5w4Y=","SyNZ","PzV9wqVeLg==","w7bCtUrDp1M=","f8KXMQ==","woPDoxdjIcKB","w4jDvh94Fg==","PMK7TVwcwonCvAw=","A8KJw6XDtEDDuA==","Hx96UHM=","w6jDhC1Lw5wXwqhM","wrZxw4fCpsOb","JxnDpcOsBw==","wqxkYsKkOA==","IBrDn8O7EMKjDDk=","bsKWAcO8ZcKof0s=","w6/Dhxdcw4s=","wrpvw6txw7M=","T3VeKcK0BsKrHQ==","dHcpw7DCjg==","FxvDo1tdwptwNg==","S8KiK8O3wqU=","wqxtw6E=","wojChcOBw51Gwp4=","dG8yw7rChcOiw57Cm0Y=","TMKlNg==","wrHDoxZ1cg==","w53Dri0=","w4rDn2zDsnbDt8Os","wrpmaA==","LxXDhEZBw4M=","wrrChcOAw4sV","N8KAw6A=","w6zDigxMw4s=","G8Ocw5XCjw==","w4Y/Jg==","w5nCmD0=","wrFyw73CscOMLsOkIA==","FMKPw7ZSAjE=","GkTDhsK+w6bClnDCrsO6w4U=","E8Kgw59vw6jCrsOf","E8Odw5I=","w6LDm3vDqWHCtg==","w53ClgrChxDCjsKZw6E=","woErLsKgw4E=","woTDgSY=","S3tp","HMOkH2HDqQ==","wpwJw4jDtzYVPMOuCsKm","wrLDthZvecOSCsKpXQ==","wrrDusK3","woLCgcOK","wrknPcKww7cww5gjd8K3","w4vDlGw=","wqTDrAdZdcOUEMKqEsKL","wqXDpwc=","P8OmG3w=","w60sw5o1Aw==","w5XDhyHDo2DDqcOrehPDsV7Co8KqwrMQw5cjHsK1w60vw5BkB8KrUsKYwqxWwqgPcw==","RcKywo05","by4Mw4XDmjl5d3c=","w7XDnxtS","w7o9w4YsHw==","QQIpw44=","wrfDowhzcg==","csKKDSkTQMOXwoMew4XDvsKuwqTDp8OTwprCmcOUw5HCtFVdw6xxOMO0BMKQEsKMV8KfLRJaw7XCrcKzcmrDmcOfd1JVw51ZbUMqPVLCvCDCksO6OkvCq8ONcsOQQ8K9wpZLOsOow6/CjFDDlSnCgyEDEsOfIEA2QXNZScK0KntpUsK/wpjCscKUw5LDpjpEUFFvKsKVw7rDqsO1eB1swoTCn8OZJsK3w5FCw7Bkwrp7wospw4DCmTjCuMKGw48obHlxP8KKwrkTw4XCiSHDvcKcfA==","LsK0w43Dg3DCvk5DwoEgfsKFwrXCiUB8wphMIcKVBsKcwrMVw7zDlzHClETDlgd6wr3Ch0nDjcKGw6bDl8OzwrDCqx/Ct8KBw6TDmjo0PcOMwqzClsKKT01Ccg03NMKSw6XCh8Oxw63CtnoaTcK3wrvCpSAPwqAOEWLCs8KVw45Ywo16wph7wq9jDGJ0w5lrHMOCC2fCrMKhKsKCFA7DoMOUOcO8HsKiEzbCu8Khw77CpcO6JMOzPsOtHWvDmsK9A3nCosO4w6xEIsKYwo07VcO5LjUGJsKgwrk3E8KKwo/Cp8OFwpM2w4Mhw4jCsx/CiQsGw6zCh8O7AULCiMKuwqzDocOQw6p+w7nDlsKOwrt1w7HCisKwQMOTI8KHNXAHckTCgHNhRMOlPXnDvsORN0hHWw==","JC5SwpHDkA9V","JMKxcE8awog=","WHJsL8KFAMKhHw1T","T8Kuwokmw5TCjsODdcKLwpk=","L8OnHWDCnXMVM8KlwoA=","HzFnwqtEdw==","w680w4srOSUPaMOaNg==","w7/Dgx9Nw60RwqJOwoLCiQ==","DMKEw6rDoXfDv0tUwose","TG/Co8K3wplue8Kxw7bDsg==","w5TDugNsBzc=","JcOAGWdOw4XCkx5uw58=","GsKrw5J6w6XCtg==","wqbCgcOcw58Ew4I=","wrNtZcKgKTo=","w7XDhRpaw5YxwqA=","GcORw5vCj1sY","OSlIwpjDkhg=","wqNow4DCpsOKLsOlKQ==","LcOiGA==","HmwwdSnCkwQ=","MQ3DvMOgEMK+EQ==","AsOrwrfCvsO9TMO+","H8KYW1AvwrvCmg==","w7LCu2vDoER7w4bCisO6w7nDiw==","wq1mw6R7w7jCikTCrMKawrnCjVM+wqk=","W2jCkcKxwqhoccKzw6PDp8OW","aj8ew57DnT5ccX0lNcKUeTo=","E8OQGWHCk3MVI8KIwpE=","w7RUwqI9EWY=","dykpw5DCozJgwq0nHg==","JcOaHXR5w48=","w79Twq45B37CnA==","GMKJRVs=","wozDhG7DrQfDigLCp03Cqw==","C8KJw63DskHDvFs=","C2YvbjTCkw5LCw==","wrfDtcKnHmnCk3TDu8K1PMOdL8KwHQ==","wqtSDBZHwrYjwpTClU4=","w53Dpx1kASvCug==","w7EmJMKpMjZlIMK5w4k0RsOXw7NHwojCjRwSwq86UAfDkcOqwqXDsSkNXsOZDHXDjhXCtkvDo8Oa","FTQiM8KpC8KgJSFIwq/CscO6JcKiwqfDi1E3w7NNwrvDkcKWSS0hwprDnMO3RmA=","elvCo8OhDcKuBwHClgPCkcOKFijDjsKswpvDrkEAa0VYVWzDq041wpjDmjrDqsOTwoRY","fMOAwqxSw7x+wrZxBSIibMKuLcKBw4/DhsKKIsKCwqXDuRI0GzjCtXzCnMOsS8O9wp0GwpTDscKDMGgb","w4XCkDs=","w6AFER1Nwrc=","PBrDokBawpx6Ig==","w5M3w48g","wp7DqQF/R8OHCsKgVsOtw4lBwrNJ","DcKPWVsu","K8KHw6V5FXRBwp0=","wqVuw7Y6w6jDhDhs","Mxh2SkVaOMKdw6DCuAxw","DUDDicKrw77Cu0jDj8KswpvDvsKYHsOrSA==","woBjbsK+DjFoGsKww5M8Vg==","RcKdPcOLZcK4YVgiwrJ2ay4=","PB3DnllkwpdnAjxPbsKjFVpq","KcKgw65yw6TCsMOPOg==","CcKRTQ==","P8KMw64=","N8KWw7NTw6FuwqA=","PcKgw43Dqg4f","A8KFw6k=","wpbDrRZiVsOHEcKuXQ==","wrh1w4Izw7jDmDl7w70LInEKwrFHUcO7NsOcwqnCksK/","wrbDtWg=","w5PCoF7CrA==","e8KVNcOn","wroWw4jDlBch","wonCjcOCw5AVw5g=","MQ3DuMOqDMKu","McKcw6Zdw6d/","PDHDvmxwwqpYHg1qVMKKL3JK","wqZvw4vCpMOKIg==","Z8KKB8OXwp8tMsKUw4Idwp7Dqg/CozU=","DMKKw6w=","DVHDgcKyw4fCs3zDs8KrwpY=","GcODHWw=","w745w5k8Dg==","w5zDn3zDpXs=","JcKBW084wqHCjQ==","PATDgkBMwpdtIg==","ZHt9LcKjAcKh","ZH5iG8KvAcKkFiVdwq4=","w695wozDt8K7Zw==","PMKLw6FJFXBQ","AsOrwrPCtMOhXA==","w6fDrx9kEDrCun4=","LsK4a1sG","wr7DtG/Duw==","w5nDhR1Nw5cOwrJEwrE=","T8K0wo01w6PChA==","SsK5MA43YQ==","EWvDpA==","H8KYX1ozwqs=","wprDusK3I2fCjVDDpsKo","GHUsdg==","dwY+w4bCmB9owrcoEA==","JSdLwp7DlA==","I8O2wqTCo8O2SMO5wq7DuA==","BgzDhEpBwpY=","wrfDvmjDrDPDlRLCkE3CoR0r","wozDq3nDuzzDpwrCvULCpQ==","w4PDggg=","CSJU","JcKQWVorwo3ChXDCgcO4","KMKPw6Y=","w7nCkjrCgFU=","w5nCjCrCmw==","ABvDnkxOwoY=","P8K7bEwd","DcKgw5rDgBIZABQ=","woIjO8KRw50Mw7xi","wqBlw5rCoMOQIw==","wqplw6U=","w6kkw548FC4=","CXEzfy8=","NSpOwpE=","wqnCgsOV","RMKkMQo=","CTNEwpLDgwF9dVgn","NwfDqcOuFsKvJzDCmB7CjMOPDiLDjw==","DcKDw6pSw5FvwrVIDT8VcMK4LQ==","PBnDn0tK","w7HDl2DDpGo=","B8KDw61fCQ==","ZzQRw4M=","w5nDlX3DpHw=","woBlZMKjOA==","K8K1ckQ=","CSZNwpnDlA==","KcKRw59vw7TCv8OfJsO+","w5nCuVfDsFM=","WBcow4fChzNj","cTVcJ8OxZMO3w75/BA==","wq4PEsKQw7sgw59eEMOMw6DChMOXwqPCiw==","w5oZBAxC","w5rDswJoGAzCoHfCrQ==","MhnDucO8Cg==","CTtQwpLDkglDaQ==","NMKCw7ZPw7s=","ezQIw5bDlw==","XcK2NsOxwq4R","OyJawrTDnw==","w7rDhAxSw48KwrJOwrE=","JT9QwpTDnwtZfEU=","CcKDw7nDvlXDpA==","CDJAw6fDl8KgKQ==","wpIjLMK7w4EKw610OsO1","K8KPw65P","TT9fKcO3bA==","wqpsw6xxw7fCmw==","WMKpwrsgw6XCiMOJdw==","WGjCsMKhwqk=","w7hEwq05Bnc=","w69hwpfDvcKw","wowQw5TDtjAC","YmM0w7bChcOh","IjpRw6zDqsKX","N1HDk8K4w5vCug==","SsKtMg==","w6gSAR0=","LsOjE3HCtU8YLMKB","fMKWIMOldsK1","wqx7w7Z3w7jCiw==","LsK7bEUPwpQ=","WGhoPMKyCsKBHy9VwrLCtMOiL8Kj","AcO6wqnCsMOjUcO3wqQ=","JT9QwpTDnws=","w6xswozDrcKw","wq55w4g=","w5PDmxtRw70twoo=","wrzDhSELGcOo","wpg1wrIIQSM=","w43DiGrDoXvDog==","GGYley/Cgg==","XjsLw4TDhDR+Z1A0I8KDaQBSwpIEUcOU","wrrDrMKgNHDCmQ==","w5vDuQo=","L8OpGw==","wqBlw4vCpsOLM8Ov","w7BTwrELG2jCjQ==","wqxrw73CrMOEIg==","wp4pwrQbTDYm","FcOSw53Chg==","FcKsw4Q=","wpwjJMKaw4o=","wqZ7w4k=","w4N9wp/DrMKmZQ==","w6MSFxVCwqc=","w7nDkxtcw5sKwqM=","wpQFw4HDjDodLQ==","X8KnwoQg","wq3DhSMD","wrjDvnI=","wqTDuhRpZcOBEA==","wo8Sw5fDqzwTMcO7Fw==","wq3DqwY=","wr0Bw4vDug==","w4TCkCHCugw=","w4fDlGbDtA==","wqjDrA1y","wqfDiiYb","w6rDlzofE8O3","wqhzw7J+w68=","Enopbg==","QcKqJiA0asO1wro7w4TDjsKZwqDDtA==","UMKvMcObwrcbJMKpw78gwqTDlTTCng==","w6hiwq3DqsKnacOlLw==","w69ZwpssAHvChsK+","GBxAR2RQPsKf","w7XDhRdL","LHsyfhrClQVaFw==","w53DpxluHTs=","Xxk+w4fCnQ==","EB3Dl21WwoZ7Ig==","wqxhbMKFJCZlDA==","wqVmw6x1w6LChw==","fS4Kw57DnTxlZWs=","W8Kpwpoww6Q=","w7XCvV/Dlk9mw43Cng==","X8Kvwo8Ww67ClcOCYw==","ABjDkUJf","w53Dk2jDgnbDs8O9fQ==","wrJyw5zCocON","BcOaw5bCqEEYQz0=","DxZ6Xw==","w43DlmDDrmo=","ABXDnEM=","w6xZwro8AQ==","eTUKw5PDgA==","wqHDumXDuiXDiA==","XCxULMOsZA==","BsK7w491","QRglw5c=","AcOcw4PCjks=","MsOHK2F/w4PCmRw=","SMK7McO8","woUlD8Knw5YRw7d2","w7FZwqE2","dsKcPMOvY8Kp","BcOGw5PCmUwe","Gjpgwrg=","S3o0w7rChcK0","CH0nWCLCkxJI","wosywqQB","T8K5OgIAbMOEwroXw5vDj8KO","RsKpwoE6","w7DDjhBYw5oW","bTIZw4XDsDRoZlMh","w6Uyw4Mt","B13DgcOl","w695wozDt8K7Z8OiLh8=","Snosw7XChMO3w5rCmFvCjsK/wq/DscOSwoLDnTjCncKnbA==","FgDDqsOpB8K4BzrCuQDCmsOcEQzDkcOkwpfDrlEEd0c=","w7VjwpfDqg==","CGAyczXCgA==","IsKPw7FPw7Y=","MxdyR3c=","w4rCljfCkAPCkw==","w4PDhTpew5ofwoRSwrfCmBw=","wolpw4MXw6TDnjls","wp7DpgVydg==","JSJFwr/DiBhVaQ==","GMKMRFw2wpzCgGXChw==","JcONEXk=","K8OJAA==","E8OiFXzCnGkXMMKBwoZmasKLw7o=","wqfCjcOc","WH8vw4PCmcOqw5TCmEzDncKowpfDmMKcw5E=","wqDDq2fDtynDgA==","PyVLwok=","NxnDo8OhBw==","W8KvLsO4","B8KKw6NPDQ==","KxXDg0dKwoA=","TMKzIQotYA==","w4vDgnvDpWHDow==","SxAr","w7nDkwpaw4Aa","wrd4w53CoMOK","w6lTwrs9Bg==","wpwBw5TDsw==","w5nCsFfDhlNhw43CmQ==","woB4ecKoPjdzDA==","w7HDm3/DsGrDqcO8","woDDsMK7F3fCk0XDpcKzNsOd","BsKCw6LDpw==","JD5ScA==","Fix5wqNCa8Od","w77ClivClyPClcKFw6dK","NMOSw4LCjw5Y","w7ISFxxQ","NCtCw4vDvcKHAE0=","RcKUM8O4","wqLDrgVrZw==","wrHDtxdu","JCpEw7vDhcKH","FcKmw51vw5DCqg==","wq/DocKnOQ==","wqNsw6t8","w6kYCx9Xwrs=","wppww4/CtQ==","dsK5MBkmdsOWwq0Zw5XDmw==","cT9fPsOme8OJw7RWAMOp","KsONFnJ5w4I=","JCpEw7vDh8KcAVvClWs=","w7hewqkqM2Y=","JcOhGHfCplMX","wrzDvMK1I13CkkDDrMKbOA==","FcOBw5TCi0wJ","w6PCuls=","wqx7w7J9w6TCm2c=","fAfCiMKzw5rCulTDg8KiwpzDv8KJB8OiXl7CjcO3fwfCosOpZcOTw57DmBo3CsK0NBBF","dsKQMA==","wojDu8KmNV/Cj1bDqMKj","wqQ+OsOiwpI6w5w=","JxzDq8ONG8K+By0=","wq99eMKv","IMOaF3hOw4LClglsw4RLwpQ=","UsKhK8O6","w4/DsB9vAA==","w6x4wo3Dtg==","wqLDgSEIAsOt","Sx4tw5HCrTJgwr0KDw==","wrzDpsKxMGrCmA==","eGUNwpPDnghVRVEtwo/DicOiw43Dnn0UGsKDw7/Cu8KdchDClULCusKOwpRAGcKRPw==","VTpvdDTCgxJkA0TCm8O9w5k4w73DgsKEwpd1w5zCqMOnaA7ClMKQwrpRw5/Cu8OCw6BT","w73CtSTDsCXDgQPCjUzCoRo1wqPDh8ONw4dcJsOpJ8OOc8Kow7Itwr7CoU5bw7cUesO7","w6A1w4g=","wqvCiMOVw5c=","ITcm","CQtnVnhd","ayIMw5LDnT8=","w75Owrw9HHY=","JDBAw6jDsMKW","ZGklw7LCn8Og","w7HCu0rDsEU=","wrTDscKtAnfCh0E=","w7XDnxtNw48Kwq9Ewq3Cjg==","w7dTwqY/Bno=","A8ODw5XCi0wJ","SsKrMcOxwrQ=","GcKPRVw8wrs=","wqDDsmzDnDPDkQPCoQ==","ecKWP8O4YsK1dA==","M8K4w4xWw5XCmA==","w6kkw5o2CD4Y","dsOAwq1VA2RBwrHDmcKJVS3Dsztjwo9eMcKGw4FTwo3CoUILcyAewojCsGgOwq8=","IHRXw5nDnD9pXH86NMKTYSZIw40PRsOfw7oFw7bDtGDDmxvDv3VSOMK3ZDgOFArCssOaEUg=","wpZpw4Y=","FxzDvMOnB8K4Mj/CiQ3CmMOM","wp4pwrQ=","MsKFUw==","YXQyw77CisOx","wpfDscKs","w5vDth1jFi3CvWjCsBM=","wr7DhT0cEw==","KsOgDn/Cv2g=","BMOqBA==","IjpVw6bDtsKHFg==","w73CtSTDsCXDgQPCjUzCoRo1wqPDh8ONw4dcJsOpJ8OOc8Kow7Itwr7CqkxIw7EUesO7","wqLDjS0=","RXozw7Y=","w7vDjmnCuA==","wr7DuMKzPg==","c1dMHg==","McKAw6tP","BcOHw4PCg1YL","wosmwqUaUA==","TWvCrcKmwrFSdsKuw5I=","PsKHw6xaAGlewos=","OMO8wozCtMO2","wq4jF8K2w50=","ZHcvw73Cjg==","dsKjNBwrYcOX","LcKew6ZaGGU=","DcKHw4hZw6o=","w4RewqkrGnfCmg==","XsKnLMO1wqwcDsK+","wokiwqQMQQ==","w71fwqY5HnvCksK8","w7HCusO7P3HCmUHDlsK3I8OcKMKoAUltAMK1w7Una8Oqw6nCmAnDmDYiM8OCwo7DsG8=","WMKdwp7ChFcIQxHCocO9NG8pw5bDscKldXRQw5sAL8O0w7ZbRgXCqmAmanRJMnhzUg==","wrUYw6c2HXbCjcKGbMKfACAJw5dULkouEkpRAkM0C8OiQU1ITMOsV8KnVsKdw5bCjsKcwqLCksK7w4cxLQ==","elvCo8OhDcKuBwHClgPCkcOKFijDjsKswpvDrkEAa0VYVWzDq04twovCnDzDrcKOwosdw7Mowr1q","w7HCusO7P3HCmUHDlsK3I8OcKMKoAUltAMK1w7Una8Oqw6nCmAnDmCYlIMKWwo7DsG8=","XXomwqJfe8OLw6R+MsO1w7hTw6NwL0XDpDHCim3DmkMpwp/Ci8K7YTxbSEfDq8KGNg==","w7EmJMKpMjZlIMK5w4k0RsOXw7NHwojCjRwSwq86UAfDkcOqwqXDpy8PQcKJWSjDgVA=","w7EmJMKpMjZlIMK5w4k0RsOXw7NHwojCjRwSwq86UAfDkcOqwqXDpy8PQMKVB3U=","wqtTShZMwrc+w6XCklLCiHLDkHzDrsO3wpIYYQAaw7TDscKHw6DDr8KbPMOebhHCjEg+f8KPa1s=","FTQiM8KpC8KgJSFIwq/CscO6JcKiwqfDi1E3w7NNwrvDkcKWSS0kwpPCiMK6AnnCng==","ZsO6MUYBwoTCtzR2wpwaVAnCnsKgwq7CuG0vNH/DjMOFB8OEcTrDgifDjMOWw5x3wqnDlA==","XXomwqJfe8OLw6R+MsO1w7hTw6NwL0XDpDHCim3DmkMpwp/Ci8Ktfy0CGRfDq8KGNg==","elvCo8OhDcKuBwHClgPCkcOKFijDjsKswpvDrkEAa0VYVWzDq0gqwpjDmTvDvsOQwo1EwrVjw7lzw50=","w7EmJMKpMjZlIMK5w4k0RsOXw7NHwojCjRwSwq86UAfDkcOqwqXDuSgKFsKWDmDDiQ3DqBY=","WMKdwp7ChFcIQxHCocO9NG8pw5bDscKldXRQw5sAL8O0w7ZbRhDDszBuJHhPJXhzUg==","w6TDisKdw5Yfw47DicK9PygORiLDk3htB0wvw69qeS7DocKQw7R4WmFeRsOiV05pwp3CocOPKcKswoLCv8OYw47Dkg==","w6/CrEtoeMORBsKQScOQw4hHwrpYHCsUw6V+fsKGw6F1woLCr8OiDsOFw6jChMO8wpLCmcOvw4HDt20=","KTVvw73ChMOhw5LColLDgcKOwo7Dm8Kaw4nDkj/CjsKqfcO1R8O2ccKEwrs6HGUEwqERFMOgH2TCmg==","ZsO6MUYBwoTCtzR2wpwaVAnCnsKgwq7CuG0vNH/DjMOFB8OEcTrDgSjChcORwoAqwqrDn8KMIMKcw7DDjFA=","wpbCsUJlHDvCrFLCpQjDshXDiMOqGMKkwpjCsMO4w5DDrMKTwrB1OXteDWjCp17CscKeVMKKXcOMd8K8w4QJ","eGUNwpPDnghVRVEtwo/DicOiw43Dnn0UGsKDw7/Cu8KdchDClULCqcKAwoIIXsKII8OIICQBw4rCicK5wqg=","YsKhU3zCsXgUCcKJwptRdsKdw7rDusOxdjLDt8ORBMKGwpjCusKvwrBLMXl0CsOFw6vDvDNnw7LClcKLES0Xw5Ud","w7EmJMKpMjZlIMK5w4k0RsOXw7NHwojCjRwSwq86UAfDkcOqwqXDtSIdXcORHg==","w6DCimABGcOhQkHClcKZK8OkUzjCoSnCq2bCmcKwwr0Sw5HCo8O8dE/DqHnCnHVyeMKDwoPDm1LDkw==","TVrCn0FAwpZ7DjJIb8KyDFN8eMOxwqbDrcKjZyYzw4oZC8O0wr8iDDEl","aMKGV3tiw47CkiRCw4RLwoTCswMQDRXCgRcCwq8DBydcwo18XxRZSMKBw6vDssKQDBsnMSt0cg==","G8Kxw43DrRkZFg==","w7rDnhBcw5oXwqlF","wrNhaQ==","RmnCq8Kx","wpNuw40h","Dnokfz3CjhleCg==","w4zDj2nDpmrDtQ==","TDROLcOMb8Ocw6J+FQ==","Sg84w4bCojhqwr8/Ew==","EDVlwqA=","wq/CnMOCw5cCw57Dnw==","woDClCDDrmDDo8O9UQzDq1nCosKpwqRLw5oyCcK4w6gpw5FpGcKwFMKIw6ENw6UBMMO/","EsKgw58=","BcKBw7FYw5JowqFPEQ==","GsKPw7BUw7Zo","SRorw4w=","NRfDvw==","HMKFw6U=","wp4/wqMMWyI=","IcK6d1w=","wr3Ci8OAw5wD","wr5sw7B2w6U=","woDDusKQMGrCnGbDsMKuKcOL","wrnCjcOVw7oJw57DicKR","T8KnOgAx","IcKHw6R+w6puwrZd","w5oNFxdAwrYow4k=","w4PDgx9Mw4Y=","L8KBw7BfHw==","wqpvw618w7M=","w5Zyw70=","JB5yUFt9ZQ==","c8Klwpoxw7bClcOCWMKnwozCjcKgbE7Cg8Olaw==","V8K9Zw==","w4zCgSnCnBDCk8KE","F8KPT1o=","wopFw4A=","Lh98UH16OcKIw6zCqBJYw70Ew70=","E8OLw4XCj1YI","JhrDk11WwoJqPi0=","PcKWw7ZeAmQ=","KcOQw5jCmlAJVA==","HMKlw5LDoQA+DB0Z","wpXClMOAw50Gw6jDgMKNMSw=","w7YRDBtG","XsKcMcO6bsKxZUMS","KcO3CHfCsHg=","CxbDpcO/CsKvEA==","TsKqwoc3w7zCssOOasKv","wrLDrg1lcg==","TSxWJA==","woBhfQ==","FMO/wq7CssOq","w4Rfwr4=","dsK7Jwo1RsOJwqc3w58=","azQbw4XDiit4QX46M8KN","G8Khw5h4","fMOAwqxSw7x+wrZxBSIibMKuLcKBw4/DhsKKIsKCwqXDuRI0GzjCtXrCnsOhAMOlw4M=","w5hiwpofHnPCjMK0YMKe","F30i","wojCiMOdw5sbw6nDhcKSOiIYfiHDkm4=","wr4pwrQbTDYmccK+","w7l1worDu8K7ZA==","w7HDmWbDsGfDosOq","w4vClTbCkAnCtMKew7xW","JcKDREozwrvCjG0=","c8Klwochw7nClcOCYg==","CcKMQlw4","wrpmaMK1JCJ0PcK4w4kzWA==","Q34jw6HCksO1w4PCkk0=","NcKaw65aw73Cv8OPJMOtbQ==","w6PCrEjDu0Rmw5s=","wqtTShZMwrc+w6XCklLCiHLDkHzDrsO3wpIYYQAaw7TDscKHw6DDr8KKOsOcblLCggo=","aMKGV3tiw47CkiRCw4RLwoTCswMQDRXCgRcCwq8DBydcwo1tVwZTRMKHw6vDvcKaGR9qInY=","wpIPw5zDug==","w7vDiz8=","wql0w4w=","f8KBJsOtecKl","QnUjw6HCksO1w4PCkk0=","woDDvcKi","wozDuGTDqyTDkQPCoA==","F8K3cV0AwpTCtxk=","w5rClTDCkAc=","RcKQJA==","BcKiw5V+w7Q=","wqxtw6Fgw6/Cn2DCnMKZwqbCi0o=","K8KJw6jDoU3DoFtewrg=","AsKDw6/Dtg==","EX3DtQ==","wqBlw57CqsOMM8O5","AsOow4c6w7jChcOCT8KnwoLCisKdZUfCgMKvemw5FGQuUcKkCcKywoHCo8KIw7gVcgY=","wqfCi8OWw50=","AgFn","w6kUBw==","w6PCrEzDsVh2","OMOwwq7CocOnXcO/","YnUjw6HCksO1w4PCv1PDgcKJwpA=","w5howp3DrMKscMO/JxQ=","wpHDhyYfHsOgVQ==","P0bDg8K4","wppLSQ==","fAfCiMKzw5rCulTDg8KiwpzDv8KJB8OiXl7CjcO3fwfCosOpZcOTw57DmBoxCMK5fwgbwrrCv8K4MMOWb8OC","w7HDhBpa","PkDDhQ==","wrQkP8Khw50Iw61+MA==","w4zCgS3ClgzCgw==","F8K3d1gGwoXCoA==","wpkrwrgKXhU7ZMKp","DcKHw7U=","DULDgsKkw4bCqkPDucKuwp4=","w5oWAAFQwqcpw5/CnlA=","w6hawqE7Fw==","KcOaw4c=","CsKCw6jDoU3DoFtzwqYFbMKH","w4LCsVvDpk9iw5zCgsOc","ZzAO","w5Vpw7gHWiI3QcKhK8OFwoFgwr0zT3XDsWY1LcOrw6HDhSLCmsK6w6vDlVjDj1E1"];a=u,s=455,function(t){for(;--t;)a.push(a.shift())}(++s);var c=function(t,e){var i,r=u[t-=0];if(void 0===c.TYJdDY){(i=function(){var t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}()).atob||(i.atob=function(t){for(var e,i,r=String(t).replace(/=+$/,""),n=0,o=0,a="";i=r.charAt(o++);~i&&(e=n%4?64*e+i:i,n++%4)?a+=String.fromCharCode(255&e>>(-2*n&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a});c.AoDqaI=function(t,e){for(var i,r=[],n=0,o="",a="",s=0,u=(t=atob(t)).length;s<u;s++)a+="%"+("00"+t.charCodeAt(s).toString(16)).slice(-2);t=decodeURIComponent(a);for(var c=0;c<256;c++)r[c]=c;for(c=0;c<256;c++)n=(n+r[c]+e.charCodeAt(c%e.length))%256,i=r[c],r[c]=r[n],r[n]=i;c=0,n=0;for(var l=0;l<t.length;l++)n=(n+r[c=(c+1)%256])%256,i=r[c],r[c]=r[n],r[n]=i,o+=String.fromCharCode(t.charCodeAt(l)^r[(r[c]+r[n])%256]);return o},c.QNUnjM={},c.TYJdDY=!0}var n=c.QNUnjM[t];return void 0===n?(void 0===c.wcHSLf&&(c.wcHSLf=!0),r=c.AoDqaI(r,e),c.QNUnjM[t]=r):r=n,r};!function(a,s){var u;if((u=!0,function(t,e){var i=u?function(){if(e){var i=e[c("0x0","7PuZ")](t,arguments);return e=null,i}}:function(){};return u=!1,i})(this,(function(){var t;try{t=Function("return (function() "+c("0x1","9NOF")+");")()}catch(e){t=window}var e,i,r,n=new RegExp(c("0x8","tE3M"),"g"),o=c("0x9","lW#@")[c("0xa","kyEC")](n,"").split(";");for(var a in t)if(8==a[c("0xb","0d*8")]&&116==a[c("0xc","^X0k")](7)&&101==a[c("0xd","D$aK")](5)&&117==a[c("0xe","px4X")](3)&&100==a.charCodeAt(0)){e=a;break}for(var s in t[e])if(6==s[c("0xf","XXCA")]&&110==s[c("0x10","7PuZ")](5)&&100==s[c("0x11","@CC]")](0)){v=s;break}if(!("~">v)){for(var u in t[e])if(8==u[c("0xf","XXCA")]&&110==u[c("0x12","lW#@")](7)&&108==u[c("0x13","$euG")](0)){i=u;break}for(var l in t[e][i])if(8==l[c("0x14","P3*W")]&&101==l[c("0xe","px4X")](7)&&104==l[c("0x15","I9]i")](0)){r=l;break}}if(e&&t[e]){var f=t[e][v],d=!!t[e][i]&&t[e][i][r],h=f||d;if(h){for(var p=!1,_=0;_<o[c("0x16","soQY")];_++){var v=o[_],m=h[c("0x17","8fH9")]-v.length,g=h.indexOf(v,m);-1!==g&&g===m&&(h.length!=v[c("0x18","5Ma]")]&&0!==v[c("0x19","@CC]")](".")||(p=!0))}p||(data,c("0x2","D$aK"),c("0x3","ob8$"),function(){for(var t=0;t<1e3;t--)switch(t>0){case!0:return this[c("0x4","@CC]")]+"_"+this[c("0x5","7PuZ")]+"_"+t;default:this[c("0x6","pMSP")],this[c("0x7","X]AG")]}}())}}}))(),typeof e===c("0x1a","5f]%")&&typeof t===c("0x1b","kyEC"))t.exports=s();else if("function"===c("0x1c","qFpu")&&i(359)[c("0x1d","px4X")])n=[],void 0===(o="function"==typeof(r=s)?r.apply(e,n):r)||(t.exports=o);else{var l=s();for(var f in l)e[f]=l[f]}}(0,(function(){return function(t){var e={};function i(r){if(e[r])return e[r][c("0x1e","[c(d")];var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n[c("0x1f","MxYP")],n,n[c("0x20","[hIS")],i),n.l=!0,n[c("0x21","@isz")]}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol[c("0x22","[BX%")]&&Object[c("0x23","qVnI")](t,Symbol[c("0x24","$euG")],{value:"Module"}),Object[c("0x25","ob8$")](t,c("0x26","px4X"),{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&typeof t===c("0x27","u76Y")&&t&&t[c("0x28","pMSP")])return t;var r=Object[c("0x29","I9]i")](null);if(i.r(r),Object.defineProperty(r,c("0x2a","u76Y"),{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}[c("0x2b","@isz")](null,n));return r},i.n=function(t){var e=t&&t[c("0x2c","Fb*n")]?function(){return t[c("0x2d","lW#@")]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object[c("0x2e","[c(d")][c("0x2f","*VJU")].call(t,e)},i.p="/",i(i.s=c("0x30","F)TN"))}({"../node_modules/crypto-js/aes.js":function(t,e,i){var r;t[c("0x31","P3*W")]=(r=i("../node_modules/crypto-js/core.js"),i(c("0x32","5Ma]")),i(c("0x33","^X0k")),i(c("0x34","MxYP")),i(c("0x35","cd6q")),function(){var t=r,e=t[c("0x36","1qwt")].BlockCipher,i=t.algo,n=[],o=[],a=[],s=[],u=[],l=[],f=[],d=[],h=[],p=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var i=0,r=0;for(e=0;e<256;e++){var c=r^r<<1^r<<2^r<<3^r<<4;c=c>>>8^255&c^99,n[i]=c,o[c]=i;var _=t[i],v=t[_],m=t[v],g=257*t[c]^16843008*c;a[i]=g<<24|g>>>8,s[i]=g<<16|g>>>16,u[i]=g<<8|g>>>24,l[i]=g,g=16843009*m^65537*v^257*_^16843008*i,f[c]=g<<24|g>>>8,d[c]=g<<16|g>>>16,h[c]=g<<8|g>>>24,p[c]=g,i?(i=_^t[t[t[m^_]]],r^=t[t[r]]):i=r=1}}();var _=[0,1,2,4,8,16,32,64,128,27,54],v=i.AES=e[c("0x37","F)TN")]({_doReset:function(){if(!this[c("0x38","qx8B")]||this._keyPriorReset!==this[c("0x39","7PuZ")]){for(var t=this[c("0x3a","X]AG")]=this._key,e=t[c("0x3b","@isz")],i=t[c("0x3c","jtZ[")]/4,r=4*((this[c("0x3d","7MZ4")]=i+6)+1),o=this[c("0x3e","HhMU")]=[],a=0;a<r;a++)if(a<i)o[a]=e[a];else{var s=o[a-1];a%i?i>6&&a%i==4&&(s=n[s>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s]):(s=n[(s=s<<8|s>>>24)>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s],s^=_[a/i|0]<<24),o[a]=o[a-i]^s}for(var u=this[c("0x3f","46xk")]=[],l=0;l<r;l++)a=r-l,s=l%4?o[a]:o[a-4],u[l]=l<4||a<=4?s:f[n[s>>>24]]^d[n[s>>>16&255]]^h[n[s>>>8&255]]^p[n[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this[c("0x40","5Ma]")],a,s,u,l,n)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this[c("0x41","0]Mi")](t,e,this[c("0x42","qx8B")],f,d,h,p,o),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,r,n,o,a,s){for(var u=this[c("0x43","soQY")],l=t[e]^i[0],f=t[e+1]^i[1],d=t[e+2]^i[2],h=t[e+3]^i[3],p=4,_=1;_<u;_++){var v=r[l>>>24]^n[f>>>16&255]^o[d>>>8&255]^a[255&h]^i[p++],m=r[f>>>24]^n[d>>>16&255]^o[h>>>8&255]^a[255&l]^i[p++],g=r[d>>>24]^n[h>>>16&255]^o[l>>>8&255]^a[255&f]^i[p++],y=r[h>>>24]^n[l>>>16&255]^o[f>>>8&255]^a[255&d]^i[p++];l=v,f=m,d=g,h=y}v=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&h])^i[p++],m=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[h>>>8&255]<<8|s[255&l])^i[p++],g=(s[d>>>24]<<24|s[h>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^i[p++],y=(s[h>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^i[p++],t[e]=v,t[e+1]=m,t[e+2]=g,t[e+3]=y},keySize:8});t[c("0x44","0d*8")]=e._createHelper(v)}(),r[c("0x45","Q%CA")])},"../node_modules/crypto-js/cipher-core.js":function(t,e,i){var r,n,o,a,s,u,l,f,d,h,p,_,v,m,g,y,E,w,A,b;t[c("0x46","cd6q")]=(r=i("../node_modules/crypto-js/core.js"),i("../node_modules/crypto-js/evpkdf.js"),void(r.lib[c("0x47","Q%CA")]||(o=r,a=o[c("0x48","lW#@")],s=a.Base,u=a[c("0x49","X]AG")],l=a[c("0x4a","7MZ4")],f=o[c("0x4b","Fb*n")],f[c("0x4c","[BX%")],d=f.Base64,h=o[c("0x4d","0]Mi")][c("0x4e","kJMj")],p=a[c("0x4f","8fH9")]=l[c("0x50","MxYP")]({cfg:s[c("0x50","MxYP")](),createEncryptor:function(t,e){return this[c("0x51","cd6q")](this[c("0x52","qx8B")],t,e)},createDecryptor:function(t,e){return this[c("0x53","qFpu")](this[c("0x54","4EYt")],t,e)},init:function(t,e,i){this[c("0x55","lW#@")]=this.cfg.extend(i),this[c("0x56","46xk")]=t,this[c("0x57","I9]i")]=e,this[c("0x58","7PuZ")]()},reset:function(){l[c("0x59","9NOF")].call(this),this._doReset()},process:function(t){return this[c("0x5a","@isz")](t),this[c("0x5b","qx8B")]()},finalize:function(t){return t&&this[c("0x5c","^X0k")](t),this[c("0x5d","^X0k")]()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return typeof t==c("0x5e","&s$B")?b:w}return function(e){return{encrypt:function(i,r,n){return t(r).encrypt(e,i,r,n)},decrypt:function(i,r,n){return t(r)[c("0x5f","jtZ[")](e,i,r,n)}}}}()}),a.StreamCipher=p[c("0x60","[hIS")]({_doFinalize:function(){return this[c("0x61","P3*W")](!!c("0x62","0d*8"))},blockSize:1}),_=o[c("0x63","Fb*n")]={},v=a.BlockCipherMode=s.extend({createEncryptor:function(t,e){return this[c("0x64","@CC]")][c("0x65","D$aK")](t,e)},createDecryptor:function(t,e){return this.Decryptor[c("0x66","tE3M")](t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),m=_[c("0x67","46xk")]=function(){var t=v[c("0x68","@isz")]();function e(t,e,i){var r=this[c("0x71","@CC]")];if(r){var o=r;this[c("0x72","kyEC")]=n}else o=this[c("0x73","@isz")];for(var a=0;a<i;a++)t[e+a]^=o[a]}return t[c("0x69","*VJU")]=t.extend({processBlock:function(t,i){var r=this._cipher,n=r.blockSize;e[c("0x6a","[c(d")](this,t,i,n),r.encryptBlock(t,i),this[c("0x6b","pMSP")]=t[c("0x6c","kyEC")](i,i+n)}}),t[c("0x6d","[hIS")]=t[c("0x6e","qx8B")]({processBlock:function(t,i){var r=this._cipher,n=r.blockSize,o=t.slice(i,i+n);r[c("0x6f","Fb*n")](t,i),e.call(this,t,i,n),this[c("0x70","Fb*n")]=o}}),t}(),g=(o[c("0x74","jtZ[")]={})[c("0x75","1qwt")]={pad:function(t,e){for(var i=4*e,r=i-t.sigBytes%i,n=r<<24|r<<16|r<<8|r,o=[],a=0;a<r;a+=4)o[c("0x76","1qwt")](n);var s=u.create(o,r);t[c("0x77","qx8B")](s)},unpad:function(t){var e=255&t[c("0x78","0d*8")][t[c("0x79","Q%CA")]-1>>>2];t[c("0x7a","1bZK")]-=e}},a.BlockCipher=p[c("0x7b","qFpu")]({cfg:p[c("0x7c","qVnI")][c("0x7d","7PuZ")]({mode:m,padding:g}),reset:function(){p[c("0x7e","[c(d")][c("0x7f","kyEC")](this);var t=this[c("0x80","8fH9")],e=t.iv,i=t[c("0x81","tE3M")];if(this[c("0x82","kyEC")]==this._ENC_XFORM_MODE)var r=i[c("0x83","MxYP")];else r=i.createDecryptor,this[c("0x84","cd6q")]=1;this[c("0x85","qx8B")]&&this[c("0x86","9NOF")].__creator==r?this[c("0x87","jtZ[")][c("0x88","ob8$")](this,e&&e[c("0x89","9NOF")]):(this[c("0x8a","5Ma]")]=r[c("0x8b","0d*8")](i,this,e&&e[c("0x3b","@isz")]),this[c("0x8c","kyEC")][c("0x8d","soQY")]=r)},_doProcessBlock:function(t,e){this[c("0x8e","[BX%")].processBlock(t,e)},_doFinalize:function(){var t=this.cfg[c("0x8f","pMSP")];if(this[c("0x90","Kwna")]==this[c("0x91","1bZK")]){t.pad(this[c("0x92","F)TN")],this[c("0x93","P3*W")]);var e=this._process(!!c("0x94","MxYP"))}else e=this[c("0x95","kyEC")](!!c("0x96","cd6q")),t[c("0x97","ob8$")](e);return e},blockSize:4}),y=a.CipherParams=s[c("0x98","4EYt")]({init:function(t){this[c("0x99","kyEC")](t)},toString:function(t){return(t||this[c("0x9a","@CC]")])[c("0x9b","kyEC")](this)}}),E=(o[c("0x9c","lW#@")]={})[c("0x9d","OPMO")]={stringify:function(t){var e=t[c("0x9e","1bZK")],i=t[c("0x9f","jtZ[")];if(i)var r=u[c("0xa0","Kwna")]([1398893684,1701076831]).concat(i)[c("0xa1","qVnI")](e);else r=e;return r[c("0xa2","D$aK")](d)},parse:function(t){var e=d.parse(t),i=e[c("0xa3","$euG")];if(1398893684==i[0]&&1701076831==i[1]){var r=u[c("0xa4","u76Y")](i[c("0xa5","&s$B")](2,4));i[c("0xa6","kJMj")](0,4),e.sigBytes-=16}return y[c("0xa4","u76Y")]({ciphertext:e,salt:r})}},w=a.SerializableCipher=s[c("0xa7","%XF%")]({cfg:s[c("0xa8","OPMO")]({format:E}),encrypt:function(t,e,i,r){r=this.cfg[c("0xa9","46xk")](r);var n=t.createEncryptor(i,r),o=n.finalize(e),a=n[c("0xaa","tE3M")];return y[c("0x53","qFpu")]({ciphertext:o,key:i,iv:a.iv,algorithm:t,mode:a[c("0xab","F)TN")],padding:a.padding,blockSize:t[c("0xac","px4X")],formatter:r[c("0xad","0]Mi")]})},decrypt:function(t,e,i,r){return r=this.cfg[c("0xae","qVnI")](r),e=this._parse(e,r[c("0xaf","0d*8")]),t[c("0xb0","^X0k")](i,r)[c("0xb1","[hIS")](e.ciphertext)},_parse:function(t,e){return typeof t==c("0xb2","kyEC")?e[c("0xb3","&s$B")](t,this):t}}),A=(o[c("0xb4","qFpu")]={})[c("0xb5","@CC]")]={execute:function(t,e,i,r){r||(r=u[c("0xb6","9Zxt")](8));var n=h[c("0xb7","D(PM")]({keySize:e+i}).compute(t,r),o=u[c("0xb8","9NOF")](n.words[c("0x6c","kyEC")](e),4*i);return n.sigBytes=4*e,y[c("0xb9","[c(d")]({key:n,iv:o,salt:r})}},b=a[c("0xba","ob8$")]=w[c("0xbb","*VJU")]({cfg:w[c("0xbc","P3*W")][c("0x50","MxYP")]({kdf:A}),encrypt:function(t,e,i,r){var n=(r=this[c("0xbd","px4X")].extend(r)).kdf[c("0xbe","qFpu")](i,t[c("0xbf","u76Y")],t[c("0xc0","qFpu")]);r.iv=n.iv;var o=w[c("0xc1","D(PM")][c("0xc2","5f]%")](this,t,e,n[c("0xc3","Q%CA")],r);return o[c("0xc4","1bZK")](n),o},decrypt:function(t,e,i,r){r=this[c("0xc5","qFpu")][c("0x98","4EYt")](r),e=this[c("0xc6","&s$B")](e,r[c("0xc7","F)TN")]);var n=r.kdf[c("0xc8","@CC]")](i,t[c("0xc9","kJMj")],t.ivSize,e[c("0xca","D$aK")]);return r.iv=n.iv,w.decrypt[c("0xcb","9Zxt")](this,t,e,n[c("0xcc","Fb*n")],r)}}))))},"../node_modules/crypto-js/core.js":function(t,e,i){var r,n,o,a,s,u,l,f,d,h,p,_,v;t[c("0xcd","X]AG")]=(r=r||(n=Math,o=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t[c("0xce","kJMj")]=null,i}}(),s=(a={})[c("0xcf","X]AG")]={},u=s[c("0xd0","kJMj")]={extend:function(t){var e=o(this);return t&&e[c("0xd1","1qwt")](t),e.hasOwnProperty("init")&&this[c("0xd2","9NOF")]!==e[c("0xd3","X]AG")]||(e[c("0xd4","9Zxt")]=function(){e[c("0xd5","9Zxt")][c("0xd2","9NOF")][c("0xd6","qVnI")](this,arguments)}),e[c("0xd3","X]AG")].prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t[c("0xd7","[c(d")].apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t[c("0xd8","tE3M")](e)&&(this[e]=t[e]);t[c("0xd9","4EYt")](c("0xda","&s$B"))&&(this[c("0xdb","u76Y")]=t[c("0xdc","HhMU")])},clone:function(){return this[c("0xdd","@CC]")].prototype.extend(this)}},l=s[c("0xde","[c(d")]=u[c("0xdf","P3*W")]({init:function(t,e){t=this[c("0xe0","pMSP")]=t||[],null!=e?this[c("0xe1","qx8B")]=e:this[c("0xe2","5Ma]")]=4*t[c("0xe3","qVnI")]},toString:function(t){return(t||d)[c("0xe4","ob8$")](this)},concat:function(t){var e=this[c("0xe5","D$aK")],i=t[c("0x78","0d*8")],r=this[c("0xe6","[BX%")],n=t[c("0xe7","D$aK")];if(this[c("0xe8","qx8B")](),r%4)for(var o=0;o<n;o++){var a=i[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<n;o+=4)e[r+o>>>2]=i[o>>>2];return this[c("0xe9","9NOF")]+=n,this},clamp:function(){var t=this[c("0xea","qFpu")],e=this[c("0xeb","5f]%")];t[e>>>2]&=4294967295<<32-e%4*8,t[c("0xe3","qVnI")]=n[c("0xec","HhMU")](e/4)},clone:function(){var t=u[c("0xed","9NOF")][c("0xee","qx8B")](this);return t[c("0xef","u76Y")]=this[c("0xf0","ob8$")].slice(0),t},random:function(t){for(var e,i=[],r=function(t){t=t;var e=987654321;return function(){var i=((e=36969*(65535&e)+(e>>16)&4294967295)<<16)+(t=18e3*(65535&t)+(t>>16)&4294967295)&4294967295;return i/=4294967296,(i+=.5)*(n[c("0xf1","Fb*n")]()>.5?1:-1)}},o=0;o<t;o+=4){var a=r(4294967296*(e||n[c("0xf2","Kwna")]()));e=987654071*a(),i[c("0xf3","soQY")](4294967296*a()|0)}return new(l[c("0xf4","pMSP")])(i,t)}}),f=a.enc={},d=f.Hex={stringify:function(t){for(var e=t[c("0xf5","5f]%")],i=t.sigBytes,r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push((o>>>4)[c("0xf6","I9]i")](16)),r[c("0xf7","4EYt")]((15&o)[c("0xf8","1bZK")](16))}return r[c("0xf9","u76Y")]("")},parse:function(t){for(var e=t[c("0xfa","0]Mi")],i=[],r=0;r<e;r+=2)i[r>>>3]|=parseInt(t[c("0xfb","5f]%")](r,2),16)<<24-r%8*4;return new(l[c("0xfc","XXCA")])(i,e/2)}},h=f[c("0xfd","%XF%")]={stringify:function(t){for(var e=t.words,i=t[c("0xfe","[c(d")],r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r[c("0xff","D(PM")](String[c("0x100","tE3M")](o))}return r[c("0x101","D$aK")]("")},parse:function(t){for(var e=t[c("0x102","@CC]")],i=[],r=0;r<e;r++)i[r>>>2]|=(255&t[c("0x103","ob8$")](r))<<24-r%4*8;return new(l[c("0x104","7PuZ")])(i,e)}},p=f[c("0x105","46xk")]={stringify:function(t){try{return decodeURIComponent(escape(h[c("0x106","&s$B")](t)))}catch(t){throw new Error(c("0x107","%XF%"))}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},_=s[c("0x108","MxYP")]=u.extend({reset:function(){this._data=new(l[c("0x109","&s$B")]),this._nDataBytes=0},_append:function(t){typeof t==c("0x10a","[c(d")&&(t=p[c("0x10b","cd6q")](t)),this[c("0x10c","HhMU")][c("0x10d","1qwt")](t),this[c("0x10e","@CC]")]+=t[c("0x10f","7MZ4")]},_process:function(t){var e=this[c("0x110","X]AG")],i=e.words,r=e[c("0x111","kyEC")],o=this[c("0x112","@isz")],a=r/(4*o),s=(a=t?n[c("0x113","I9]i")](a):n[c("0x114","I9]i")]((0|a)-this[c("0x115","px4X")],0))*o,u=n[c("0x116","8fH9")](4*s,r);if(s){for(var f=0;f<s;f+=o)this[c("0x117","%XF%")](i,f);var d=i[c("0x118","Fb*n")](0,s);e.sigBytes-=u}return new(l[c("0x119","kyEC")])(d,u)},clone:function(){var t=u[c("0x11a","MxYP")][c("0x11b","4EYt")](this);return t[c("0x11c","jtZ[")]=this._data.clone(),t},_minBufferSize:0}),s[c("0x11d","qx8B")]=_[c("0x11e","tE3M")]({cfg:u[c("0x11f","9NOF")](),init:function(t){this[c("0xaa","tE3M")]=this[c("0x120","pMSP")][c("0x121","@CC]")](t),this[c("0x122","qFpu")]()},reset:function(){_[c("0x123","u76Y")][c("0x124","kJMj")](this),this[c("0x125","[BX%")]()},update:function(t){return this._append(t),this[c("0x126","5Ma]")](),this},finalize:function(t){return t&&this[c("0x127","9NOF")](t),this[c("0x128","*VJU")]()},blockSize:16,_createHelper:function(t){return function(e,i){return new(t[c("0x129","lW#@")])(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new(v[c("0x12a","HhMU")].init)(t,i).finalize(e)}}}),v=a.algo={},a),r)},"../node_modules/crypto-js/enc-base64.js":function(t,e,i){var r,n,o;t[c("0x12b","XXCA")]=(o=i("../node_modules/crypto-js/core.js"),n=(r=o).lib[c("0x12c","1qwt")],r.enc[c("0x12d","5f]%")]={stringify:function(t){var e=t[c("0x12e","F)TN")],i=t[c("0x12f","OPMO")],r=this[c("0x130","0]Mi")];t[c("0x131","X]AG")]();for(var n=[],o=0;o<i;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<i;s++)n[c("0x132","X]AG")](r[c("0x133","OPMO")](a>>>6*(3-s)&63));var u=r[c("0x134","soQY")](64);if(u)for(;n.length%4;)n[c("0x135","*VJU")](u);return n[c("0x136","qVnI")]("")},parse:function(t){var e=t[c("0x137","F)TN")],i=this[c("0x138","qFpu")],r=this[c("0x139","tE3M")];if(!r){r=this[c("0x13a","Kwna")]=[];for(var o=0;o<i[c("0x13b","I9]i")];o++)r[i[c("0x13c","OPMO")](o)]=o}var a=i[c("0x13d","u76Y")](64);if(a){var s=t[c("0x13e","px4X")](a);-1!==s&&(e=s)}return function(t,e,i){for(var r=[],o=0,a=0;a<e;a++)if(a%4){var s=i[t[c("0x13f","*VJU")](a-1)]<<a%4*2,u=i[t.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=(s|u)<<24-o%4*8,o++}return n[c("0x140","5f]%")](r,o)}(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o[c("0x141","[BX%")].Base64)},"../node_modules/crypto-js/enc-utf16.js":function(t,e,i){var r;t[c("0x142","qVnI")]=(r=i(c("0x143","46xk")),function(){var t=r,e=t[c("0x144","0]Mi")][c("0x145","*VJU")],i=t[c("0x141","[BX%")];function n(t){return t<<8&4278255360|t>>>8&16711935}i.Utf16=i[c("0x146","1bZK")]={stringify:function(t){for(var e=t[c("0x89","9NOF")],i=t[c("0x147","MxYP")],r=[],n=0;n<i;n+=2){var o=e[n>>>2]>>>16-n%4*8&65535;r[c("0x148","5Ma]")](String[c("0x149","I9]i")](o))}return r[c("0x14a","4EYt")]("")},parse:function(t){for(var i=t.length,r=[],n=0;n<i;n++)r[n>>>1]|=t.charCodeAt(n)<<16-n%2*16;return e[c("0x140","5f]%")](r,2*i)}},i.Utf16LE={stringify:function(t){for(var e=t[c("0x14b","P3*W")],i=t[c("0x10f","7MZ4")],r=[],o=0;o<i;o+=2){var a=n(e[o>>>2]>>>16-o%4*8&65535);r[c("0x14c","&s$B")](String.fromCharCode(a))}return r.join("")},parse:function(t){for(var i=t[c("0x14d","9Zxt")],r=[],o=0;o<i;o++)r[o>>>1]|=n(t[c("0x14e","pMSP")](o)<<16-o%2*16);return e[c("0x14f","*VJU")](r,2*i)}}}(),r.enc.Utf16)},"../node_modules/crypto-js/evpkdf.js":function(t,e,i){var r,n,o,a,s,u,l,f;t[c("0x20","[hIS")]=(f=i(c("0x150","kyEC")),i(c("0x151","[c(d")),i(c("0x152","Fb*n")),n=(r=f)[c("0x153","7PuZ")],o=n.Base,a=n.WordArray,s=r[c("0x154","8fH9")],u=s[c("0x155","HhMU")],l=s.EvpKDF=o[c("0x156","HhMU")]({cfg:o[c("0x157","ob8$")]({keySize:4,hasher:u,iterations:1}),init:function(t){this[c("0x80","8fH9")]=this.cfg[c("0x158","u76Y")](t)},compute:function(t,e){for(var i=this[c("0xaa","tE3M")],r=i.hasher[c("0x159","OPMO")](),n=a[c("0x15a","%XF%")](),o=n[c("0x15b","[BX%")],s=i[c("0x15c","*VJU")],u=i[c("0x15d","@CC]")];o[c("0x15e","u76Y")]<s;){l&&r.update(l);var l=r[c("0x15f","5f]%")](t).finalize(e);r[c("0x160","4EYt")]();for(var f=1;f<u;f++)l=r.finalize(l),r.reset();n[c("0x161","@isz")](l)}return n[c("0x162","Fb*n")]=4*s,n}}),r.EvpKDF=function(t,e,i){return l.create(i)[c("0x163","0]Mi")](t,e)},f[c("0x164","soQY")])},"../node_modules/crypto-js/format-hex.js":function(t,e,i){var r,n,o,a;t[c("0x165","7PuZ")]=(a=i(c("0x166","jtZ[")),i(c("0x167","ob8$")),n=(r=a)[c("0x168","7MZ4")][c("0x169","MxYP")],o=r[c("0x16a","D(PM")][c("0x16b","@isz")],r[c("0x16c","%XF%")][c("0x16d","*VJU")]={stringify:function(t){return t[c("0x16e","P3*W")].toString(o)},parse:function(t){var e=o[c("0x16f","9Zxt")](t);return n.create({ciphertext:e})}},a[c("0x170","px4X")][c("0x171","px4X")])},"../node_modules/crypto-js/hmac.js":function(t,e,i){var r,n,o,a;t[c("0x172","OPMO")]=(r=i(c("0x173","Fb*n")),o=(n=r)[c("0x174","9Zxt")][c("0x175","%XF%")],a=n.enc[c("0x176","9NOF")],void(n[c("0x177","*VJU")][c("0x178","^X0k")]=o[c("0x98","4EYt")]({init:function(t,e){t=this._hasher=new(t[c("0x179","jtZ[")]),typeof e==c("0x17a","5f]%")&&(e=a[c("0x17b","D(PM")](e));var i=t[c("0x17c","$euG")],r=4*i;e[c("0x162","Fb*n")]>r&&(e=t[c("0x17d","jtZ[")](e)),e.clamp();for(var n=this[c("0x17e","[hIS")]=e.clone(),o=this[c("0x17f","1bZK")]=e[c("0x180","%XF%")](),s=n.words,u=o.words,l=0;l<i;l++)s[l]^=1549556828,u[l]^=909522486;n.sigBytes=o[c("0xe9","9NOF")]=r,this[c("0x122","qFpu")]()},reset:function(){var t=this[c("0x181","tE3M")];t.reset(),t[c("0x182","jtZ[")](this[c("0x183","cd6q")])},update:function(t){return this[c("0x184","u76Y")].update(t),this},finalize:function(t){var e=this._hasher,i=e[c("0x185","4EYt")](t);return e[c("0x186","D(PM")](),e[c("0x187","u76Y")](this._oKey[c("0x11a","MxYP")]()[c("0x161","@isz")](i))}})))},"../node_modules/crypto-js/index.js":function(t,e,i){var r;t.exports=(r=i(c("0x188","*VJU")),i(c("0x189","5f]%")),i(c("0x18a","u76Y")),i("../node_modules/crypto-js/enc-utf16.js"),i(c("0x18b","MxYP")),i("../node_modules/crypto-js/md5.js"),i(c("0x18c","*VJU")),i(c("0x18d","XXCA")),i(c("0x18e","5Ma]")),i("../node_modules/crypto-js/sha512.js"),i("../node_modules/crypto-js/sha384.js"),i(c("0x18f","5Ma]")),i(c("0x190","F)TN")),i(c("0x191","^X0k")),i(c("0x192","0d*8")),i(c("0x193","XXCA")),i(c("0x194","MxYP")),i(c("0x195","5Ma]")),i(c("0x196","5f]%")),i(c("0x197","8fH9")),i(c("0x198","X]AG")),i(c("0x199","%XF%")),i(c("0x19a","0d*8")),i(c("0x19b","P3*W")),i(c("0x19c","kyEC")),i(c("0x19d","px4X")),i("../node_modules/crypto-js/pad-nopadding.js"),i("../node_modules/crypto-js/format-hex.js"),i(c("0x19e","5Ma]")),i(c("0x19f","9Zxt")),i(c("0x1a0","qx8B")),i("../node_modules/crypto-js/rabbit.js"),i(c("0x1a1","I9]i")),r)},"../node_modules/crypto-js/lib-typedarrays.js":function(t,e,i){var r;t[c("0x1a2","Q%CA")]=(r=i("../node_modules/crypto-js/core.js"),function(){if(typeof ArrayBuffer==c("0x1a3","@CC]")){var t=r[c("0x1a4","5Ma]")].WordArray,e=t[c("0x1a5","$euG")];(t[c("0x1a6","7MZ4")]=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||typeof Uint8ClampedArray!==c("0x1a7","[c(d")&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t[c("0x1a8","9NOF")],t[c("0x1a9","Kwna")],t[c("0x1aa","pMSP")])),t instanceof Uint8Array){for(var i=t.byteLength,r=[],n=0;n<i;n++)r[n>>>2]|=t[n]<<24-n%4*8;e[c("0x1ab","XXCA")](this,r,i)}else e.apply(this,arguments)}).prototype=t}}(),r.lib.WordArray)},"../node_modules/crypto-js/md5.js":function(t,e,i){var r;t[c("0x1ac","8fH9")]=(r=i(c("0x1ad","9NOF")),function(t){var e=r,i=e[c("0x1ae","Q%CA")],n=i[c("0x1af","cd6q")],o=i[c("0x1b0","cd6q")],a=e[c("0x1b1","pMSP")],s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t[c("0x1b2","MxYP")](t[c("0x1b3","lW#@")](e+1))|0}();var u=a.MD5=o[c("0x1b4","D(PM")]({_doReset:function(){this._hash=new(n[c("0x1b5","0d*8")])([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var r=e+i,n=t[r];t[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o=this._hash[c("0x1b6","8fH9")],a=t[e+0],u=t[e+1],p=t[e+2],_=t[e+3],v=t[e+4],m=t[e+5],g=t[e+6],y=t[e+7],E=t[e+8],w=t[e+9],A=t[e+10],b=t[e+11],S=t[e+12],T=t[e+13],x=t[e+14],L=t[e+15],C=o[0],I=o[1],D=o[2],O=o[3];C=l(C,I,D,O,a,7,s[0]),O=l(O,C,I,D,u,12,s[1]),D=l(D,O,C,I,p,17,s[2]),I=l(I,D,O,C,_,22,s[3]),C=l(C,I,D,O,v,7,s[4]),O=l(O,C,I,D,m,12,s[5]),D=l(D,O,C,I,g,17,s[6]),I=l(I,D,O,C,y,22,s[7]),C=l(C,I,D,O,E,7,s[8]),O=l(O,C,I,D,w,12,s[9]),D=l(D,O,C,I,A,17,s[10]),I=l(I,D,O,C,b,22,s[11]),C=l(C,I,D,O,S,7,s[12]),O=l(O,C,I,D,T,12,s[13]),D=l(D,O,C,I,x,17,s[14]),C=f(C,I=l(I,D,O,C,L,22,s[15]),D,O,u,5,s[16]),O=f(O,C,I,D,g,9,s[17]),D=f(D,O,C,I,b,14,s[18]),I=f(I,D,O,C,a,20,s[19]),C=f(C,I,D,O,m,5,s[20]),O=f(O,C,I,D,A,9,s[21]),D=f(D,O,C,I,L,14,s[22]),I=f(I,D,O,C,v,20,s[23]),C=f(C,I,D,O,w,5,s[24]),O=f(O,C,I,D,x,9,s[25]),D=f(D,O,C,I,_,14,s[26]),I=f(I,D,O,C,E,20,s[27]),C=f(C,I,D,O,T,5,s[28]),O=f(O,C,I,D,p,9,s[29]),D=f(D,O,C,I,y,14,s[30]),C=d(C,I=f(I,D,O,C,S,20,s[31]),D,O,m,4,s[32]),O=d(O,C,I,D,E,11,s[33]),D=d(D,O,C,I,b,16,s[34]),I=d(I,D,O,C,x,23,s[35]),C=d(C,I,D,O,u,4,s[36]),O=d(O,C,I,D,v,11,s[37]),D=d(D,O,C,I,y,16,s[38]),I=d(I,D,O,C,A,23,s[39]),C=d(C,I,D,O,T,4,s[40]),O=d(O,C,I,D,a,11,s[41]),D=d(D,O,C,I,_,16,s[42]),I=d(I,D,O,C,g,23,s[43]),C=d(C,I,D,O,w,4,s[44]),O=d(O,C,I,D,S,11,s[45]),D=d(D,O,C,I,L,16,s[46]),C=h(C,I=d(I,D,O,C,p,23,s[47]),D,O,a,6,s[48]),O=h(O,C,I,D,y,10,s[49]),D=h(D,O,C,I,x,15,s[50]),I=h(I,D,O,C,m,21,s[51]),C=h(C,I,D,O,S,6,s[52]),O=h(O,C,I,D,_,10,s[53]),D=h(D,O,C,I,A,15,s[54]),I=h(I,D,O,C,u,21,s[55]),C=h(C,I,D,O,E,6,s[56]),O=h(O,C,I,D,L,10,s[57]),D=h(D,O,C,I,g,15,s[58]),I=h(I,D,O,C,T,21,s[59]),C=h(C,I,D,O,v,6,s[60]),O=h(O,C,I,D,b,10,s[61]),D=h(D,O,C,I,p,15,s[62]),I=h(I,D,O,C,w,21,s[63]),o[0]=o[0]+C|0,o[1]=o[1]+I|0,o[2]=o[2]+D|0,o[3]=o[3]+O|0},_doFinalize:function(){var e=this._data,i=e[c("0x1b7","qVnI")],r=8*this[c("0x1b8","*VJU")],n=8*e[c("0x1b9","8fH9")];i[n>>>5]|=128<<24-n%32;var o=t[c("0x1ba","tE3M")](r/4294967296),a=r;i[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(n+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e[c("0x1bb","cd6q")]=4*(i[c("0x13b","I9]i")]+1),this[c("0x1bc","F)TN")]();for(var s=this[c("0x1bd","@CC]")],u=s[c("0x1be","jtZ[")],l=0;l<4;l++){var f=u[l];u[l]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return s},clone:function(){var t=o[c("0xed","9NOF")][c("0x124","kJMj")](this);return t._hash=this._hash[c("0x1bf","qVnI")](),t}});function l(t,e,i,r,n,o,a){var s=t+(e&i|~e&r)+n+a;return(s<<o|s>>>32-o)+e}function f(t,e,i,r,n,o,a){var s=t+(e&r|i&~r)+n+a;return(s<<o|s>>>32-o)+e}function d(t,e,i,r,n,o,a){var s=t+(e^i^r)+n+a;return(s<<o|s>>>32-o)+e}function h(t,e,i,r,n,o,a){var s=t+(i^(e|~r))+n+a;return(s<<o|s>>>32-o)+e}e[c("0x1c0","u76Y")]=o._createHelper(u),e[c("0x1c1","HhMU")]=o[c("0x1c2","D$aK")](u)}(Math),r[c("0x1c3","0]Mi")])},"../node_modules/crypto-js/mode-cfb.js":function(t,e,i){var r;t[c("0x1c4","1qwt")]=(r=i("../node_modules/crypto-js/core.js"),i("../node_modules/crypto-js/cipher-core.js"),r[c("0x1c5","@isz")][c("0x1c6","qVnI")]=function(){var t=r.lib[c("0x1c7","HhMU")][c("0x1c8","5f]%")]();function e(t,e,i,r){var n=this[c("0x1d5","5Ma]")];if(n){var o=n[c("0x1d6","[hIS")](0);this[c("0x1d7","u76Y")]=void 0}else o=this[c("0x1d8","tE3M")];r[c("0x1d9","ob8$")](o,0);for(var a=0;a<i;a++)t[e+a]^=o[a]}return t[c("0x1c9","qx8B")]=t[c("0x1ca","jtZ[")]({processBlock:function(t,i){var r=this[c("0x1cb","5f]%")],n=r[c("0x1cc","Q%CA")];e.call(this,t,i,n,r),this[c("0x1cd","8fH9")]=t[c("0x1ce","F)TN")](i,i+n)}}),t[c("0x1cf","0]Mi")]=t[c("0x1d0","px4X")]({processBlock:function(t,i){var r=this[c("0x1d1","MxYP")],n=r[c("0x1d2","D$aK")],o=t[c("0x1d3","X]AG")](i,i+n);e[c("0x1d4","Kwna")](this,t,i,n,r),this[c("0x73","@isz")]=o}}),t}(),r[c("0x1da","soQY")].CFB)},"../node_modules/crypto-js/mode-ctr-gladman.js":function(t,e,i){var r;t.exports=(r=i(c("0x1db","cd6q")),i("../node_modules/crypto-js/cipher-core.js"),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
r.mode[c("0x1dc","u76Y")]=function(){var t=r[c("0x1dd","[c(d")][c("0x1de","8fH9")][c("0x1c8","5f]%")]();function e(t){if(255==(t>>24&255)){var e=t>>16&255,i=t>>8&255,r=255&t;255===e?(e=0,255===i?(i=0,255===r?r=0:++r):++i):++e,t=0,t+=e<<16,t+=i<<8,t+=r}else t+=1<<24;return t}var i=t[c("0x1df","D(PM")]=t[c("0x1e0","&s$B")]({processBlock:function(t,i){var r,n=this[c("0x1e1","9NOF")],o=n[c("0x1e2","1qwt")],a=this[c("0x1d5","5Ma]")],s=this[c("0x1e3","@isz")];a&&(s=this[c("0x1e4","D$aK")]=a[c("0x1e5","@isz")](0),this[c("0x1d5","5Ma]")]=void 0),0===((r=s)[0]=e(r[0]))&&(r[1]=e(r[1]));var u=s.slice(0);n[c("0x1e6","5Ma]")](u,0);for(var l=0;l<o;l++)t[i+l]^=u[l]}});return t[c("0x1e7","%XF%")]=i,t}(),r.mode[c("0x1e8","soQY")])},"../node_modules/crypto-js/mode-ctr.js":function(t,e,i){var r,n,o;t[c("0x1e9","[BX%")]=(o=i(c("0x1ea","F)TN")),i(c("0x1eb","I9]i")),o[c("0x1ec","kJMj")][c("0x1ed","P3*W")]=(r=o[c("0x1ee","qFpu")].BlockCipherMode[c("0x1ef","0]Mi")](),n=r[c("0x1f0","%XF%")]=r.extend({processBlock:function(t,e){var i=this._cipher,r=i[c("0x1cc","Q%CA")],n=this[c("0x1f1","*VJU")],o=this[c("0x1f2","Fb*n")];n&&(o=this[c("0x1f3","0d*8")]=n[c("0x1f4","1qwt")](0),this[c("0x1f5","0]Mi")]=void 0);var a=o[c("0x1f6","soQY")](0);i[c("0x1f7","qVnI")](a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)t[e+s]^=a[s]}}),r[c("0x1f8","lW#@")]=n,r),o[c("0x1f9","lW#@")][c("0x1fa","46xk")])},"../node_modules/crypto-js/mode-ecb.js":function(t,e,i){var r,n;t[c("0x1fb","qFpu")]=(n=i(c("0x1fc","D$aK")),i("../node_modules/crypto-js/cipher-core.js"),n[c("0x1fd","8fH9")][c("0x1fe","OPMO")]=((r=n[c("0x1ff","F)TN")].BlockCipherMode[c("0xa7","%XF%")]()).Encryptor=r[c("0x200","[BX%")]({processBlock:function(t,e){this[c("0x201","[hIS")][c("0x202","%XF%")](t,e)}}),r[c("0x203","&s$B")]=r[c("0x157","ob8$")]({processBlock:function(t,e){this[c("0x204","9Zxt")].decryptBlock(t,e)}}),r),n[c("0x205","46xk")][c("0x206","5Ma]")])},"../node_modules/crypto-js/mode-ofb.js":function(t,e,i){var r,n,o;t[c("0x1f","MxYP")]=(o=i("../node_modules/crypto-js/core.js"),i(c("0x207","46xk")),o[c("0x208","@CC]")].OFB=(r=o[c("0x209","46xk")].BlockCipherMode[c("0x1ca","jtZ[")](),n=r[c("0x20a","1bZK")]=r[c("0x20b","1qwt")]({processBlock:function(t,e){var i=this[c("0x20c","0d*8")],r=i[c("0x20d","D(PM")],n=this[c("0x20e","cd6q")],o=this[c("0x20f","46xk")];n&&(o=this[c("0x210","F)TN")]=n[c("0x211","u76Y")](0),this[c("0x212","5f]%")]=void 0),i[c("0x213","lW#@")](o,0);for(var a=0;a<r;a++)t[e+a]^=o[a]}}),r[c("0x214","[BX%")]=n,r),o[c("0x1f9","lW#@")][c("0x215","pMSP")])},"../node_modules/crypto-js/pad-ansix923.js":function(t,e,i){var r;t.exports=(r=i(c("0x216","D(PM")),i(c("0x217","soQY")),r[c("0x218","MxYP")][c("0x219","Fb*n")]={pad:function(t,e){var i=t[c("0x21a","0]Mi")],r=4*e,n=r-i%r,o=i+n-1;t[c("0x21b","[c(d")](),t[c("0x21c","*VJU")][o>>>2]|=n<<24-o%4*8,t.sigBytes+=n},unpad:function(t){var e=255&t[c("0x21d","cd6q")][t[c("0x21e","1qwt")]-1>>>2];t[c("0xe9","9NOF")]-=e}},r[c("0x21f","kJMj")][c("0x220","*VJU")])},"../node_modules/crypto-js/pad-iso10126.js":function(t,e,i){var r;t[c("0x221","lW#@")]=(r=i(c("0x222","1bZK")),i(c("0x223","@isz")),r[c("0x224","4EYt")][c("0x225","XXCA")]={pad:function(t,e){var i=4*e,n=i-t[c("0xe9","9NOF")]%i;t[c("0x161","@isz")](r[c("0x226","u76Y")][c("0x227","@CC]")][c("0x228","qFpu")](n-1)).concat(r.lib.WordArray[c("0x229","soQY")]([n<<24],1))},unpad:function(t){var e=255&t[c("0x12e","F)TN")][t[c("0xe6","[BX%")]-1>>>2];t[c("0x22a","7PuZ")]-=e}},r[c("0x22b","5f]%")].Iso10126)},"../node_modules/crypto-js/pad-iso97971.js":function(t,e,i){var r;t[c("0x22c","9Zxt")]=(r=i("../node_modules/crypto-js/core.js"),i(c("0x22d","Q%CA")),r[c("0x22e","46xk")].Iso97971={pad:function(t,e){t.concat(r.lib[c("0x22f","7PuZ")][c("0x230","[BX%")]([2147483648],1)),r.pad[c("0x231","kJMj")][c("0x232","kyEC")](t,e)},unpad:function(t){r[c("0x233","0]Mi")][c("0x234","Kwna")][c("0x235","soQY")](t),t[c("0x162","Fb*n")]--}},r.pad[c("0x236","Kwna")])},"../node_modules/crypto-js/pad-nopadding.js":function(t,e,i){var r;t[c("0x237","px4X")]=(r=i("../node_modules/crypto-js/core.js"),i(c("0x238","D$aK")),r.pad[c("0x239","px4X")]={pad:function(){},unpad:function(){}},r[c("0x23a","8fH9")].NoPadding)},"../node_modules/crypto-js/pad-zeropadding.js":function(t,e,i){var r;t[c("0x1c4","1qwt")]=(r=i(c("0x23b","1qwt")),i(c("0x23c","Kwna")),r[c("0x23d","@CC]")][c("0x23e","5f]%")]={pad:function(t,e){var i=4*e;t.clamp(),t[c("0x23f","9Zxt")]+=i-(t.sigBytes%i||i)},unpad:function(t){for(var e=t.words,i=t[c("0x1b9","8fH9")]-1;!(e[i>>>2]>>>24-i%4*8&255);)i--;t[c("0x162","Fb*n")]=i+1}},r[c("0x240","I9]i")][c("0x241","5Ma]")])},"../node_modules/crypto-js/pbkdf2.js":function(t,e,i){var r,n,o,a,s,u,l,f,d;t[c("0x242","D$aK")]=(d=i(c("0x243","@CC]")),i(c("0x244","X]AG")),i(c("0x245","P3*W")),n=(r=d).lib,o=n[c("0x246","9Zxt")],a=n.WordArray,s=r[c("0x247","qFpu")],u=s[c("0x248","qx8B")],l=s[c("0x249","[BX%")],f=s[c("0x24a","Q%CA")]=o.extend({cfg:o[c("0x24b","$euG")]({keySize:4,hasher:u,iterations:1}),init:function(t){this[c("0xbd","px4X")]=this.cfg[c("0x1e0","&s$B")](t)},compute:function(t,e){for(var i=this.cfg,r=l[c("0x24c","kyEC")](i[c("0x24d","8fH9")],t),n=a[c("0x24e","Fb*n")](),o=a.create([1]),s=n[c("0x15b","[BX%")],u=o[c("0x24f","%XF%")],f=i[c("0x250","1qwt")],d=i.iterations;s[c("0x251","5f]%")]<f;){var h=r.update(e)[c("0x252","5Ma]")](o);r[c("0x253","1qwt")]();for(var p=h[c("0x254","Fb*n")],_=p.length,v=h,m=1;m<d;m++){v=r[c("0x255","1qwt")](v),r[c("0x256","px4X")]();for(var g=v[c("0x3b","@isz")],y=0;y<_;y++)p[y]^=g[y]}n.concat(h),u[0]++}return n[c("0x257","pMSP")]=4*f,n}}),r[c("0x258","OPMO")]=function(t,e,i){return f[c("0x51","cd6q")](i)[c("0x259","9NOF")](t,e)},d[c("0x25a","$euG")])},"../node_modules/crypto-js/rabbit-legacy.js":function(t,e,i){var r;t[c("0x1c4","1qwt")]=(r=i(c("0x25b","[c(d")),i(c("0x25c","D(PM")),i(c("0x25d","5f]%")),i(c("0x25e","X]AG")),i(c("0x25f","4EYt")),function(){var t=r,e=t[c("0x1dd","[c(d")][c("0x260","0d*8")],i=t[c("0x261","[c(d")],n=[],o=[],a=[],s=i[c("0x262","XXCA")]=e.extend({_doReset:function(){var t=this._key[c("0x1b7","qVnI")],e=this[c("0x263","kJMj")].iv,i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var n=0;n<4;n++)u.call(this);for(n=0;n<8;n++)r[n]^=i[n+4&7];if(e){var o=e[c("0x264","lW#@")],a=o[0],s=o[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=l>>>16|4294901760&f,h=f<<16|65535&l;for(r[0]^=l,r[1]^=d,r[2]^=f,r[3]^=h,r[4]^=l,r[5]^=d,r[6]^=f,r[7]^=h,n=0;n<4;n++)u[c("0x265","%XF%")](this)}},_doProcessBlock:function(t,e){var i=this._X;u[c("0x266","X]AG")](this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)n[r]=16711935&(n[r]<<8|n[r]>>>24)|4278255360&(n[r]<<24|n[r]>>>8),t[e+r]^=n[r]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,i=0;i<8;i++)o[i]=e[i];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,i=0;i<8;i++){var r=t[i]+e[i],n=65535&r,s=r>>>16,u=((n*n>>>17)+n*s>>>15)+s*s,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[i]=u^c}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t[c("0x267","HhMU")]=e[c("0x268","HhMU")](s)}(),r[c("0x269","Q%CA")])},"../node_modules/crypto-js/rabbit.js":function(t,e,i){var r;t[c("0x26a","u76Y")]=(r=i("../node_modules/crypto-js/core.js"),i("../node_modules/crypto-js/enc-base64.js"),i("../node_modules/crypto-js/md5.js"),i(c("0x26b","P3*W")),i(c("0x26c","X]AG")),function(){var t=r,e=t.lib[c("0x26d","1bZK")],i=t.algo,n=[],o=[],a=[],s=i[c("0x26e","46xk")]=e[c("0x26f","[c(d")]({_doReset:function(){for(var t=this[c("0x270","[hIS")][c("0x271","9Zxt")],e=this.cfg.iv,i=0;i<4;i++)t[i]=16711935&(t[i]<<8|t[i]>>>24)|4278255360&(t[i]<<24|t[i]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,i=0;i<4;i++)u[c("0x272","HhMU")](this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(e){var o=e[c("0x273","@CC]")],a=o[0],s=o[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=l>>>16|4294901760&f,h=f<<16|65535&l;for(n[0]^=l,n[1]^=d,n[2]^=f,n[3]^=h,n[4]^=l,n[5]^=d,n[6]^=f,n[7]^=h,i=0;i<4;i++)u.call(this)}},_doProcessBlock:function(t,e){var i=this._X;u[c("0x274","1bZK")](this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)n[r]=16711935&(n[r]<<8|n[r]>>>24)|4278255360&(n[r]<<24|n[r]>>>8),t[e+r]^=n[r]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,i=0;i<8;i++)o[i]=e[i];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,i=0;i<8;i++){var r=t[i]+e[i],n=65535&r,s=r>>>16,u=((n*n>>>17)+n*s>>>15)+s*s,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[i]=u^c}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t[c("0x275","HhMU")]=e[c("0x276","$euG")](s)}(),r[c("0x277","D$aK")])},"../node_modules/crypto-js/rc4.js":function(t,e,i){var r;t[c("0x278","$euG")]=(r=i(c("0x279","9Zxt")),i("../node_modules/crypto-js/enc-base64.js"),i(c("0x27a","kJMj")),i(c("0x27b","Fb*n")),i("../node_modules/crypto-js/cipher-core.js"),function(){var t=r,e=t[c("0x27c","$euG")][c("0x27d","[BX%")],i=t[c("0x27e","[hIS")],n=i[c("0x27f","D(PM")]=e[c("0x11f","9NOF")]({_doReset:function(){for(var t=this[c("0x280","F)TN")],e=t[c("0x24f","%XF%")],i=t[c("0x1bb","cd6q")],r=this._S=[],n=0;n<256;n++)r[n]=n;n=0;for(var o=0;n<256;n++){var a=n%i,s=e[a>>>2]>>>24-a%4*8&255;o=(o+r[n]+s)%256;var u=r[n];r[n]=r[o],r[o]=u}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o[c("0x124","kJMj")](this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,i=this._j,r=0,n=0;n<4;n++){i=(i+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[i],t[i]=o,r|=t[(t[e]+t[i])%256]<<24-8*n}return this._i=e,this._j=i,r}t[c("0x281","OPMO")]=e[c("0x282","[BX%")](n);var a=i.RC4Drop=n.extend({cfg:n[c("0x283","MxYP")][c("0x50","MxYP")]({drop:192}),_doReset:function(){n[c("0x284","0d*8")][c("0x285","1qwt")](this);for(var t=this[c("0x286","$euG")].drop;t>0;t--)o.call(this)}});t[c("0x287","4EYt")]=e[c("0x288","1qwt")](a)}(),r[c("0x289","&s$B")])},"../node_modules/crypto-js/ripemd160.js":function(t,e,i){var r;t[c("0x28a","^X0k")]=(r=i(c("0x28b","kJMj")),
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(t){var e=r,i=e[c("0x28c","@CC]")],n=i[c("0x28d","tE3M")],o=i[c("0x28e","*VJU")],a=e[c("0x28f","jtZ[")],s=n[c("0x140","5f]%")]([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=n[c("0x159","OPMO")]([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=n[c("0x290","ob8$")]([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=n[c("0x291","HhMU")]([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=n[c("0x29","I9]i")]([0,1518500249,1859775393,2400959708,2840853838]),h=n.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=o[c("0x292","pMSP")]({_doReset:function(){this[c("0x293","P3*W")]=n[c("0x15a","%XF%")]([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var r=e+i,n=t[r];t[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o,a,p,w,A,b,S,T,x,L,C,I=this[c("0x294","pMSP")].words,D=d.words,O=h[c("0x271","9Zxt")],R=s[c("0x1b7","qVnI")],k=u[c("0xe5","D$aK")],N=l.words,M=f[c("0x273","@CC]")];for(b=o=I[0],S=a=I[1],T=p=I[2],x=w=I[3],L=A=I[4],i=0;i<80;i+=1)C=o+t[e+R[i]]|0,C+=i<16?_(a,p,w)+D[0]:i<32?v(a,p,w)+D[1]:i<48?m(a,p,w)+D[2]:i<64?g(a,p,w)+D[3]:y(a,p,w)+D[4],C=(C=E(C|=0,N[i]))+A|0,o=A,A=w,w=E(p,10),p=a,a=C,C=b+t[e+k[i]]|0,C+=i<16?y(S,T,x)+O[0]:i<32?g(S,T,x)+O[1]:i<48?m(S,T,x)+O[2]:i<64?v(S,T,x)+O[3]:_(S,T,x)+O[4],C=(C=E(C|=0,M[i]))+L|0,b=L,L=x,x=E(T,10),T=S,S=C;C=I[1]+p+x|0,I[1]=I[2]+w+L|0,I[2]=I[3]+A+b|0,I[3]=I[4]+o+S|0,I[4]=I[0]+a+T|0,I[0]=C},_doFinalize:function(){var t=this[c("0x92","F)TN")],e=t[c("0x295","1bZK")],i=8*this._nDataBytes,r=8*t[c("0x296","tE3M")];e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t[c("0xe7","D$aK")]=4*(e.length+1),this[c("0x297","@CC]")]();for(var n=this[c("0x293","P3*W")],o=n.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return n},clone:function(){var t=o[c("0x298","P3*W")].call(this);return t._hash=this[c("0x299","7MZ4")][c("0x29a","qFpu")](),t}});function _(t,e,i){return t^e^i}function v(t,e,i){return t&e|~t&i}function m(t,e,i){return(t|~e)^i}function g(t,e,i){return t&i|e&~i}function y(t,e,i){return t^(e|~i)}function E(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o[c("0x29b","I9]i")](p),e[c("0x29c","MxYP")]=o[c("0x29d","ob8$")](p)}(Math),r[c("0x29e","Kwna")])},"../node_modules/crypto-js/sha1.js":function(t,e,i){var r,n,o,a,s,u,l,f;t[c("0x29f","&s$B")]=(f=i("../node_modules/crypto-js/core.js"),n=(r=f).lib,o=n[c("0x2a0","0]Mi")],a=n[c("0x2a1","P3*W")],s=r.algo,u=[],l=s[c("0x2a2","$euG")]=a.extend({_doReset:function(){this[c("0x2a3","X]AG")]=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this[c("0x2a4","lW#@")][c("0x2a5","qx8B")],r=i[0],n=i[1],o=i[2],a=i[3],s=i[4],l=0;l<80;l++){if(l<16)u[l]=0|t[e+l];else{var f=u[l-3]^u[l-8]^u[l-14]^u[l-16];u[l]=f<<1|f>>>31}var d=(r<<5|r>>>27)+s+u[l];d+=l<20?1518500249+(n&o|~n&a):l<40?1859775393+(n^o^a):l<60?(n&o|n&a|o&a)-1894007588:(n^o^a)-899497514,s=a,a=o,o=n<<30|n>>>2,n=r,r=d}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+s|0},_doFinalize:function(){var t=this._data,e=t[c("0x295","1bZK")],i=8*this[c("0x2a6","46xk")],r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math[c("0x2a7","%XF%")](i/4294967296),e[15+(r+64>>>9<<4)]=i,t[c("0x79","Q%CA")]=4*e[c("0x2a8","7PuZ")],this._process(),this[c("0x2a9","qFpu")]},clone:function(){var t=a.clone.call(this);return t._hash=this[c("0x2aa","MxYP")][c("0x2ab","lW#@")](),t}}),r.SHA1=a._createHelper(l),r.HmacSHA1=a._createHmacHelper(l),f[c("0x2ac","[hIS")])},"../node_modules/crypto-js/sha224.js":function(t,e,i){var r,n,o,a,s,u;t[c("0x2ad","kyEC")]=(u=i(c("0x28b","kJMj")),i("../node_modules/crypto-js/sha256.js"),n=(r=u)[c("0x27c","$euG")][c("0x2ae","soQY")],o=r[c("0x2af","5Ma]")],a=o.SHA256,s=o[c("0x2b0","XXCA")]=a.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a[c("0x2b1","0d*8")][c("0x2b2","MxYP")](this);return t[c("0x10f","7MZ4")]-=4,t}}),r.SHA224=a._createHelper(s),r[c("0x2b3","qFpu")]=a[c("0x2b4","0d*8")](s),u[c("0x2b5","1bZK")])},"../node_modules/crypto-js/sha256.js":function(t,e,i){var r;t.exports=(r=i("../node_modules/crypto-js/core.js"),function(t){var e=r,i=e[c("0x2b6","*VJU")],n=i.WordArray,o=i[c("0x2b7","F)TN")],a=e[c("0x2b8","F)TN")],s=[],u=[];!function(){function e(e){for(var i=t[c("0x2b9","0]Mi")](e),r=2;r<=i;r++)if(!(e%r))return!1;return!0}function i(t){return 4294967296*(t-(0|t))|0}for(var r=2,n=0;n<64;)e(r)&&(n<8&&(s[n]=i(t[c("0x2ba","7MZ4")](r,.5))),u[n]=i(t[c("0x2bb","X]AG")](r,1/3)),n++),r++}();var l=[],f=a[c("0x2bc","[c(d")]=o[c("0x2bd","cd6q")]({_doReset:function(){this[c("0x2be","*VJU")]=new(n[c("0x2bf","cd6q")])(s[c("0x6c","kyEC")](0))},_doProcessBlock:function(t,e){for(var i=this[c("0x2c0","8fH9")][c("0xf5","5f]%")],r=i[0],n=i[1],o=i[2],a=i[3],s=i[4],f=i[5],d=i[6],h=i[7],p=0;p<64;p++){if(p<16)l[p]=0|t[e+p];else{var _=l[p-15],v=(_<<25|_>>>7)^(_<<14|_>>>18)^_>>>3,m=l[p-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[p]=v+l[p-7]+g+l[p-16]}var y=r&n^r&o^n&o,E=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&f^~s&d)+u[p]+l[p];h=d,d=f,f=s,s=a+w|0,a=o,o=n,n=r,r=w+(E+y)|0}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+s|0,i[5]=i[5]+f|0,i[6]=i[6]+d|0,i[7]=i[7]+h|0},_doFinalize:function(){var e=this._data,i=e[c("0xf5","5f]%")],r=8*this[c("0x2c1","u76Y")],n=8*e[c("0x2c2","I9]i")];return i[n>>>5]|=128<<24-n%32,i[14+(n+64>>>9<<4)]=t[c("0x2c3","0d*8")](r/4294967296),i[15+(n+64>>>9<<4)]=r,e.sigBytes=4*i[c("0x2a8","7PuZ")],this._process(),this._hash},clone:function(){var t=o.clone[c("0x274","1bZK")](this);return t._hash=this[c("0x2c4","XXCA")][c("0x2c5","[hIS")](),t}});e[c("0x2c6","Kwna")]=o._createHelper(f),e[c("0x2c7","$euG")]=o[c("0x2c8","D(PM")](f)}(Math),r[c("0x2c9","qFpu")])},"../node_modules/crypto-js/sha3.js":function(t,e,i){var r;t.exports=(r=i("../node_modules/crypto-js/core.js"),i(c("0x2ca","kyEC")),function(t){var e=r,i=e[c("0x2cb","^X0k")],n=i[c("0x2cc","4EYt")],o=i[c("0x2cd","[BX%")],a=e[c("0x2ce","px4X")][c("0x2cf","OPMO")],s=e[c("0x2d0","OPMO")],u=[],l=[],f=[];!function(){for(var t=1,e=0,i=0;i<24;i++){u[t+5*e]=(i+1)*(i+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)l[t+5*e]=e+(2*t+3*e)%5*5;for(var n=1,o=0;o<24;o++){for(var s=0,d=0,h=0;h<7;h++){if(1&n){var p=(1<<h)-1;p<32?d^=1<<p:s^=1<<p-32}128&n?n=n<<1^113:n<<=1}f[o]=a[c("0x2d1","kJMj")](s,d)}}();var d=[];!function(){for(var t=0;t<25;t++)d[t]=a.create()}();var h=s[c("0x2d2","0d*8")]=o[c("0x2d3","Kwna")]({cfg:o[c("0x2d4","9NOF")][c("0x2d5","9Zxt")]({outputLength:512}),_doReset:function(){for(var t=this[c("0x2d6","kyEC")]=[],e=0;e<25;e++)t[e]=new(a[c("0x2d7","*VJU")]);this.blockSize=(1600-2*this.cfg[c("0x2d8","D(PM")])/32},_doProcessBlock:function(t,e){for(var i=this[c("0x2d9","MxYP")],r=this[c("0x2da","kJMj")]/2,n=0;n<r;n++){var o=t[e+2*n],a=t[e+2*n+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(I=i[n])[c("0x2db","jtZ[")]^=a,I[c("0x2dc","jtZ[")]^=o}for(var s=0;s<24;s++){for(var h=0;h<5;h++){for(var p=0,_=0,v=0;v<5;v++)p^=(I=i[h+5*v]).high,_^=I[c("0x2dd","kJMj")];var m=d[h];m[c("0x2de","7PuZ")]=p,m[c("0x2dc","jtZ[")]=_}for(h=0;h<5;h++){var g=d[(h+4)%5],y=d[(h+1)%5],E=y.high,w=y[c("0x2df","0d*8")];for(p=g[c("0x2e0","1qwt")]^(E<<1|w>>>31),_=g[c("0x2e1","Fb*n")]^(w<<1|E>>>31),v=0;v<5;v++)(I=i[h+5*v])[c("0x2e2","0]Mi")]^=p,I.low^=_}for(var A=1;A<25;A++){var b=(I=i[A])[c("0x2e3","XXCA")],S=I.low,T=u[A];T<32?(p=b<<T|S>>>32-T,_=S<<T|b>>>32-T):(p=S<<T-32|b>>>64-T,_=b<<T-32|S>>>64-T);var x=d[l[A]];x.high=p,x[c("0x2e4","5f]%")]=_}var L=d[0],C=i[0];for(L[c("0x2e5","[BX%")]=C[c("0x2e6","46xk")],L[c("0x2e7","@isz")]=C[c("0x2e8","7PuZ")],h=0;h<5;h++)for(v=0;v<5;v++){var I=i[A=h+5*v],D=d[A],O=d[(h+1)%5+5*v],R=d[(h+2)%5+5*v];I[c("0x2e9","1bZK")]=D[c("0x2ea","9Zxt")]^~O[c("0x2eb","I9]i")]&R[c("0x2e3","XXCA")],I[c("0x2ec","qVnI")]=D[c("0x2ed","@CC]")]^~O[c("0x2ee","1bZK")]&R[c("0x2ef","tE3M")]}I=i[0];var k=f[s];I[c("0x2f0","HhMU")]^=k[c("0x2e3","XXCA")],I.low^=k.low}},_doFinalize:function(){var e=this[c("0x2f1","qFpu")],i=e.words,r=(this[c("0x2f2","D$aK")],8*e[c("0x257","pMSP")]),o=32*this[c("0x2f3","0]Mi")];i[r>>>5]|=1<<24-r%32,i[(t[c("0x2f4","$euG")]((r+1)/o)*o>>>5)-1]|=128,e[c("0x111","kyEC")]=4*i.length,this[c("0x2f5","MxYP")]();for(var a=this[c("0x2f6","kJMj")],s=this[c("0x2f7","D(PM")][c("0x2f8","X]AG")]/8,u=s/8,l=[],f=0;f<u;f++){var d=a[f],h=d[c("0x2f9","*VJU")],p=d.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),l[c("0x2fa","9Zxt")](p),l[c("0x2fb","HhMU")](h)}return new(n[c("0xdd","@CC]")])(l,s)},clone:function(){for(var t=o[c("0x2fc","9Zxt")][c("0xc2","5f]%")](this),e=t[c("0x2fd","OPMO")]=this._state[c("0x2fe","OPMO")](0),i=0;i<25;i++)e[i]=e[i].clone();return t}});e.SHA3=o[c("0x2ff","[hIS")](h),e[c("0x300","XXCA")]=o[c("0x2b4","0d*8")](h)}(Math),r[c("0x301","ob8$")])},"../node_modules/crypto-js/sha384.js":function(t,e,i){var r,n,o,a,s,u,l,f;t[c("0x302","kJMj")]=(f=i(c("0x303","5Ma]")),i(c("0x304","P3*W")),i(c("0x305","OPMO")),n=(r=f)[c("0x306","HhMU")],o=n[c("0x2cf","OPMO")],a=n.WordArray,s=r[c("0x307","7MZ4")],u=s[c("0x308","px4X")],l=s[c("0x309","9Zxt")]=u[c("0x2d3","Kwna")]({_doReset:function(){this[c("0x30a","I9]i")]=new(a[c("0xf4","pMSP")])([new o.init(3418070365,3238371032),new(o[c("0x30b","qx8B")])(1654270250,914150663),new(o[c("0x30c","tE3M")])(2438529370,812702999),new(o[c("0x1b5","0d*8")])(355462360,4144912697),new(o[c("0x30d","u76Y")])(1731405415,4290775857),new o.init(2394180231,1750603025),new(o[c("0xd4","9Zxt")])(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=u[c("0x30e","4EYt")][c("0x30f","px4X")](this);return t[c("0x310","qVnI")]-=16,t}}),r[c("0x311","Kwna")]=u[c("0x312","9NOF")](l),r[c("0x313","cd6q")]=u[c("0x314","9NOF")](l),f[c("0x315","7MZ4")])},"../node_modules/crypto-js/sha512.js":function(t,e,i){var r;t[c("0x316","tE3M")]=(r=i(c("0x317","[hIS")),i(c("0x318","[hIS")),function(){var t=r,e=t[c("0x319","4EYt")][c("0x31a","[hIS")],i=t[c("0x31b","P3*W")],n=i[c("0x31c","0]Mi")],o=i[c("0x31d","9Zxt")],a=t[c("0x31e","u76Y")];function s(){return n[c("0x31f","[hIS")].apply(n,arguments)}var u=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var t=0;t<80;t++)l[t]=s()}();var f=a.SHA512=e[c("0x200","[BX%")]({_doReset:function(){this[c("0x320","Fb*n")]=new o.init([new n.init(1779033703,4089235720),new(n[c("0x321","0]Mi")])(3144134277,2227873595),new(n[c("0x322","kJMj")])(1013904242,4271175723),new(n[c("0x323","^X0k")])(2773480762,1595750129),new n.init(1359893119,2917565137),new(n[c("0x1a6","7MZ4")])(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var i=this._hash.words,r=i[0],n=i[1],o=i[2],a=i[3],s=i[4],f=i[5],d=i[6],h=i[7],p=r.high,_=r[c("0x324","soQY")],v=n.high,m=n.low,g=o[c("0x325","Q%CA")],y=o.low,E=a[c("0x326","7MZ4")],w=a[c("0x327","X]AG")],A=s.high,b=s[c("0x2dd","kJMj")],S=f[c("0x328","px4X")],T=f[c("0x329","OPMO")],x=d[c("0x32a","Kwna")],L=d[c("0x2e7","@isz")],C=h[c("0x2e2","0]Mi")],I=h.low,D=p,O=_,R=v,k=m,N=g,M=y,P=E,U=w,B=A,F=b,K=S,j=T,V=x,H=L,q=C,G=I,z=0;z<80;z++){var W=l[z];if(z<16)var X=W[c("0x2e3","XXCA")]=0|t[e+2*z],Y=W[c("0x2e1","Fb*n")]=0|t[e+2*z+1];else{var Q=l[z-15],J=Q[c("0x32b","Fb*n")],Z=Q[c("0x32c","Q%CA")],$=(J>>>1|Z<<31)^(J>>>8|Z<<24)^J>>>7,tt=(Z>>>1|J<<31)^(Z>>>8|J<<24)^(Z>>>7|J<<25),et=l[z-2],it=et[c("0x2e6","46xk")],rt=et[c("0x324","soQY")],nt=(it>>>19|rt<<13)^(it<<3|rt>>>29)^it>>>6,ot=(rt>>>19|it<<13)^(rt<<3|it>>>29)^(rt>>>6|it<<26),at=l[z-7],st=at.high,ut=at[c("0x329","OPMO")],ct=l[z-16],lt=ct.high,ft=ct[c("0x2e8","7PuZ")];X=(X=(X=$+st+((Y=tt+ut)>>>0<tt>>>0?1:0))+nt+((Y+=ot)>>>0<ot>>>0?1:0))+lt+((Y+=ft)>>>0<ft>>>0?1:0),W[c("0x32d","^X0k")]=X,W[c("0x2e8","7PuZ")]=Y}var dt,ht=B&K^~B&V,pt=F&j^~F&H,_t=D&R^D&N^R&N,vt=O&k^O&M^k&M,mt=(D>>>28|O<<4)^(D<<30|O>>>2)^(D<<25|O>>>7),gt=(O>>>28|D<<4)^(O<<30|D>>>2)^(O<<25|D>>>7),yt=(B>>>14|F<<18)^(B>>>18|F<<14)^(B<<23|F>>>9),Et=(F>>>14|B<<18)^(F>>>18|B<<14)^(F<<23|B>>>9),wt=u[z],At=wt[c("0x325","Q%CA")],bt=wt[c("0x2dc","jtZ[")],St=q+yt+((dt=G+Et)>>>0<G>>>0?1:0),Tt=gt+vt;q=V,G=H,V=K,H=j,K=B,j=F,B=P+(St=(St=(St=St+ht+((dt+=pt)>>>0<pt>>>0?1:0))+At+((dt+=bt)>>>0<bt>>>0?1:0))+X+((dt+=Y)>>>0<Y>>>0?1:0))+((F=U+dt|0)>>>0<U>>>0?1:0)|0,P=N,U=M,N=R,M=k,R=D,k=O,D=St+(mt+_t+(Tt>>>0<gt>>>0?1:0))+((O=dt+Tt|0)>>>0<dt>>>0?1:0)|0}_=r[c("0x32e","D$aK")]=_+O,r.high=p+D+(_>>>0<O>>>0?1:0),m=n[c("0x2e1","Fb*n")]=m+k,n[c("0x2e9","1bZK")]=v+R+(m>>>0<k>>>0?1:0),y=o.low=y+M,o.high=g+N+(y>>>0<M>>>0?1:0),w=a.low=w+U,a[c("0x32a","Kwna")]=E+P+(w>>>0<U>>>0?1:0),b=s.low=b+F,s[c("0x32f","D$aK")]=A+B+(b>>>0<F>>>0?1:0),T=f[c("0x330","MxYP")]=T+j,f[c("0x331","[hIS")]=S+K+(T>>>0<j>>>0?1:0),L=d[c("0x332","D(PM")]=L+H,d[c("0x2eb","I9]i")]=x+V+(L>>>0<H>>>0?1:0),I=h[c("0x32e","D$aK")]=I+G,h[c("0x333","lW#@")]=C+q+(I>>>0<G>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t[c("0x334","Q%CA")],i=8*this[c("0x335","cd6q")],r=8*t[c("0x336","%XF%")];return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(i/4294967296),e[31+(r+128>>>10<<5)]=i,t.sigBytes=4*e[c("0x337","Fb*n")],this[c("0x338","7MZ4")](),this[c("0x339","OPMO")].toX32()},clone:function(){var t=e.clone[c("0x30f","px4X")](this);return t[c("0x33a","[BX%")]=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(f),t[c("0x33b","@CC]")]=e[c("0x33c","7MZ4")](f)}(),r[c("0x33d","D(PM")])},"../node_modules/crypto-js/tripledes.js":function(t,e,i){var r;t[c("0x33e","*VJU")]=(r=i("../node_modules/crypto-js/core.js"),i("../node_modules/crypto-js/enc-base64.js"),i(c("0x33f","[hIS")),i(c("0x340","kyEC")),i(c("0x341","jtZ[")),function(){var t=r,e=t[c("0x342","%XF%")],i=e[c("0x343","&s$B")],n=e[c("0x344","ob8$")],o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o[c("0x345","qFpu")]=n.extend({_doReset:function(){for(var t=this[c("0x346","qVnI")][c("0x1b7","qVnI")],e=[],i=0;i<56;i++){var r=a[i]-1;e[i]=t[r>>>5]>>>31-r%32&1}for(var n=this[c("0x347","@isz")]=[],o=0;o<16;o++){var l=n[o]=[],f=u[o];for(i=0;i<24;i++)l[i/6|0]|=e[(s[i]-1+f)%28]<<31-i%6,l[4+(i/6|0)]|=e[28+(s[i+24]-1+f)%28]<<31-i%6;for(l[0]=l[0]<<1|l[0]>>>31,i=1;i<7;i++)l[i]=l[i]>>>4*(i-1)+3;l[7]=l[7]<<5|l[7]>>>27}var d=this._invSubKeys=[];for(i=0;i<16;i++)d[i]=n[15-i]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this[c("0x348","qx8B")])},decryptBlock:function(t,e){this[c("0x349","[hIS")](t,e,this[c("0x34a","kyEC")])},_doCryptBlock:function(t,e,i){this[c("0x34b","OPMO")]=t[e],this[c("0x34c","8fH9")]=t[e+1],h[c("0x34d","OPMO")](this,4,252645135),h[c("0x34e","$euG")](this,16,65535),p[c("0x34f","qVnI")](this,2,858993459),p[c("0x350","[BX%")](this,8,16711935),h[c("0x351","@CC]")](this,1,1431655765);for(var r=0;r<16;r++){for(var n=i[r],o=this[c("0x352","5f]%")],a=this._rBlock,s=0,u=0;u<8;u++)s|=l[u][((a^n[u])&f[u])>>>0];this[c("0x353","D(PM")]=a,this[c("0x354","&s$B")]=o^s}var d=this[c("0x355","soQY")];this[c("0x34b","OPMO")]=this._rBlock,this[c("0x356","lW#@")]=d,h.call(this,1,1431655765),p[c("0x357","0]Mi")](this,8,16711935),p[c("0x358","@isz")](this,2,858993459),h[c("0x11b","4EYt")](this,16,65535),h[c("0x358","@isz")](this,4,252645135),t[e]=this[c("0x359","cd6q")],t[e+1]=this[c("0x35a","F)TN")]},keySize:2,ivSize:2,blockSize:2});function h(t,e){var i=(this[c("0x35b","[BX%")]>>>t^this[c("0x35c","7MZ4")])&e;this[c("0x35d","qx8B")]^=i,this[c("0x35e","Kwna")]^=i<<t}function p(t,e){var i=(this[c("0x35f","Kwna")]>>>t^this[c("0x360","9NOF")])&e;this[c("0x34b","OPMO")]^=i,this._rBlock^=i<<t}t[c("0x361","OPMO")]=n[c("0x362","X]AG")](d);var _=o[c("0x363","qFpu")]=n[c("0x24b","$euG")]({_doReset:function(){var t=this._key[c("0x364","0]Mi")];this[c("0x365","8fH9")]=d[c("0x366","jtZ[")](i[c("0x367","Q%CA")](t.slice(0,2))),this[c("0x368","u76Y")]=d.createEncryptor(i[c("0x369","&s$B")](t[c("0x2fe","OPMO")](2,4))),this[c("0x36a","F)TN")]=d[c("0x36b","7MZ4")](i[c("0x36c","px4X")](t[c("0x211","u76Y")](4,6)))},encryptBlock:function(t,e){this[c("0x36d","9Zxt")][c("0x213","lW#@")](t,e),this[c("0x36e","cd6q")][c("0x36f","tE3M")](t,e),this[c("0x370","Fb*n")][c("0x371","Fb*n")](t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this[c("0x372","ob8$")].encryptBlock(t,e),this._des1[c("0x373","&s$B")](t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=n[c("0x374","Fb*n")](_)}(),r.TripleDES)},"../node_modules/crypto-js/x64-core.js":function(t,e,i){var r,n,o,a,s,u;t[c("0x1e9","[BX%")]=(u=i(c("0x1fc","D$aK")),n=(r=u).lib,o=n[c("0x375","5Ma]")],a=n[c("0x376","MxYP")],(s=r[c("0x377","$euG")]={}).Word=o[c("0xdf","P3*W")]({init:function(t,e){this.high=t,this.low=e}}),s[c("0x378","@isz")]=o.extend({init:function(t,e){t=this[c("0x379","7MZ4")]=t||[],null!=e?this[c("0x336","%XF%")]=e:this[c("0x37a","46xk")]=8*t.length},toX32:function(){for(var t=this.words,e=t[c("0xb","0d*8")],i=[],r=0;r<e;r++){var n=t[r];i[c("0x37b","%XF%")](n.high),i[c("0x37c","qFpu")](n[c("0x37d","ob8$")])}return a.create(i,this[c("0x37e","soQY")])},clone:function(){for(var t=o.clone[c("0x357","0]Mi")](this),e=t[c("0x1b7","qVnI")]=this[c("0x37f","&s$B")][c("0x380","^X0k")](0),i=e[c("0x381","cd6q")],r=0;r<i;r++)e[r]=e[r][c("0x382","1bZK")]();return t}}),u)},"./core.js":function(t,e,i){"use strict";var r=i(c("0x383","qFpu")),n=4097,o=c("0x384","X]AG"),a=8,s=2,u=c("0x385","OPMO"),l=3735929054,f=32,d=3721137647,h=0,p=c("0x386","P3*W"),_=c("0x387","5Ma]"),v="83pB6XqN2pVxHexKLprAWppg83BRx6RXdjXQA0MIKYrl47LTtHLm8MocQdn217u6";function m(t){for(var e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],i=-1,r=0;r<t[c("0x251","5f]%")];r++)i=i>>>8^e[255&(i^t[c("0x388","Kwna")](r))];return(-1^i)>>>0}var g=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,0,0,0,0,0,0,0,10,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,11,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function E(t){for(var e,i=t[c("0x389","X]AG")],r="",n=0;i-- >0;)e=t[c("0x38a","tE3M")](n++),r+=g[(240&e)>>4],r+=g[15&e];return r}function w(t){for(var e,i,r=t[c("0x38b","px4X")],n="",o=0;r>1;)e=t.charAt(o++).charCodeAt(0),i=t[c("0x38c","cd6q")](o++)[c("0x38d","46xk")](0),n+=String[c("0x38e","F)TN")]((y[e]<<4)+y[i]),r-=2;return n}function A(t,e){var i=arguments[c("0x18","5Ma]")]>2&&void 0!==arguments[2]&&arguments[2],r=2*e;if(0!=r){if(t[c("0xb","0d*8")]>r)throw c("0x38f","soQY");for(;r>t[c("0x390","ob8$")];)t="0"+t;if(!i){for(var n="",o=0;o<e;o++)n=t[c("0x6c","kyEC")](2*o,2*o+2)+n;t=n}}return w(t)}function b(){return((Date[c("0x391","jtZ[")](new Date)/1e3>>>0^d>>>0)>>>0).toString()[c("0x392","Kwna")](0,9)}function S(t){var e=w(r.AES[c("0x393","px4X")](r[c("0x394","4EYt")][c("0x395","&s$B")][c("0x396","qFpu")](t),r.enc[c("0x397","@isz")][c("0x398","F)TN")](u),{mode:r.mode[c("0x399","MxYP")],padding:r.pad[c("0x39a","&s$B")]})[c("0x39b","5f]%")][c("0x39c","5Ma]")]()),i="";return i+=A(l[c("0x39d","7PuZ")](16),4),i+=A(f[c("0x39e","4EYt")](16),2),i+=b(),i+=A(s[c("0x39f","9Zxt")](16),1),i+=A(n.toString(16),2),i+=A(h[c("0x3a0","lW#@")](16),1),i+=A(m(o).toString(16),4),i+=A(a[c("0x3a1","jtZ[")](16),1),i+=A(m(e)[c("0x3a2","XXCA")](16),4),i+=A(e[c("0x3a3","HhMU")][c("0xda","&s$B")](16),4),i+=e}var T={enc:function(t){return S(t)},enc_base64:function(t){return r.enc[c("0x3a4","46xk")][c("0x3a5","7MZ4")](r[c("0x3a6","Kwna")][c("0x3a7","XXCA")][c("0x3a8","[BX%")](S(t)))},dec:function(t){var e=w(r[c("0x3a9","0]Mi")][c("0x3aa","X]AG")][c("0x3ab","P3*W")](t)[c("0x3ac","0d*8")]());if(e[c("0x3ad","lW#@")]<=23)return"";var i=e[c("0x3ae","HhMU")](23);if(A(3235778573[c("0x3af","@CC]")](16),4)!=e[c("0x3b0","qFpu")](0,4))return"";if(A(23..toString(16),2)!=e[c("0x3b1","MxYP")](4,6))return"";if(A(s.toString(16),1)!=e[c("0x3b2","5Ma]")](6,7))return"";if(A(n.toString(16),2)!=e.slice(7,9))return"";if(A((0)[c("0x3b3","MxYP")](16),1)!=e[c("0xa5","&s$B")](9,10))return"";if(A(m(o)[c("0x3b4","0]Mi")](16),4)!=e[c("0x3b5","@CC]")](10,14))return"";if(A(a[c("0x3ac","0d*8")](16),1)!=e[c("0x3b6","qVnI")](14,15))return"";if(A(m(i)[c("0x3b7","^X0k")](16),4)!=e[c("0x3b8","%XF%")](15,19))return"";if(A(i[c("0x390","ob8$")][c("0x3b9","qx8B")](16),4)!=e[c("0x3ba","4EYt")](19,23))return"";var u=r[c("0x3bb","qVnI")][c("0x3bc","8fH9")][c("0x3bd","%XF%")](r[c("0x3be","tE3M")][c("0x16b","@isz")][c("0x3bf","X]AG")](E(i)));return r[c("0x3c0","@CC]")][c("0x3c1","9NOF")](u,r[c("0x3c2","5Ma]")][c("0x3c3","qx8B")][c("0x3c4","8fH9")](p),{iv:r[c("0x3c5","cd6q")].Latin1[c("0x3c6","@CC]")](_),mode:r[c("0x3c7","5f]%")][c("0x3c8","F)TN")],padding:r[c("0x3c9","1qwt")].Pkcs7})[c("0x3ca","qFpu")](r[c("0x394","4EYt")][c("0x3cb","jtZ[")])},sign:function(t){var e=r[c("0x3cc","46xk")](t,v),i=r.AES[c("0x3cd","soQY")](r[c("0x3ce","5f]%")][c("0x3cf","9NOF")].parse(e[c("0x3d0","1qwt")]()),r[c("0x4b","Fb*n")].Latin1[c("0x3d1","1bZK")](u),{mode:r.mode[c("0x3d2","X]AG")],padding:r[c("0x3d3","^X0k")][c("0x3d4","px4X")]})[c("0x3d5","kJMj")].toString(),n=r[c("0x3ce","5f]%")].Base64[c("0x3d6","X]AG")](r[c("0x3d7","*VJU")][c("0x3d8","8fH9")].parse(i)),o=r[c("0x3d9","1bZK")](n,v),l="",f=9^s,d=205^a;return l+=A(b()+(f>>>0)[c("0x3b4","0]Mi")](16),5,!0),l+=A((d>>>0)[c("0xf6","I9]i")](16),1,!0),E(l+=A(o[c("0x3ca","qFpu")]()[c("0x211","u76Y")](0,30),15,!0))}};t[c("0x12b","XXCA")]=T},"./index.js":function(t,e,i){"use strict";var r=i("./core.js"),n={enc:function(t){return r[c("0x3da","9NOF")](t)},enc_base64:function(t){return r[c("0x3db","X]AG")](t)},dec:function(t){return r[c("0x3dc","X]AG")](t)},sign:function(t){return r[c("0x3dd","px4X")](t)}};t.exports=n}})}))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,i){var r=i(361);"string"==typeof r&&(r=[[t.i,r,""]]);var n={attributes:{id:"player-style"},injectType:"singletonStyleTag",insert:"head",singleton:!0};i(46)(r,n);r.locals&&(t.exports=r.locals)},function(t,e,i){e=t.exports=i(45)(!1);var r=i(94)(i(362));e.push([t.i,"@-webkit-keyframes loading{0%{background-position:0 0}100%{background-position:-2870px 0}}@keyframes loading{0%{background-position:0 0}100%{background-position:-2870px 0}}.container-player .preloader{display:none}.container-player .preloader .player-buffer{position:absolute;width:70px;height:70px;pointer-events:none;left:50%;top:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);background-image:url("+r+");-webkit-animation:loading steps(41, start) 1.2s infinite;animation:loading steps(41, start) 1.2s infinite}\n",""])},function(t,e){t.exports="data:image/png;base64,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OvNIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARGGIHECGsvm0sCJEACJEACJJAnATiHfkJbnOO5zjYQ+5uFKEWyCMh587r01MYpSomFSJ6QldW3q8WlTmfrrwakV3pC1+iJQqhNozBIKesgc2uUXLnn60MbN1MJMQN67iqkTgotnkCk9RvlwraPyl136kcCJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJFA5BOjYXDnfNTUlARIgARKoUAJaitfhBBm5uVq9GSlEAV8Ccn7rMj1p5me8cb1NUjgHSanX1Vq/5AjdLDvnPu57UoUnelJtIi2uS8hsXOGoRLK2aZqSeg44jOljgekKUjQpV3xf1884WrY3P1TpjKg/CZAACZAACZAACZAACZAACZAACZAACRRCAKuKuWLl6O2ESI4RY3uXIYjBikLK4TkkQAIkQAIkQAIkQAIkQAIkQAIkQALxEaBjc3wsWRIJkAAJkMAwENBHzFxPJb0GofVuwhGe1uKv7ujueTRAr/0y4GDbIYVsXJviu/emWPHmUt8cJloRkIvmrIbgtek/q3MqWchV6jUlnUgE8H2uaId7XTdjHyXUXIDy67d/TGnVjvvgbvLOOa9GwqQACZAACZAACZAACZAACZAACZAACZAACZDAGgJebePparW4QDhqMwHjsuiq8by6xnmOSpwnF8x5e40gd0iABEiABEiABEiABEiABEiABEiABIaUgJ+DxJA2gJWRAAmQAAmQQKEEkvUNk+HU3CqE3gDRS/FhgpiK01RXzcV6StMxckHLY4WWXU7nuaN7bvW6ah4Cm88H6QV035KLFiWD8plOArET2HOHJ8XiZS+j3G3Dykak4nlh+eWep4X6IXQM67Ovp3qT34HMV8udRZB+etKkhDd+q+Ol0nWIUL+JlOI1LZxb3fbm+bjvWcQFDyqZ6SRAAiRAAiRAAiRAAiRAAiRAAiRQ+gQwKXoLJXQDXoF3Qms9vAg/4soxf5Dts1eVfuuHr4Vwar4ExuTzciwHLlp0nHK8/fTU4z4n599c0RPuh+/bYc0kQAIkQAIkQAIkQAIkQAIkQAKVTsC4gXEjARIgARIggRFHQE+dsYtS6nE0vMa38VJ86HhqV7lg7r988yssUR88bV09quYW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AAmQAAmQAAmQQIkR0F9qGutV6UlSyC20o//jdnU/IO+d92GJNZPNIQESIAESIAESIAESIAESIAESIAESSBNIkAQJkAAJkAAJkAAJDJaAJ53NJTxiozbIbBklUyr5UEeq2sZfKyHOM23SKf20wADIl9W45Lf01MbJcn7rslJpbxztgMPyu1iGNHJztfNOpFAZCMj25of05IbtlSNOwBe/p9DS9J2fcpKiWd7d8lYZqEgVSIAESIAESIAESIAESIAESIAESIAESKDsCch7WlZCyc6yV5QKkgAJkAAJkAAJkAAJkAAJkAAJkECZEKBjc5l8kVSDBEiABEiABIaTgOupV5XjRDYBPrOvRAqViACiF38TTUk5Nfs0aYJSYoGeNm1XOW+eWbqyLDatdQcct0+IUOZtMbprSYRM2WTLhW0fQZkry0YhKkICJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJUwg2gOphBvPppEACZAACZAACZQIgb12eBoteTGqNVrqeVEypZCvJ80chQi934toy/Zq1aimCJkRle3usf3tcD5/KKzRyP82nLl7wmSYRwIkQAIkQAIkQAIkQAIkQAIkQAIkQAIkQAIkQAIkQAIkQAIkQAIkQAIkQAIkQAIkQAKFEKBjcyHUeA4JkAAJkAAJkEA/AnLWLKUccQYSVb+MrAMp9e2J9raFWUmlu7tO70ShxbqRDZTiwEiZESRgvke3yjlCCn2vT7NXCynPSXS0NvvkMYkESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAEBk2Ajs2DRsgCSIAESIAESIAEDIGq+a1/0tI5Crvv5hBBkF9xnRRjR0x0Y0+L9XN08D2EA/BGvhkjOFHe0fw/p6PtEKUVnLb1T6HKVcah2XGTO7jtLVeMYNXYdBIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIggRInIEu8fWweCZAACZAACZDACCOgJ80c5Y1NfglOv9tqx1nuKu8B2Tn35ZGkhp7auKNS4rnoNuur3Y62M6PlKEECJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJBBFgI7NUYSYTwIkQAIkQAIkUJEEknWNj6OjtGeY8o5w9pUdzY+GyTCPBEiABEiABEiABEiABEiABEiABEiABEiABEiABEiABEiABEiABEiABEiABEiABEiABEjAjoBjJ0YpEiABEiABEiABEqgsAq4Qp0Ljj0K0vpxOzSF0mEUCJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACJEACeRKgY3OewChOAiRAAiRAAiRQGQRkR+tTjlIHaCGe6KexFB8KLb7jdLSe1y+dByRAAiRAAiRAAiRAAiRAAiRAAiRAAiRAAiRAAiRAAiRAAiRAAiRAAiRAAiRAAiRAAiRAAoMigBXWuZEACZAACZAACZAACYQR0FMbd/SU3MGVJoLz6Cdk++xVYfLMIwESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIIH8Cfw/c60HE/6a0wgAAAAASUVORK5CYII="},function(t,e,i){var r=i(364);"string"==typeof r&&(r=[[t.i,r,""]]);var n={attributes:{id:"player-style"},injectType:"singletonStyleTag",insert:"head",singleton:!0};i(46)(r,n);r.locals&&(t.exports=r.locals)},function(t,e,i){e=t.exports=i(45)(!1);var r=i(94)(i(365));e.push([t.i,".left-bottom-tip{z-index:999;position:absolute;left:10px;bottom:90px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;align-items:flex-start;z-index:3}.left-bottom-tip .tip-item{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;min-width:1px;padding:0 10px;background:rgba(21,21,21,0.70196);border-radius:4px;font-size:14px;color:#ffffff;letter-spacing:0;text-align:center;line-height:32px;height:32px;margin-top:10px}.left-bottom-tip .tip-item .left-bottom-tip-text{line-height:32px;vertical-align:middle;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center}.left-bottom-tip .tip-item .left-bottom-tip-text span{vertical-align:middle}.left-bottom-tip .tip-item .btn-restart{color:#FD4C5C;margin-left:12px;cursor:pointer}.left-bottom-tip .tip-item .btn-close-muted{color:#FD4C5C;margin-left:12px;cursor:pointer}.left-bottom-tip .tip-item .btn-close{width:12px;height:12px;background-image:url("+r+");background-position:center;background-repeat:no-repeat;opacity:0.8;cursor:pointer;margin-right:2px;margin-left:18px}.left-bottom-tip .tip-item .btn-close:hover{opacity:1}.left-bottom-tip .tip-item .danger{color:#FD4C5C}\n",""])},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjUgKDY3NDY5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5pY29uX2NvbW1lbnRfdGM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iaWNvbl9jb21tZW50X3RjIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNNy4yMTAzODM0NSw2IEwxMS43NDkzMjE0LDEwLjUzODkzNzkgQzEyLjA4MzU1OTUsMTAuODczMTc2MSAxMi4wODM1NTk1LDExLjQxNTA4MzIgMTEuNzQ5MzIxNCwxMS43NDkzMjE0IEMxMS40MTUwODMyLDEyLjA4MzU1OTUgMTAuODczMTc2MSwxMi4wODM1NTk1IDEwLjUzODkzNzksMTEuNzQ5MzIxNCBMNiw3LjIxMDM4MzQ1IEwxLjQ2MTA2MjA3LDExLjc0OTMyMTQgQzEuMTI2ODIzOTEsMTIuMDgzNTU5NSAwLjU4NDkxNjc4LDEyLjA4MzU1OTUgMC4yNTA2Nzg2MiwxMS43NDkzMjE0IEMtMC4wODM1NTk1NCwxMS40MTUwODMyIC0wLjA4MzU1OTU0LDEwLjg3MzE3NjEgMC4yNTA2Nzg2MiwxMC41Mzg5Mzc5IEw0Ljc4OTYxNjU1LDYgTDAuMjUwNjc4NjIsMS40NjEwNjIwNyBDLTAuMDgzNTU5NTQsMS4xMjY4MjM5MSAtMC4wODM1NTk1NCwwLjU4NDkxNjc4IDAuMjUwNjc4NjIsMC4yNTA2Nzg2MiBDMC41ODQ5MTY3OCwtMC4wODM1NTk1NCAxLjEyNjgyMzkxLC0wLjA4MzU1OTU0IDEuNDYxMDYyMDcsMC4yNTA2Nzg2MiBMNiw0Ljc4OTYxNjU1IEwxMC41Mzg5Mzc5LDAuMjUwNjc4NjIgQzEwLjg3MzE3NjEsLTAuMDgzNTU5NTQgMTEuNDE1MDgzMiwtMC4wODM1NTk1NCAxMS43NDkzMjE0LDAuMjUwNjc4NjIgQzEyLjA4MzU1OTUsMC41ODQ5MTY3OCAxMi4wODM1NTk1LDEuMTI2ODIzOTEgMTEuNzQ5MzIxNCwxLjQ2MTA2MjA3IEw3LjIxMDM4MzQ1LDYgWiIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg=="},function(t,e,i){var r=i(367);"string"==typeof r&&(r=[[t.i,r,""]]);var n={attributes:{id:"player-style"},injectType:"singletonStyleTag",insert:"head",singleton:!0};i(46)(r,n);r.locals&&(t.exports=r.locals)},function(t,e,i){e=t.exports=i(45)(!1);var r=i(94),n=r(i(368)),o=r(i(369));e.push([t.i,'.container-player.mini .vipPop .part-need-vip{display:none !important}.container-player.mini .vipPop .part-tobe-vip{display:none !important}.container-player.mini .vipPop,.container-player[data-bind-attr="web"] .vipPop,.container-player[data-bind-attr="screen"] .vipPop{bottom:0}.container-player .vipPop{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;position:absolute;left:0;right:0;top:0;background:black;z-index:2;bottom:40px}.container-player .vipPop.hide{display:none}.container-player .vipPop .part-need-vip{display:none;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column}.container-player .vipPop .part-need-vip[data-bind-attr=needVip]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex}.container-player .vipPop .part-need-vip>img{margin-bottom:20px}.container-player .vipPop .part-need-vip>div:nth-child(2){font-size:18px;color:#FFFFFF;letter-spacing:0;text-align:center;line-height:18px;margin-bottom:50px}.container-player .vipPop .part-need-vip>div:nth-child(3){width:156px;height:34px;line-height:34px;background:#FD4C5C;border-radius:6px;font-size:18px;color:#FFFFFF;letter-spacing:0;text-align:center;margin-bottom:10px;cursor:pointer}.container-player .vipPop .part-need-vip>div:nth-child(4){font-size:14px;color:#FFFFFF;letter-spacing:0;text-align:center;line-height:14px;opacity:0.6}.container-player .vipPop .part-tobe-vip{display:none;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column}.container-player .vipPop .part-tobe-vip[data-bind-attr=tobeVip]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex}.container-player .vipPop .part-tobe-vip .bg{position:relative;width:480px;height:326px;background:url('+n+");background-size:100%}.container-player .vipPop .part-tobe-vip .bg .btn-tobe-vip{position:absolute;top:232px;left:50%;margin-left:-135px;content:'';display:block;width:270px;height:44px;background:black;border-radius:3px;cursor:pointer;opacity:0}.container-player .vipPop .part-tobe-vip .bg .btn-tobe-vip:hover{opacity:0.06}.container-player .vipPop .part-tobe-vip .bg .btn-close{position:absolute;top:20px;right:20px;width:27px;height:27px;background:url("+o+");background-size:100%;cursor:pointer;opacity:0.3}.container-player .vipPop .part-tobe-vip .bg .btn-close:hover{opacity:1}\n",""])},function(t,e){t.exports="data:image/png;base64,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"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAd1JREFUSA29VrFugzAQNR06ZUDN1E7ZIlVs+YlOXcjGwJgxa6UMWfMLWSPxA536ERlRRbZM6QJVhqpSO5S+hwBhx2BSUk56MTbv7sXHncESBkvTdADKA/AI3AN3wBBIgAPwCjwDL5ZlfWA83yBiAyvgE2hj5JFvn6UGBxdIgL8Y/VyjIEgWsAR+gC5G/2WjIAldFDS+ekEQmbquO1L1GE9OKRZYDNIzms/nqe/7aRzHagDtnDzy6acY42ZFc5Xn9QnjTTXHx+NRhGEoZrOZSBJWeb3xPnnk008xxmV8IaA6AE7Km//Udd10MplkY90OW/IYf0CxKaA1UyDTfSXolGIbZVGa1gWsW5ec5cmGYlt57XSmBo6iqFWKlUhbNjHPt9vsATb8FEWw3+9L1mg0Euv1WgyHPCqN9kaxL9CujVQQdrud8DyvpAZBIMbjcTk3XHyz9JvrOo/AnS0WCyke56a2qDgkFGMaG62aQqaOO+LIlLbpwzz4ofdq7LXP+jtBmE9UJN+wkvFQNR1VhUO1D+mnsRV1ioOYk3cuFGbbtnAcp1Ufsc/Yb+TTTzHGzcTKdfybft5nhSIEl5oUdFnSv6kpiKj9fYNUdvj/X1eFWL7Li383WlUB3TVSe7Ev4l8I+Yb4+ooHuAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,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"},function(t,e,i){"use strict";i.r(e);var r,n=function(){function t(){this._events=new Map,this.eventsNameMap={}}return t.prototype.on=function(t,e){var i=this._events.get(t)||[];return i.push({cb:e}),this._events.has(t)||this._events.set(t,i),this},t.prototype.once=function(t,e){var i=this._events.get(t)||[];return i.push({once:!0,cb:e}),this._events.has(t)||this._events.set(t,i),this},t.prototype.off=function(t,e){if(e){var i=this._events.get(t);if(i){var r=i.findIndex((function(t){return t.cb===e}));-1!==r&&i.splice(r,1)}}else this._events.delete(t);return this},t.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=this._events.get(t);if(r){var n=[];r.forEach((function(t){var e=t.once,i=void 0!==e&&e,r=t.cb;i||n.push({cb:r})})),this._events.set(t,n),r.forEach((function(t){t.once;var i=t.cb;try{i.apply(null,e)}catch(t){console.log(t)}}))}return this},t.prototype.clear=function(){return this._events.clear(),this},t}(),o=i(52),a=i.n(o),s=i(141),u=i.n(s);!function(t){t.hls="hls",t.flv="flv"}(r||(r={}));var c,l=r;!function(t){t.manifestParsed="manifestParsed",t.error="error",t.report="report",t.levelSwitched="levelSwitched",t.levelSwitching="levelSwitching",t.levelSwitchFailed="levelSwitchFailed",t.levelSwitchPlaying="levelSwitchPlaying"}(c||(c={}));var f,d=c;!function(t){t.kernelEvent="kernelEvent"}(f||(f={}));var h;!function(t){t.idle="idle",t.paused="paused",t.playing="playing",t.pending="pending",t.stopped="stopped"}(h||(h={}));var p,_=h;!function(t){t.created="created",t.beforeKernelLoaded="beforeKernelLoaded",t.kernelLoaded="kernelLoaded",t.kernelReset="kernelReset",t.mounted="mounted",t.destroyed="destroyed"}(p||(p={}));var v,m=p;!function(t){t.abort="abort",t.canplay="canplay",t.ended="ended",t.error="error",t.loadeddata="loadeddata",t.loadedmetadata="loadedmetadata",t.loadstart="loadstart",t.pause="pause",t.play="play",t.playing="playing",t.ratechange="ratechange",t.seeked="seeked",t.seeking="seeking",t.stalled="stalled",t.suspend="suspend",t.timeupdate="timeupdate",t.volumechange="volumechange",t.waiting="waiting",t.durationchange="durationchange",t.progress="progress"}(v||(v={}));var g,y=v;!function(t){t.mutedChanged="mutedChanged",t.loopChanged="loopChanged",t.autoPlayChanged="autoPlayChanged",t.customRateChanged="customRateChanged",t.customLevelSwitched="customLevelSwitched",t.liveManifestParsed="liveManifestParsed",t.liveCustomLevelSwitched="liveCustomLevelSwitched",t.loadFromStartSecond="loadFromStartSecond"}(g||(g={}));var E,w=g,A=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a};!function(t){t.UUID="uuid",t.AC_USERNAME="ac_username",t.AC_USERIMG="ac_userimg",t.AUTH_KEY="auth_key",t.AUTH_KEY_AC_SHA1="auth_key_ac_sha1",t.AUTH_KEY_AC_SHA1_="auth_key_ac_sha1_",t.IDENTIFIER="identifier",t.USERSIG="usersig",t.DID="_did"}(E||(E={}));var b=new(function(){function t(){var t=this;this.cookies=new Map,this.cookie=document.cookie||"",this.cookie.split("; ").map((function(e){var i=A(e.split("="),2),r=i[0],n=i[1];t.cookies.set(r,n)}))}return t.prototype.get=function(t){return this.cookies.get(t)},Object.defineProperty(t.prototype,"uid",{get:function(){return this.get(E.AUTH_KEY)||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uid_ck",{get:function(){return this.get(E.AUTH_KEY_AC_SHA1)||""},enumerable:!1,configurable:!0}),t.prototype.isLogin=function(){return this.uid.length>0},t}());var S=function(t,e){void 0===e&&(e=300);var i,r=null,n=null;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];i=o,clearTimeout(n),r?n=setTimeout((function(){t.apply(null,i),r=null}),e):r=setTimeout((function(){t.apply(null,i),r=null}),e)}};function T(t){var e=Object.prototype.toString.call(t);return"[object Array]"==e?"Array":"[object Object]"==e?"Object":"[object String]"==e?"String":"param is no object type"}var x,L=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},C=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(L(arguments[e]));return t},I=/staging.kuaishou.com/.test(location.href),D=function(){function t(t){this.isNewProtocol=!1,this.txBitrate2BandwidthMap=null,this._h5Player=t,this.version=a.a.version}return t.prototype.load=function(t,e){if(!this._kernel){var i=this._h5Player.isLive,r=this._h5Player.$video;this._kernel=new a.a(r,{credentials:!1,adaptive:!0,webWorker:!0,box:i?"flv":"hls",isLive:i,alwaysSeekKeyframe:!1,autoCleanupMaxBackwardDuration:90,autoCleanupMinBackwardDuration:90,lazyLoadMaxDuration:90,defaultSpts:-7e3}),this._kernel.experiment(!this._h5Player.startBitrateNoLimit),this.addListeners()}try{this._kernelLogKit||(this._kernelLogKit=new u.a(this._kernel,{playConfig:{credentials:!1,adaptive:!0,webWorker:!0,box:i?"flv":"hls",isLive:i,alwaysSeekKeyframe:!1,autoCleanupMaxBackwardDuration:90,autoCleanupMinBackwardDuration:90,lazyLoadMaxDuration:90,defaultSpts:-7e3},loggerConfig:{productName:"ACFUN_WEB",env:I?"test":"production",consumerId:"ACFUN_APP",viewerId:b.uid,contentId:this._h5Player.contentId||0,videoId:this._h5Player.vid||0}}))}catch(t){console.error(t)}var n,o=null;if(this.isNewProtocol=!1,"String"==T(t))n=t;else if("Object"==T(t)){n=t;try{var s=t.adaptationSet.representation||[];o={},s.forEach((function(t){t.url;var e=t.bandwidth,i=t.width,r=t.height,n=(t.m3u8,Math.max(i,r)),a=Math.min(i,r);o[(n>=1920||a>=1080?3e6:n>=1280||a>=720?15e5:n>=960||a>=540?9e5:4e5)+""]={bandwidth:e,width:i,height:r}}))}catch(t){console.log(t)}this.isNewProtocol=!0,this.txBitrate2BandwidthMap=o}n&&(this._h5Player.emit(w.loadFromStartSecond,e||0),this._kernel.load(n,{startFromSec:e}))},t.prototype.destroy=function(){this._kernelLogKit&&this._kernelLogKit.destroy(),this._kernel&&(this._kernel.removeAllListeners(),this.stopLoad(),this._kernel.destroy())},t.prototype.stopLoad=function(){this._kernel&&this._kernel.stopLoad()},t.prototype.addListeners=function(){var t=this,e=function(e){var r=d[e];i._kernel.on(r,(function(){for(var e,i,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];"error"==r?(e=t._h5Player).emit.apply(e,C(["kernel"+r],n)):(i=t._h5Player).emit.apply(i,C([r],n))}))},i=this;for(var r in d)e(r);this._h5Player.on("initLogParams",(function(e,i,r,n){t._kernelLogKit.updateConfig({contentId:String(e||0),videoId:String(n||0)})}))},t}(),O=new(function(){function t(){var t=this;this.__KEY__="AcfunH5player::",this._history={},this.flush=S((function(){try{localStorage.setItem(t.__KEY__,JSON.stringify(t._history))}catch(t){console.log(t)}}),300);try{var e=localStorage.getItem(this.__KEY__);this._history=JSON.parse(e||"{}")}catch(t){console.log(t)}}return t.prototype.set=function(t,e){this._history[t]=e,this.flush()},t.prototype.get=function(t){return this._history[t]},t.prototype.clear=function(){localStorage.removeItem(this.__KEY__),this._history={}},t}()),R={_key:"playHistory",_max:100,get:function(t){try{var e=localStorage.getItem(R._key)||"{}";return(e=JSON.parse(e))[t]}catch(t){return localStorage.setItem(R._key,JSON.stringify({})),console.log(t),0}},set:function(t,e){try{var i=localStorage.getItem(R._key)||"{}";i=JSON.parse(i),Object.keys(i).length>=R._max&&Object.keys(i).slice(0,R._max/2).forEach((function(t){delete i[t]})),i[t+""]=e,localStorage.setItem(R._key,JSON.stringify(i))}catch(t){localStorage.setItem(R._key,JSON.stringify({})),console.log(t)}},delete:function(t){try{var e=localStorage.getItem(R._key)||"{}";delete(e=JSON.parse(e))[t+""],localStorage.setItem(R._key,JSON.stringify(e))}catch(t){localStorage.setItem(R._key,JSON.stringify({})),console.log(t)}}},k=R,N=(x=function(t,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),M=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},P=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(M(arguments[e]));return t},U=function(t){function e(i){var r=t.call(this)||this;r.$plugins=[],r._loop=!1,r._autoplay=!1,r.eventsNameMap={},r.extend={},r.playHistory=k,r.startBitrateNoLimit=!1,r.beForcedMuted=!1,r.startFromSec=0,r.currentSrc="",r.duration=0,r.currentTime=0,r.status=_.idle,r.retryNum=0,r.retryMax=3,r.hasPlayed=!1,r.destroy();var n,o=i.wrapper,a=i.extendWrapper,s=i.plugins,u=(i.autoplay,i.controls),c=void 0!==u&&u,l=i.poster,f=i.preload,d=void 0===f?"auto":f,h=(i.box,i.isLive),p=void 0!==h&&h,v=i.isLiveUI,g=i.src,y=i.startFromSec,E=i.startBitrateNoLimit;n="string"==typeof o?document.querySelector(o):o;var w=e.createPlayerDom();return a&&(r.$extendContainer="string"==typeof a?document.querySelector(a):a),r.$wrapper=n,r.$container=w,r.$outerPlugins=w.querySelector(".container-plugins-outer"),r.$innerPlugins=w.querySelector(".container-plugins-inner"),r.$video=w.querySelector("video"),r.isLive=p,r.isLiveUI=v,r.$video.controls=c,r.$video.preload=d,r.startBitrateNoLimit=E,l&&(r.$video.poster=l),r.$video.autoplay=!1,r.volume=50,r.muted=!1,r.loop=!1,r.history=O,r.kernel=new D(r),r.addEventListeners(),r.$plugins=s,s.forEach((function(t){r.plug(t)})),["volume","muted","loop","autoplay"].forEach((function(t){void 0!==i[t]&&(r[t]=i[t])})),(p||v)&&(r.autoplay=!0,r.loop=!1,w.classList.add("live")),r.emit(m.created),n.innerHTML="",n.appendChild(w),r.emit(m.mounted),g&&r.load(g,y),r}return N(e,t),Object.defineProperty(e.prototype,"autoplay",{get:function(){return this._autoplay},set:function(t){this.autoplay!==t&&(this.emit(w.autoPlayChanged,t),this._autoplay=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this.$video.muted},set:function(t){this.$video.muted!==t&&(this.emit(w.mutedChanged,t),this.$video.muted=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return 100*this.$video.volume},set:function(t){this.$video.volume=t/100},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop!==t&&(this.emit(w.loopChanged,t),this._loop=t)},enumerable:!1,configurable:!0}),e.createPlayerDom=function(){var t=document.createElement("div");return t.className="container-player",t.innerHTML='   <div class="container-video">       <video  playsInline x-webkit-airplay="true" webkit-playsinline="true" >       </video>       <div class="container-plugins-inner"></div>   </div>   <div class="container-plugins-outer"></div>',t},e.prototype.play=function(){var t=this;if(this.status!=_.playing)if(this.isLive&&this.hasPlayed)this.load(this.currentSrc);else{this.hasPlayed||(this.hasPlayed=!0);var e=this.$video.play();e&&e.then((function(){})).catch((function(e){t.retryNum<t.retryMax&&(console.log("NotAllowedError",e),e&&"NotAllowedError"==e.name&&(t.muted=!0,t.beForcedMuted=!0),t.retryNum++,setTimeout((function(){t.play()}),500))}))}},e.prototype.pause=function(){this.status!=_.paused&&(this.$video.pause(),this.isLive&&this.kernel&&this.kernel.stopLoad())},e.prototype.seek=function(t){this.$video.currentTime=t},e.prototype.plug=function(t){if("string"==typeof t){var e=null;return this.$plugins.some((function(i){return i.key==t&&(e=i),!!e})),e}try{var i=null;return this.$plugins.some((function(e){return e.key==t.key&&(i=e),!!i})),i||this.$plugins.push(t),t.attach(this),!0}catch(e){return console.log(e,t.key),!1}},e.prototype.unplug=function(t){try{var e=this.$plugins,i=null;return"string"==typeof t?e.some((function(e){return e.key==t&&(i=e,!0)})):i=t,!!i&&(i.detach(),!0)}catch(t){return console.log(t),!1}},e.prototype.load=function(t,e,i){void 0===i&&(i=!1),this.autoplay&&!this.isLive&&e?this.startFromSec=e:this.startFromSec=0;this.$video;this.status=_.idle,this.hasPlayed=!1,this.currentSrc=t,this.emit(m.beforeKernelLoaded),i?(this.kernel.load(t,e),this.startFromSec=e):this.kernel.load(t,this.startFromSec),this.emit(m.kernelLoaded)},e.prototype.preload=function(t,e,i){if(void 0===i&&(i=0),this.kernel){var r=this.autoplay,n=this.isLive,o=this.isLiveUI,a=this.playHistory;if(r&&n&&o&&a){var s=1*a.get(e);i=Math.max(i,s)}else i=0;this.kernel._kernel&&this.kernel._kernel.preload(t,i)}},e.prototype.addEventListeners=function(){var t=this;this.eventsNameMap.lifeCircle=m,this.eventsNameMap.native=y,this.eventsNameMap.kernel=JSON.parse(JSON.stringify(d)),this.eventsNameMap.kernel.error="kernelerror",this.eventsNameMap.custom=w;var e=function(t){i.on(m[t],(function(){console.log("LifeCircleEvents:",t)}))},i=this;for(var r in m)e(r);var n=function(e){o.$video.addEventListener(y[e],(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];t.emit.apply(t,P([y[e]],i))}))},o=this;for(var a in y)n(a);this.on(y.durationchange,(function(e){t.duration=e.target.duration})),this.on(y.timeupdate,(function(e){t.currentTime=e.target.currentTime})),this.on(y.pause,(function(){t.status=_.paused})),this.on(y.play,(function(){t.status=_.playing})),this.on(y.waiting,(function(){t.status=_.pending})),this.on(y.canplay,(function(e){e.target.paused?t.status=_.paused:t.status=_.playing})),this.on(y.ended,(function(){t.status=_.stopped})),this.on(y.canplay,(function(){t.hasPlayed||t.autoplay&&t.play()})),this.on(y.ended,(function(){t.loop&&t.play()}))},e.prototype.destroy=function(){var t=this;return this.$plugins.forEach((function(e){t.unplug(e)})),this.kernel&&this.kernel.destroy(),this.$wrapper&&(this.$wrapper.innerHTML=""),this.emit(m.destroyed),this.clear(),!0},e}(n),B=(i(150),i(51),function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}()),F=function(){return(F=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},K={controls:!1,poster:"",extendWrapper:"",wrapper:"",box:l.hls,isLive:!1,isLiveUI:!1,plugins:[],startBitrateNoLimit:!1},j=window;j.Promise||i(152);var V,H=function(t){function e(e){var i=t.call(this,F(F({},K),e))||this;return i.version="1.1.3",i.status=_.idle,i}return B(e,t),e.prototype.createPlayer=function(t){return new e(t)},e.prototype.isSupport=function(){var t=j.MediaSource||j.WebKitMediaSource,e=j.SourceBuffer||j.WebKitSourceBuffer,i=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=/TheWorld/.test(navigator.userAgent),n=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return i&&n&&!r&&a.a.isSupport()},e.defaultConfig=K,e}(U);i(338);!function(t){t.muted="muted",t.loop="loop",t.volume="volume",t.autoplay="autoplay",t.firstQuality="firstQuality",t.firstQualityType="firstQualityType",t.joysoundSwitch="joysoundSwitch"}(V||(V={}));var q=function(){function t(t){this.key="history-config",this._player=null,this.beta=!1,this.extend={events:{},properties:{},methods:{},history:V},this._defaultHistory={muted:!1,volume:50,autoplay:!0,loop:!1,firstQuality:"1500000",firstQualityType:-1,joysound:!1};var e=(t||{}).beta,i=void 0!==e&&e;this.beta=!!i}return t.prototype.attach=function(t,e){void 0===e&&(e={}),this._player=t,this._extendPlayer()},t.prototype.detach=function(){},t.prototype._extendPlayer=function(){!function(t){var e=t,i=e._player,r=e._getHistory(),n=r.volume,o=r.muted,a=r.loop,s=r.autoplay,u=r.firstQuality,c=r.firstQualityType,l=r.joysoundSwitch;i.volume=n,i.muted=o,i.loop=a,i.autoplay=s,i.firstQuality=u,i.firstQualityType=c,i.joysoundSwitch=l;var f=b.uid.length>0;i.on("manifestParsed",(function(){var t=i.kernel._kernel.getLevels(),e=-1,r={};i.qualityConfig&&i.qualityConfig.forEach((function(t,e){var i=t.qualityType,n=t.qualityLabel,o=t.limitType,a=void 0===o?0:o;r[i]={qualityLabel:n,limitType:a}}));var n=[];t.forEach((function(t,o){var a=t.qualityType,s=(t.qualityLabel,t.bitrate);a!=i.firstQualityType&&s!=i.firstQualityType||(r&&r[a]&&1==r[a].limitType?f&&(e=o):e=o),r&&r[a]&&1==r[a].limitType&&!f||parseInt(a)<=1080&&n.push(o)})),i.kernel._kernel.setAvailableAbrLevels(n),i.kernel._kernel.currentLevel=e}))}(this)},t.prototype._getHistory=function(){var t=this._player,e=this._defaultHistory,i={};for(var r in this.extend.history){var n=t.history.get(this.extend.history[r]);i[r]=void 0!==n?n:e[r]}return i},t}(),G=i(142),z=i.n(G),W=document,X={get:function(t,e){return(e=W.cookie.match("(?:;|^)\\s*"+t+"\\s*=\\s*([^;]+)\\s*(?:;|$)"))&&e[1]},set:function(t,e,i,r){-1==location.host.indexOf("meituan.com")||r||(r="meituan.com"),e=W.cookie=t+"="+e+(i?"; expires="+new Date((new Date).getTime()+1e3*i).toUTCString():"")+(r?"; domain="+r:"")+"; path=/"},remove:function(t){W.cookie=t+"=; expires="+(new Date).toUTCString()}},Y=i(143),Q=i.n(Y),J=i(65),Z=i.n(J);const $=i(358);let tt=i(65);var et,it,rt,nt,ot=function(t,e,i,r){return new(i||(i=Promise))((function(n,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},at=function(t,e){var i,r,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},st=function(){var t=X.get("_did")||"",e=X.get("auth_key")||"",i=X.get("safety_id");i||(i=function(t,e){e=e||"";let i=Z.a.allocate(2);i.writeUint8(0),i.writeUint8(1);let r=Q()(t+e);r=Z.a.fromHex(r);let n=i.append(r);return n.toBase64(0,n.offset)}(String(t),String(e)));var r=function(t,e,i,r,n){n=n||"";let o=(i=i||"").length,a=n.length,s=r.length,u=tt.allocate(2);u.writeUint8(0),u.writeUint8(1),u.offset=0;let c=tt.allocate(1);c.writeUint8(t-0,0);let l=Math.round(Date.now()/1e3);l=new Number(l).toString(16);let f=tt.fromHex(l),d=tt.fromUTF8(e),h=tt.fromHex("01397482"),p=tt.allocate(1);p.writeUint8(o,0);let _=tt.fromUTF8(i),v=tt.allocate(1);v.writeUint8(s,0);let m=tt.fromUTF8(r),g=tt.allocate(1);g.writeUint8(a,0);let y=tt.fromUTF8(n),E=tt.concat([c,f,d,h,p,_,v,m,g,y],"binary",!1,!0);E=$.enc(E.toString("binary")),E=tt.fromBinary(E);let w=tt.concat([u,E],"binary",!1,!0);return w.toBase64(0,w.limit)}(5,String(decodeURIComponent(i)),"1.0.0",String(t),String(e));return encodeURIComponent(r)},ut=null,ct=function(t,e,i,r){return void 0===i&&(i=0),void 0===r&&(r=0),ot(void 0,void 0,void 0,(function(){return at(this,(function(n){return ut=e||st(),[2,z.a.get("/rest/pc-direct/play/playInfo/ksPlayJson?videoId="+t+"&mkey="+ut+"&resourceId="+i+"&resourceType="+r,{withCredentials:!0})]}))}))},lt=function(){function t(){this.key="base",this.extend={events:{},properties:{},methods:{},history:{}},this._defaultHistory={},this._dom=null,this._domStore={},this._store={},this._eventMap={player:{},window:{}}}return t.prototype.store=function(t,e){this._player&&(this._setStore(t,e),this._bindDom(t,this._store[t]))},t.prototype._setStore=function(t,e){this._store[t]=e},t.prototype.domStore=function(t,e){if(void 0===e&&(e=!1),e)return this._dom.querySelector(t);var i=this._domStore[t];return i||(i=this._domStore[t]=this._dom.querySelector(t)),i},t.prototype.on=function(t,e){this._player&&this._player.on(t,e)},t.prototype.addEventListener=function(t,e){window.addEventListener(t,e),this._eventMap.window[t]=this._eventMap.window[t]?this._eventMap.window[t]:[],this._eventMap.window[t].push(e)},t.prototype.clear=function(){var t=this;Object.keys(this._eventMap).forEach((function(e){var i=t._eventMap[e];"player"==e?Object.keys(i).forEach((function(e){i[e].forEach((function(i){t._player&&t._player.off(e,i)}))})):"window"==e&&Object.keys(i).forEach((function(t){i[t].forEach((function(e){window.removeEventListener(t,e)}))}))}))},t.prototype._bindDom=function(t,e){var i=this._domStore[t];i||(this._domStore[t]=i=(this._dom.parentElement||this._dom).querySelectorAll("[data-bind-key="+t+"]")),i&&i.length&&[].forEach.call(i,(function(t){var i=t.dataset,r=i.bindAttr,n=i.bindStyle;void 0!==r?("boolean"==typeof e&&(e=e?"true":"false"),t.setAttribute("data-bind-attr",e)):void 0!==n?t.style[n]=e:t.innerText=e}))},t.prototype.attach=function(t,e){void 0===e&&(e={}),this.detach(),this._player=t,t.eventsNameMap[this.key]=this.extend.events,t.extend[this.key]=this.extend,this._extendPlayer(),this._initDom(),this._initStateBeforeOnPlayer(),this._onPlayer(),this._initStateAfterOnPlayer(),this._onPlugin()},t.prototype._extendPlayer=function(){},t.prototype._initDom=function(){},t.prototype._initStateBeforeOnPlayer=function(){},t.prototype._onPlayer=function(){},t.prototype._initStateAfterOnPlayer=function(){},t.prototype._onPlugin=function(){},t.prototype._detachExtra=function(){},t.prototype.detach=function(){if(this._player){for(var t in this.clear(),this._detachExtra(),this.extend.methods)delete this._player[this.extend.methods[t]];this._player=null,this._dom&&(this._dom=null,this._domStore={})}},t.prototype._getHistory=function(){var t=this._player,e=this._defaultHistory,i={};for(var r in this.extend.history){var n=t.history.get(this.extend.history[r]);i[r]=void 0!==n?n:e[r]}return i},t}(),ft=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();et||(et={}),function(t){t.vid="vid",t.mkey="mkey",t.resourceId="resourceId",t.resourceType="resourceType"}(it||(it={})),function(t){t.reload="reload"}(rt||(rt={})),function(t){t.getUrlByVid="getUrlByVid",t.reload="reload"}(nt||(nt={}));var dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="src-loader",e.extend={events:rt,properties:it,methods:nt,history:et},e}return ft(e,t),e.prototype._extendPlayer=function(){this._player&&(this._player[this.extend.methods.getUrlByVid]=this.videoLoader.bind(this),this._player[this.extend.methods.reload]=this.reload.bind(this))},e.prototype.getResourceType=function(t){var e;switch(t){case"douga":e=2;break;case"bangumi":e=1;break;default:e=0}return e},e.prototype.videoLoader=function(t,e,i,r){return this._player&&(this._player[this.extend.properties.vid]=t),ct(t,e,i,r)},e.prototype.reload=function(t,e,i,r){var n=this;return this._player&&(this._player.isLive?this._player.load(this._player.currentSrc):(t=t||this._player[this.extend.properties.vid],e=e||this._player[this.extend.properties.mkey],i=i||this._player.contentId,r=r||this.getResourceType(this._player.contentType),t&&e?this.videoLoader(t,e,i,r).then((function(i){var r;if(n._player[n.extend.properties.mkey]=e,i.data&&0==i.data.result&&i.data.playInfo){var o=i.data.playInfo;try{r=o.ksPlayJson&&JSON.parse(o.ksPlayJson)}catch(t){r=null,console.log(t)}!r&&o.streams&&o.streams[0]&&o.streams[0].playUrls&&o.streams[0].playUrls[0]&&(r=i.data.playInfo.streams[0].playUrls[0]),n._player&&r&&(n._player.emit(n.extend.events.reload,t),n._player.autoplay=!0,n._player.load(r),console.log("reload",t))}else console.log(i.data&&i.data.error_msg)})):console.log("vid不存在reload失败"))),t},e}(lt),ht=i(144),pt=i.n(ht);i(360);var _t,vt,mt,gt,yt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();_t||(_t={}),vt||(vt={}),function(t){t.toggleLoading="toggleLoading",t.FirstLoadingShowed="FirstLoadingShowed"}(mt||(mt={})),gt||(gt={});var Et,wt,At,bt,St=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="loading",e.extend={events:mt,properties:vt,methods:gt,history:_t},e}return yt(e,t),e.prototype._initDom=function(){if(this._player){var t=this._player.$innerPlugins;this._dom=((e=document.createElement("div")).className="preloader",e.innerHTML=pt.a,e),t.appendChild(this._dom)}var e},e.prototype._onPlayer=function(){!function(t){var e,i=t,r=i._player,n=300,o=!0,a=function(){e&&(clearTimeout(e),1e3===n&&(r.emit(i.extend.events.FirstLoadingShowed,!1),n=300))},s=function(t){void 0===t&&(t=300),a(),n=t,e=setTimeout((function(){1e3===t&&r.emit(i.extend.events.FirstLoadingShowed,!0),i._dom.style.display="block",e=null}),t)},u=function(){a(),i._dom.style.display="none"};s(1e3),i.on("toggleLoading",(function(t){t?s():u()})),i.on("beforeKernelLoaded",(function(){o=!0})),i.on("canplay",(function(){u(),o=!1})),i.on("playing",(function(){u()}));var c=window,l=navigator.userAgent.indexOf("Edge")>-1,f=!!c.ActiveXObject||"ActiveXObject"in c;(l||f)&&i.on("timeupdate",(function(){u()})),i.on("waiting",(function(){o?(s(1e3),o=!1):s()}))}(this)},e}(lt),Tt=function(t,e,i,r,n){void 0===e&&(e={}),void 0===i&&(i="CLICK_EVENT"),void 0===r&&(r=!0);var o=window;if(e.playerVersion=n?"beta":"main",o.weblog)try{o.weblog.sendImmediately(t,e,i)}catch(t){console.log(t)}else console.log({evtName:t,info:e,type:i})},xt=function(){return(xt=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},Lt=window,Ct=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Et||(Et={}),wt||(wt={}),function(t){t.initLogParams="initLogParams"}(At||(At={})),bt||(bt={});var It=function(t){function e(e){var i=t.call(this)||this;i.key="log",i.beta=!1,i.extend={events:At,properties:wt,methods:bt,history:Et},i._ac=null,i._ab=null;var r=(e||{}).beta,n=void 0!==r&&r;return i.beta=!!n,i}return Ct(e,t),e.prototype._onPlayer=function(){!function(t){var e=function(e,i,r,n){void 0===i&&(i={}),void 0===r&&(r="CLICK_EVENT"),void 0===n&&(n=!0),/(headless|bot|spider)/.test(navigator.userAgent.toLowerCase())||Tt(e,i,r,n,t.beta)},i=function(t,i){try{var r={vid:String(i.vid),acid:String(i.acId||0),web_page_load_duration:i.web_page_load_duration||0,is_advanced_danmaku_video:!!i.is_advanced_danmaku_video};i.duration&&(r.click_to_video_start_load=i.duration),e("VP_WEB_SUMMARY_STAT",{meta:r,playType:i.live?"live":"vod",qos:t.getAudienceStat()},"CLICK_EVENT",!1)}catch(t){console.warn(t)}};if(Lt.weblog){var r=t,n=r._player,o=0,a=0,s=!0,u=!0,c=0,l={},f="small",d=!1,h=null,p={req_id:Lt.weblog.impr.getCurrentReqID(),group_id:Lt.weblog.impr.getCurrentGroupID(),ac_id:"0",atom_id:"0",album_id:"0",player_type:"html5"};r.on("initLogParams",(function(t,e,i){n.acId=p.ac_id=String(t||0),n.albumId=p.album_id=String(e||0),i&&(p.resourceType=i)}));var _=!0;r.on("kernelLoaded",(function(){p.atom_id=String(r._player.vid),s=!0;var t=(new Date).getTime()-Lt.performance.timing.navigationStart;if(Lt.ksLog&&_){if(/(headless|bot|spider)/.test(navigator.userAgent.toLowerCase()))return;Lt.ksLog.sendAction({event:"performance",timeData:[{name:"kernelLoaded",duration:t}]})}_=!1})),r.on("report",(function(t){var o,a={meta:{vid:String(p.atom_id),acid:String(p.ac_id||0),isPlayingAdvancedDanmaku:!(!n.isAdvancedDanmakuVideo||!n.isPlayingAdvancedDanmaku)},playType:n.isLive?"live":"vod",qos:t.value};switch(t.type){case"realtimeBeacon":o="VP_WEB_PLAY_STAT";break;case"download":if(o="VP_WEB_PLAY_DOWNLOAD",t.value&&t.value.error_code&&1003===t.value.error_code){var s=t.value.download_url.split("?")[0];l[s]?(l[s].errorCount++,2===l[s].errorCount&&(l[s].errorCount=0,l[s].reloadCount++,l[s].reloadCount<4&&i(n.kernel._kernel,{vid:r.vid,acId:p.ac_id,live:r.isLive,duration:h,is_advanced_danmaku_video:!!r._player.isAdvancedDanmakuVideo}))):l[s]={errorCount:1,reloadCount:0}}break;default:return}e(o,a,"CLICK_EVENT")})),r.on("play",(function(){var t=Object.assign({},p,{joy_sound_on_off:n.joysoundSwitch?1:0});if(s)return o=(new Date).getTime(),e("VIDEO_PLAY",t,"CLICK_EVENT"),void(s=!1);o=(new Date).getTime(),e("VIDEO_RESUME",t,"CLICK_EVENT")})),r.on("pause",(function(){a=(new Date).getTime();var t=Object.assign({},p,{play_duration:o>0?a-o:0,joy_sound_on_off:n.joysoundSwitch?1:0});e("VIDEO_PAUSE",t,"CLICK_EVENT"),o=a})),r.on("initChange",(function(){a=(new Date).getTime();var t=Object.assign({},p,{play_duration:o>0?a-o:0,joy_sound_on_off:n.joysoundSwitch?1:0});e("VIDEO_PAUSE",t,"CLICK_EVENT"),o=a})),r.on("ended",(function(){s=!0,a=(new Date).getTime();var t=Object.assign({},p,{play_duration:o>0?a-o:0,joy_sound_on_off:n.joysoundSwitch?1:0});e("VIDEO_OVER",t,"CLICK_EVENT"),o=a})),r.on("loadedmetadata",(function(){a=(new Date).getTime();var t=Object.assign({},p,{play_duration:o>0?a-o:0});e("VIDEO_BUFFER_BEGIN",t,"CLICK_EVENT"),o=a})),r.on("canplay",(function(){o=(new Date).getTime(),e("VIDEO_BUFFER_OVER",p,"CLICK_EVENT")})),r.on("customRateChanged",(function(t,i){var r=Object.assign({},p,{from:i,to:t});e("SPEED_OF_PLAY",r,"CLICK_EVENT")}));var v={false:"small",web:"webpage_large",screen:"table_large"};r.on("fullScreenChange",(function(t){if(f=v[t],d!==t){d=t;var i=Object.assign({},p,{screen:f});e("SWITCH_SMALL_LARGE_SCREEN",i,"CLICK_EVENT")}})),r.on("filmModeChanged",(function(t){if(t){var i=Object.assign({},p,{screen:"movie_mode"});e("SWITCH_SMALL_LARGE_SCREEN",i,"CLICK_EVENT")}})),r.on("danmakuSendSucceeded",(function(){e("TIP_DANMAKU",p,"CLICK_EVENT")})),r.on("danmakuEnabledChanged",(function(t){var i=Object.assign({},p,{on:t});e("CLICK_DANMAKU_SWITCH",i,"CLICK_EVENT")})),r.on("loopChanged",(function(t){var i=Object.assign({},p,{status:t,model:f});e("LOOP_PLAY_SWITCH",i,"CLICK_EVENT")})),r.on("kernelerror",(function(t){var i="VIDEO_UNUSUAL_OVER";104===t.code&&(i="VIDEO_INITIALIZE_FAIL"),e(i,p,"CLICK_EVENT")})),r.on("customLevelSwitched",(function(t,i){var r=Object.assign({},p,{from:i,to:t});e("SWITCH_DEFINITION",r,"CLICK_EVENT")})),r.on("adClick",(function(t,i){var r=Object.assign({},p,{is_ad:t,link:i,name:""});e("CLICK_DANMAKU_AD",r,"CLICK_EVENT")})),r.on("pageLoad",(function(t){u&&t<=3e4&&(c=t,u=!u)})),r.on("summaryReport",(function(t){i(n.kernel._kernel,{vid:r._player.vid,acId:p.ac_id,live:r._player.isLive,web_page_load_duration:c,duration:h,is_advanced_danmaku_video:!!r._player.isAdvancedDanmakuVideo}),h=t,c=0})),r.on("fullMemberShow",(function(){e("FULL_MEMBER_ALERT_SHOW",p,"SHOW_EVENT")})),r.on("becomeFullMember",(function(){e("BECOME_FULL_MEMBER_RIGHT_NOW_BUTTON_CLICK",p,"SHOW_EVENT")})),r.on("FirstLoadingShowed",(function(t){var i=p.req_id,r=p.atom_id,n=p.group_id,o=p.album_id,a=p.ac_id;e("LOADING_ANIMATION",{req_id:i,atom_id:r,group_id:n,album_id:o,ac_id:a,loading:t?1:0},"SHOW_EVENT")})),["developModeChange","closeLightChange","danmakuAllowOverlapChanged","doScreenshot","downLoadImage","makeGif","danmakuFontScaleChanged","danmakuSpeedScaleChanged","danmakuAreaChanged"].forEach((function(t){r.on(t,(function(i){var r=p.req_id,n=p.atom_id,o=p.group_id,a=p.album_id,s=p.ac_id;e(t,{req_id:r,atom_id:n,group_id:o,album_id:a,ac_id:s,val:i},"CLICK_EVENT")}))})),r.on("pauseDisplayClickActivityEntrence",(function(t){p.req_id;var i=p.atom_id,r=(p.group_id,p.album_id,p.ac_id);e("OPERATION_ACTIVITY_ENTRENCE",{url:t,position:"video_pause",content_type:"activity",ac_id:r,atom_id:i},"CLICK_EVENT")})),r.on("toggleAdvancedDanmakuLauncher",(function(){var t=p.req_id,i=p.atom_id,r=p.group_id,n=(p.album_id,p.ac_id);e("CAKE_BUTTON",{req_id:t,group_id:r,ac_id:n,atom_id:i},"TASK_EVENT")})),r.on("sendAdvancedDanmaku",(function(){var t=p.req_id,i=p.atom_id,r=p.group_id,n=(p.album_id,p.ac_id);e("SPECIAL_DANMAKU_SEND_BUTTON",{req_id:t,group_id:r,ac_id:n,atom_id:i},"TASK_EVENT")})),r.on("exitAdvancedDanmakuLauncher",(function(){var t=p.req_id,i=p.atom_id,r=p.group_id,n=(p.album_id,p.ac_id);e("SPECIAL_DANMAKU_QUIT_BUTTON",{req_id:t,group_id:r,ac_id:n,atom_id:i},"TASK_EVENT")})),n.on("danmakuBlockedChanged",(function(t){var i=t.advanced,r=void 0!==i&&i,n=p.req_id,o=p.atom_id,a=p.group_id,s=(p.album_id,p.ac_id);e("HIGH_DANMAKU_SHIELDING_BUTTON",{req_id:n,group_id:a,ac_id:s,atom_id:o,switch_status:r?0:1},"TASK_EVENT")})),r.on("videoPostProcessChange",(function(t){var i=p.atom_id,n=p.ac_id,o=r._player.kernel._kernel.getAudienceStat().session_id;t.page_avg_fps=Math.round(t.page_avg_fps),e("SWITCH_VIDEO_FILTER",xt({session_id:o,ac_id:n,atom_id:i},t),"CLICK_EVENT")})),r.on("danmakuShow",(function(t){e("DANMAKU_SHOW",{cont_type:"video"==p.resourceType?"douga_atom":"bangumi_atom",content_id:p.atom_id,parent_content_id:p.ac_id,group_id:p.group_id,danmaku_list:t},"ELEMENT_SHOW_EVENT")})),r.on("danmakuContextMenuShow",(function(t){e("DANMAKU_POPUP_WINDOW",{cont_type:"video"==p.resourceType?"douga_atom":"bangumi_atom",content_id:p.atom_id,parent_content_id:p.ac_id,group_id:p.group_id,is_full_screen:t?1:0},"ELEMENT_SHOW_EVENT")})),r.on("danmakuContextMenuClick",(function(t){e("CLICK_DANMAKU_POPUP_WINDOW",{cont_type:"video"==p.resourceType?"douga_atom":"bangumi_atom",content_id:p.atom_id,parent_content_id:p.ac_id,group_id:p.group_id,is_full_screen:t.isFull?1:0,type:t.type},"TASK_EVENT")})),r.on("danmakuLike",(function(){e("LIKE_DANMAKU_BUTTON",{cont_type:"video"==p.resourceType?"douga_atom":"bangumi_atom",content_id:p.atom_id,parent_content_id:p.ac_id,group_id:p.group_id,type:"like"})})),r.on("danmakuCancelLike",(function(){e("LIKE_DANMAKU_BUTTON",{cont_type:"video"==p.resourceType?"douga_atom":"bangumi_atom",content_id:p.atom_id,parent_content_id:p.ac_id,group_id:p.group_id,type:"cancel_like"})})),r.on("joysoundToggle",(function(t){e("JOY_SOUND_SETTING",{on_off:t?1:0})}))}}(this)},e}(lt),Dt=i(145),Ot=i.n(Dt);i(363);var Rt,kt,Nt,Mt,Pt=function(t){var e,i=t,r=i._player;i.on("kernelLoaded",(function(){e=r.vid}));var n={},o=function(t,e,r){void 0===e&&(e=2e3),void 0===r&&(r="");var o=null;if(r&&(n[r]&&(clearTimeout(n[r]),n[r]=null),o=i.domStore(".tip-item."+r,!0)),!t)return o&&o.parentNode.removeChild(o),void(o=null);o||((o=document.createElement("div")).className="tip-item "+r),o.innerHTML=t,i._dom.appendChild(o);var a=setTimeout((function(){o&&o.parentNode&&(o.parentNode.removeChild(o),o=null)}),e);r&&(n[r]=a)};i._dom.addEventListener("click",(function(t){var e=t.target;e.classList.contains("btn-close")?t.target.parentNode.parentNode.removeChild(t.target.parentNode):e.classList.contains("btn-restart")?(r.seek(0),t.target.parentNode.parentNode.removeChild(t.target.parentNode)):e.classList.contains("btn-close-muted")&&(r.muted=!1,t.target.parentNode.parentNode.removeChild(t.target.parentNode))}));var a=[];i.on("levelsChanged",(function(t){a=t}));var s={};i.on("levelSwitching",(function(t){t.bitrate;var e=t.level,i=(t.smooth,t.auto),r=t.id;if(s[r]=!0,!i&&a[e]){var n=a[e].qualityLabel;o('<div class="left-bottom-tip-text"><span>正在切换至</span><span class="danger">'+n+'</span>，请稍候</div> <div class="btn-close" title="关闭"></div>',5e3,"level")}})),i.on("levelSwitched",(function(t){t.bitrate;var e=t.level,i=(t.smooth,t.auto),n=t.id;if(!i&&a[e]&&"playing"!==r.status){var u=a[e].qualityLabel;o('<div class="left-bottom-tip-text"><span>已切换至</span><span class="danger">'+u+"</span></div>",2e3,"level"),delete s[n]}})),i.on("levelSwitchPlaying",(function(t){t.bitrate;var e=t.level,i=(t.smooth,t.auto),n=t.id;if(!i&&a[e]&&"playing"===r.status&&s[n]){var u=a[e].qualityLabel;o('<div class="left-bottom-tip-text"><span>已切换至</span><span class="danger">'+u+"</span></div>",2e3,"level")}delete s[n]})),i.on("levelSwitchFailed",(function(t){t.bitrate;var e=t.level;t.smooth;if(!t.auto&&a[e]){a[e].qualityLabel;o('<div class="left-bottom-tip-text"><span>清晰度切换失败</span></div>',2e3,"level")}})),i.on("ratechange",(function(t){if(!r.isLive&&!r.isLiveUI){var e='<div class="left-bottom-tip-text"><span>正在</span><span class="danger">'+t.target.playbackRate+"</span><span>倍速播放</span></div>";o(e,2e3,"ratechange")}})),i.on("customVolumeChange",(function(t){var e='<div class="left-bottom-tip-text"><span>当前音量:</span><span class="danger">'+Math.floor(100*t)+"</span></div>";o(e,2e3,"volume")}));var u=!1;i.on("error",(function(t){var e="播放器错误:"+t.code;o(e,5e3,"error"),u=!0})),i.on("customError",(function(t){o(t,5e3,"error"),u=!0})),i.on("kernelerror",(function(t){console.log("内核错误",t);var e="内核错误:";/15\d{2}|505|508/.test(t.code)?e+="抱歉，当前内容需要使用Chrome浏览器观看":e+=t.code,o(e,5e4,"error"),u=!0})),i.on("showLeftBottomTip",(function(t,e){void 0===e&&(e=2e3),o(t,e)}));var c=!1;i.on("beforeKernelLoaded",(function(){if(i._dom.innerHTML="",(e=r.vid)&&r.autoplay&&!r.isLive&&!r.isLiveUI){c=!0;var t=1*r.startFromSec||0,n=1*r.playHistory.get(e);r.startFromSec=Math.max(t,n)}})),i.on("canplay",(function(t){c?function(){if(c=!1,e&&r.autoplay&&!r.isLive&&!r.isLiveUI&&r.currentTime>0){var t=r.currentTime;if(t<5)return;var i=t/3600,n=(t-60*(i=Math.floor(i))*60)/60,a=t-60*i*60-60*(n=Math.floor(n));i<=0?i="":i<10&&(i="0"+i),n<10&&(n="0"+n),(a=Math.floor(a))<10&&(a="0"+a),o('<div class="left-bottom-tip-text"><span>已从</span>\n                            <span style="margin: 0 4px;">'+(i?i+":"+n+":"+a:n+":"+a)+'</span>\n                            <span>继续播放</span>\n                        </div>\n                        <div class="btn-restart">重新开始</div>\n                        <div class="btn-close" title="关闭"></div>',7e3,"history")}}():u&&(o("",0,"error"),u=!1)}));var l=!0;i.on("play",(function(t){if(l&&(l=!1,r.muted)){o('<div class="left-bottom-tip-text"><span>当前为静音状态</span>\n                        </div>\n                        <div class="btn-close-muted">打开声音</div>\n                        <div class="btn-close" title="关闭"></div>',7e3,"muted")}})),i.on("joysoundToggle",(function(t){o('<div class="left-bottom-tip-text"><span>已'+(t?"打开":"关闭")+"JoySound音效</span>\n            </div>",7e3,"joysoundToggle")}));var f=function(){e&&r.currentTime&&r.currentTime>5&&r.duration-r.currentTime>5?r.playHistory.set(e,r.currentTime):r.playHistory.set(e,null)};r.on("reload",(function(){f()})),i.on("timeupdate",f)},Ut=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Rt||(Rt={}),function(t){t.showLeftBottomTip="showLeftBottomTip"}(kt||(kt={})),Nt||(Nt={}),Mt||(Mt={});var Bt,Ft,Kt,jt,Vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="tips",e.extend={events:Nt,properties:kt,methods:Mt,history:Rt},e}return Ut(e,t),e.prototype._initDom=function(){if(this._player){var t=this._player.$innerPlugins;this._dom=((e=document.createElement("div")).className="left-bottom-tip",e.innerHTML=Ot.a,e),t.appendChild(this._dom)}var e},e.prototype._onPlayer=function(){Pt(this)},e.prototype._onPlugin=function(){},e}(lt),Ht=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Bt||(Bt={}),Ft||(Ft={}),Kt||(Kt={}),jt||(jt={});var qt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="onerror",e.extend={events:Kt,properties:Ft,methods:jt,history:Bt},e}return Ht(e,t),e.prototype._onPlayer=function(){var t,e;e={},(t=this).on("report",(function(i){if("download"==i.type&&i.value&&i.value.error_code&&1003===i.value.error_code){var r=i.value.download_url.split("?")[0];e[r]?(e[r].errorCount++,2===e[r].errorCount&&(e[r].errorCount=0,e[r].reloadCount++,e[r].reloadCount<4&&t._player&&(t._player.autoplay=!0,t._player.reload(t.vid)))):e[r]={errorCount:1,reloadCount:0}}}))},e.prototype._onPlugin=function(){},e.prototype._detachExtra=function(){},e}(lt),Gt=i(146),zt=i.n(Gt);i(366);var Wt,Xt,Yt,Qt,Jt=i(370),Zt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Wt||(Wt={}),function(t){t.toggleVipPop="toggleVipPop"}(Xt||(Xt={})),Yt||(Yt={}),Qt||(Qt={});var $t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="vip_pop",e.extend={events:Yt,properties:Xt,methods:Qt,history:Wt},e._store={vipPopState:"false"},e}return Zt(e,t),e.prototype.store=function(t,e){this._player&&(this._setStore(t,e),this._bindDom(t,this._store[t]))},e.prototype._setStore=function(t,e){!function(t,e,i){var r=t;switch(e){case"vipPopState":"false"===i?r._dom.classList.add("hide"):r._dom.classList.remove("hide")}r._store[e]=i}(this,t,e)},e.prototype._initDom=function(){if(this._player){var t=this._player.$innerPlugins;this._dom=((e=document.createElement("div")).className="vipPop hide",e.innerHTML=zt.a,e),t.appendChild(this._dom)}var e},e.prototype._onPlayer=function(){var t;(t=this).on("toggleVipPop",(function(e){e&&t._player.emit("toggleLoading",!1),t.store("vipPopState",e?"needVip":"false")}))},e.prototype._onPlugin=function(){!function(t){var e=t,i=b.uid.length>0;e._player;e.domStore(".part-need-vip>img").src=Jt,e.domStore(".btn-goto-vip").addEventListener("click",(function(){i?(e.store("vipPopState","tobeVip"),e._player.emit("fullMemberShow")):location.href="/login/?returnUrl="+encodeURIComponent(location.href)})),e.domStore(".btn-tobe-vip").addEventListener("click",(function(){e._player.emit("becomeFullMember"),window.open("/member/#area=splash;answer=true")})),e.domStore(".btn-close").addEventListener("click",(function(){e.store("vipPopState","needVip")}))}(this)},e}(lt);H.defaultConfig.plugins=[new q,new dt,new Vt,new St,new It,new qt,new $t];var te=H;e.default=te}]).default}));